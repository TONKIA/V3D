{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0675","webpack:///./src/views/Show.vue?179a","webpack:///./src/plugins/vuetify.js","webpack:///./src/App.vue?20ef","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?f8ad","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?cc46","webpack:///./src/views/Home.vue","webpack:///./src/views/Login.vue?56e8","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?593c","webpack:///./src/views/Login.vue","webpack:///./src/views/Create.vue?767f","webpack:///./src/plugins/OBJLoader.js","webpack:///./src/plugins/FBXLoader.js","webpack:///./src/components/ThreeStage/index.vue?955c","webpack:///./src/components/ThreeStage/plugins/OrbitControls.js","webpack:///./src/components/ThreeStage/plugins/OBJLoader.js","webpack:///./src/components/ThreeStage/plugins/FBXLoader.js","webpack:///src/components/ThreeStage/index.vue","webpack:///./src/components/ThreeStage/index.vue?23d7","webpack:///./src/components/ThreeStage/index.vue","webpack:///src/views/Create.vue","webpack:///./src/views/Create.vue?5261","webpack:///./src/views/Create.vue","webpack:///./src/views/Show.vue?98c0","webpack:///src/views/Show.vue","webpack:///./src/views/Show.vue?32ed","webpack:///./src/views/Show.vue","webpack:///./src/views/Refuse.vue?95e8","webpack:///src/views/Refuse.vue","webpack:///./src/views/Refuse.vue?c873","webpack:///./src/views/Refuse.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Show_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Show_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Vue","use","Vuetify","iconfont","Appvue_type_template_id_27e83e6c_render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","App_component","componentNormalizer","App","Homevue_type_template_id_041ee75e_render","dark","id","fixed","model","callback","$$v","drawer","expression","staticClass","avatar","on","click","$event","avatarUpload","src","domProps","textContent","_s","userName","dense","userDialog","_v","logout","color","stopPropagation","clearable","solo-inverted","flat","hide-details","label","prepend-inner-icon","keyword","createDialog","schemeList","fluid","fill-height","justify-center","align-center","text-xs-center","grid-list-md","row","wrap","_l","item","index","indexOf","sid","xs12","sm6","md3","cover","height","pa-2","align-end","flexbox","icon","edit","share","del","_e","py-3","white--text","width","schemeName","createScheme","persistent","max-width","shareDialog","light","isShared","outline","readonly","shareLink","ref","staticStyle","display","column","justify-end","text-align","small","copyIframe","copyLink","saveQR","hasPassword","type","showPassword","disabled","append-icon","click:append","sharePassword","saveShare","xs9","box","newName","xs3","large","changeName","pwd","repwd","block","changePwd","field","url","img-format","crop-upload-success","cropUploadSuccess","Homevue_type_template_id_041ee75e_staticRenderFns","Homevue_type_script_lang_js_","components","avatar-upload","upload_2","shareIndex","methods","_this","$http","post","then","console","info","body","code","error","_this2","password","_this3","$router","scheme","qrious_default","a","element","$refs","qr","size","level","foreground","background","style","select","document","execCommand","iframLink","createElement","href","toDataURL","download","event","createEvent","initEvent","dispatchEvent","_this4","_this5","watch","created","_this6","userInfo","views_Homevue_type_script_lang_js_","Home_component","Home","installComponents_default","VApp","VBtn","VCard","VCardActions","components_VCard","VCardText","VCardTitle","VContainer","VContent","VDialog","VDivider","VFlex","VFooter","VIcon","VImg","VLayout","VList","VListTile","VListTileAction","VListTileAvatar","VListTileContent","components_VList","VListTileTitle","VNavigationDrawer","VSpacer","VGrid","VSwitch","VTextField","VToolbar","VToolbarItems","components_VToolbar","VToolbarSideIcon","VToolbarTitle","Loginvue_type_template_id_5bb64acc_render","position","margin","dismissible","transition","alert","msg","sm12","md4","bottom","scopedSlots","_u","fn","_g","prepend-icon","mask","phoneNumber","login","Loginvue_type_template_id_5bb64acc_staticRenderFns","Loginvue_type_script_lang_js_","beforeCreate","views_Loginvue_type_script_lang_js_","Login_component","Login","VAlert","VForm","VTooltip","Createvue_type_template_id_15f917e8_render","absolute","clipped","mainDrawer","xs6","componentDialog","componentName","proxy","subItem","subIndex","fid","modelChange","modelSelected","textures","grid-list-sm","xs2","d-flex","tile","textureChange","path","aspect-ratio","ma-0","indeterminate","componentIndex","waitUploadList","uploadDrawer","textureDialog","addComponentDialog","two-line","max","cameraControll","heightMax","min","$set","distanceMax","clipped-left","settingDialog","refresh","saveScheme","exitDialog","background-color","components-info","componentsInfo","camera-controll","right","temporary","multiple","accept","change","fileChange","_f","ripple","file","uploadModel","textureFileChange","xs1","delTexture","textureFile","slider-color","tabActive","single-line","full-width","models","delModel","round","delComponent","item-text","item-children","addComponent","uploadingDialog","downloadingDialog","fullscreen","hide-overlay","saveSetting","three-line","subheader","shrink","sm8","sm4","align-self-end","Createvue_type_template_id_15f917e8_staticRenderFns","THREE","object_pattern","material_library_pattern","material_use_pattern","ParserState","state","objects","vertices","normals","colors","uvs","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","undefined","_finalize","geometry","materials","smooth","startMaterial","libraries","previous","inherited","groupCount","material","mtllib","is_array_default","groupStart","groupEnd","clone","cloned","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parse_int_default","parseNormalIndex","parseUVIndex","addVertex","b","dst","addVertexPoint","addVertexLine","addNormal","addColor","addUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","uvLen","nLen","addPointGeometry","vi","addLineGeometry","uvi","OBJLoader","manager","constructor","load","onLoad","onProgress","onError","scope","loader","setPath","text","parse","setMaterials","time","replace","lines","split","line","lineFirstChar","lineLength","trimLeft","trim","charAt","parse_float_default","lineData","substr","vertexData","faceVertices","jl","vertex","vertexParts","v1","v2","v3","lineParts","substring","lineVertices","lineUVs","li","llen","parts","pointData","exec","test","Error","toLowerCase","container","concat","isLine","isPoints","hasVertexColors","buffergeometry","addAttribute","computeVertexNormals","mesh","createdMaterials","miLen","sourceMaterial","materialPoints","sizeAttenuation","copy","map","lights","materialLine","flatShading","vertexColors","addGroup","add","timeEnd","fbxTree","connections","sceneGraph","FBXLoader","FBXTreeParser","textureLoader","GeometryParser","AnimationParser","TextParser","BinaryParser","BinaryReader","buffer","littleEndian","dv","DataView","offset","FBXTree","isFbxFormatBinary","CORRECT","byteLength","convertArrayBufferToString","isFbxFormatASCII","cursor","read","num","getFbxVersion","versionRegExp","match","version","convertFBXTimeToSeconds","crossOrigin","self","extractUrlBase","setResponseType","setTimeout","itemError","setResourcePath","resourcePath","setCrossOrigin","FBXBuffer","FBXText","parseConnections","images","parseImages","parseTextures","parseMaterials","deformers","parseDeformers","geometryMap","parseScene","connectionMap","map_default","rawConnections","Connections","forEach","rawConnection","fromID","toID","relationship","has","set","parents","children","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","ArrayBuffer","base64Content","image","parseImage","filename","pop","content","fileName","extension","lastIndexOf","warn","Handlers","tgaLoader","array","Uint8Array","URL","createObjectURL","Blob","textureMap","textureNodes","Texture","texture","parseTexture","textureNode","loadTexture","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","wrapS","wrapT","values","Scaling","repeat","x","y","currentPath","FileName","materialMap","materialNodes","Material","parseMaterial","materialNode","ShadingModel","esm_typeof","parameters","parseParameters","setValues","BumpFactor","bumpScale","Diffuse","fromArray","DiffuseColor","DisplacementFactor","displacementScale","Emissive","emissive","EmissiveColor","EmissiveFactor","emissiveIntensity","Opacity","opacity","transparent","ReflectionFactor","reflectivity","Shininess","shininess","Specular","specular","SpecularColor","child","bumpMap","getTexture","aoMap","displacementMap","emissiveMap","normalMap","envMap","mapping","specularMap","alphaMap","LayeredTexture","skeletons","morphTargets","DeformerNodes","Deformer","deformerNode","relationships","attrType","skeleton","parseSkeleton","geometryID","morphTarget","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","indices","weights","transformLink","TransformLink","Indexes","Weights","bones","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","filter","modelMap","parseModels","modelNodes","Model","modelNode","setLookAtProperties","parentConnections","connection","parent","bindSkeleton","createAmbientLight","setupMorphMaterials","traverse","node","userData","transformData","parentMatrixWorld","matrix","transform","generateTransform","applyMatrix","animations","isGroup","buildSkeleton","createCamera","createLight","createMesh","createCurve","sanitizeNodeName","getTransformData","bone","subBone","matrixWorld","cameraAttribute","attr","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","innerWidth","innerHeight","AspectWidth","AspectHeight","aspect","fov","FieldOfView","focalLength","FocalLength","setFocalLength","lightAttribute","LightType","Color","intensity","Intensity","CastLightOnObject","distance","FarAttenuationEnd","EnableFarAttenuation","decay","angle","Math","PI","InnerAngle","degToRad","penumbra","OuterAngle","CastShadows","castShadow","attributes","FBX_Deformer","skinning","normalizeSkinWeights","reduce","geo","linewidth","inheritType","InheritType","eulerOrder","getEulerOrder","RotationOrder","translation","Lcl_Translation","preRotation","PreRotation","rotation","Lcl_Rotation","postRotation","PostRotation","scale","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","pos","target","lookAt","bindMatrices","parsePoseNodes","geoRelationships","geoConnParent","BindPoseNode","Pose","poseNodes","PoseNode","poseNode","Node","Matrix","GlobalSettings","ambientColor","AmbientColor","g","isMesh","morphAttributes","setupMorphMaterial","uuid","matUuid","sharedMat","mat","clonedMat","geoNodes","Geometry","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","buffers","genBuffers","positionAttribute","applyToBufferAttribute","weightsIndices","vertexWeights","normal","normalAttribute","normalMatrix","getNormalMatrix","uvBuffer","toString","mappingType","prevMaterialIndex","materialIndex","startIndex","currentIndex","groups","lastGroup","lastIndex","start","count","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","uv","parseUVs","weightTable","weight","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","currentWeight","comparedWeight","comparedWeightIndex","comparedWeightArray","tmp","genFace","parentGeo","parentGeoNode","rawTarget","morphGeoNode","genMorphGeometry","morphGeo","morphPositions","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UV","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","order","Order","isNaN","startKnot","endKnot","degree","knots","KnotVector","controlPoints","pointsValues","Points","Form","curve","getPoints","positions","Float32Array","toArray","animationClips","rawClips","parseClips","rawClip","clip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","curves","rawCurves","animationCurve","times","KeyTime","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","z","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","morph","deformerID","morpherID","morphName","rawStacks","AnimationStack","layer","tracks","rawTracks","generateTracks","decompose","setFromQuaternion","T","keys_default","positionTrack","generateVectorTrack","R","rotationTrack","generateRotationTrack","S","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","setFromEuler","inverse","quaternion","euler","quaternionValues","premultiply","multiply","val","morphNum","getObjectByName","morphTargetDictionary","sort","elem","prevValue","xIndex","yIndex","zIndex","xValue","yValue","zValue","valuesSpan","absoluteSpan","abs","numSubIntervals","step","nextValue","initialTime","timeSpan","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","allNodes","matchComment","matchEmpty","matchBeginning","matchProperty","matchEnd","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","nodeName","nodeAttrs","parseNodeAttr","currentNode","contentLine","propName","propValue","parentName","connProps","from","to","rest","append","parseNumberArray","parseNodeSpecialProperty","props","prop","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","type2","flag","reader","skip","getUint32","log","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getUint8","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","keys","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getArrayBuffer","getInt16","arrayLength","encoding","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","Zlib","inflate","Inflate","reader2","decompress","low","high","nullByte","decodeText","dataArray","infoObject","tempEuler","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lGlobalT","setPosition","makeRotationFromEuler","lLRM","lParentGRM","extractRotation","lLSM","lParentGSM","lParentGRSM","lGlobalRS","lParentTM","copyPosition","getInverse","lParentLSM","lParentGSM_noLocal","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","a1","a2","ThreeStagevue_type_template_id_053d82b9_render","border","padding","_t","ThreeStagevue_type_template_id_053d82b9_staticRenderFns","domElement","enabled","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MIDDLE","target0","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","reset","updateProjectionMatrix","changeEvent","update","STATE","NONE","quat","setFromUnitVectors","up","quatInverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","radius","panOffset","setFromSpherical","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY_PAN","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","rotateUp","panLeft","v","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","isPerspectiveCamera","targetDistance","tan","clientHeight","isOrthographicCamera","left","clientWidth","top","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","needsUpdate","keyCode","preventDefault","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDollyPan","dx","dy","sqrt","handleTouchMoveRotate","handleTouchMoveDollyPan","handleTouchEnd","focus","button","ctrlKey","metaKey","shiftKey","addEventListener","create_default","define_properties_default","center","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","suportWebGL","canvas","WebGLRenderingContext","getContext","e","ThreeStagevue_type_script_lang_js_","reqId","camera","scene","three_module","control","mounted","$el","offsetWidth","offsetHeight","stage","renderer","antialias","preserveDrawingBuffer","alpha","onResize","animate","beforeDestroy","cancelAnimationFrame","setSize","setPixelRatio","devicePixelRatio","requestAnimationFrame","render","updateScene","modelIndex","textureIndex","textureSelected","modelObj","obj","textureObj","textureSize","visible","getCover","dataurl","arr","mime","bstr","atob","u8arr","charCodeAt","File","handler","deep","components_ThreeStagevue_type_script_lang_js_","ThreeStage_component","ThreeStage","Createvue_type_script_lang_js_","filters","fileSize","toFixed","files","formData","FormData","headers","Content-Type","uploadReply","JSON","threeStage","stringify_default","side","xhr","lengthComputable","remove","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","component","err","return","views_Createvue_type_script_lang_js_","Create_component","Create","VListGroup","VListTileSubTitle","VProgressCircular","VProgressLinear","VSlider","VSubheader","VTab","VTabItem","VTabs","Showvue_type_template_id_2aed136f_render","direction","fab","pulishDialog","getComment","commentDialog","passwordDialog","customer","pulish","scrollable","align-with-title","show-arrows","tab","buttom","Showvue_type_template_id_2aed136f_staticRenderFns","Showvue_type_script_lang_js_","commentList","getSchemeInfo","timeFilter","date","Date","setTime","month","getMonth","day","getDate","hour","getHours","getMinutes","getFullYear","_this7","views_Showvue_type_script_lang_js_","Show_component","Show","VSpeedDial","VTabsItems","VTabsSlider","Refusevue_type_template_id_6ce03339_render","Refusevue_type_template_id_6ce03339_staticRenderFns","Refusevue_type_script_lang_js_","views_Refusevue_type_script_lang_js_","Refuse_component","Refuse","Router","router","routes","Vuex","store","Store","mutations","actions","config","productionTip","VueResource","http","options","emulateJSON","emulateHTTP","h","$mount"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,IAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,IAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,qBAEAU,kFCtJA,IAAA0C,EAAAnC,EAAA,QAAAoC,EAAApC,EAAA2B,EAAAQ,GAAkeC,EAAG,gFCAre,IAAAC,EAAArC,EAAA,QAAAsC,EAAAtC,EAAA2B,EAAAU,GAAwfC,EAAG,4HCI3fC,OAAIC,IAAIC,OAAS,CACfC,SAAU,OCLZ,IAAIC,EAAM,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBE,MAAA,CAAO7B,KAAA,WAAiB,CAAA2B,EAAA,oBACzIG,EAAA,2BCAAC,EAAA,GAMIC,EAAYrE,OAAAsE,EAAA,KAAAtE,CAChBoE,EACET,EACAQ,GACF,EACA,KACA,KACA,MAIeI,EAAAF,sBClBXG,EAAM,WAAgB,IAAAZ,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,MAAA,CAAOO,KAAA,GAAAC,GAAA,YAA0B,CAAAV,EAAA,uBAA4BE,MAAA,CAAOS,MAAA,GAAAxD,IAAA,IAAoByD,MAAA,CAAQzC,MAAAyB,EAAA,OAAAiB,SAAA,SAAAC,GAA4ClB,EAAAmB,OAAAD,GAAeE,WAAA,WAAsB,CAAAhB,EAAA,UAAeiB,YAAA,QAAmB,CAAAjB,EAAA,eAAoBE,MAAA,CAAOgB,OAAA,KAAa,CAAAlB,EAAA,sBAA2BmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAA0B,cAAA,KAAwB,CAAAtB,EAAA,OAAYE,MAAA,CAAOqB,IAAA3B,EAAAsB,YAAkBlB,EAAA,uBAAAA,EAAA,qBAAsDwB,SAAA,CAAUC,YAAA7B,EAAA8B,GAAA9B,EAAA+B,cAAoC,WAAA3B,EAAA,UAA2BiB,YAAA,OAAAf,MAAA,CAA0B0B,MAAA,KAAY,CAAA5B,EAAA,aAAAA,EAAA,eAAoCmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAAiC,YAAA,KAAsB,CAAA7B,EAAA,sBAAAA,EAAA,UAAAJ,EAAAkC,GAAA,qBAAA9B,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,oBAAA9B,EAAA,eAAmKmB,GAAA,CAAIC,MAAA,SAAAC,OAA4B,CAAArB,EAAA,sBAAAA,EAAA,UAAAJ,EAAAkC,GAAA,cAAA9B,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,mBAAA9B,EAAA,eAA2JmB,GAAA,CAAIC,MAAAxB,EAAAmC,SAAoB,CAAA/B,EAAA,sBAAAA,EAAA,UAAAJ,EAAAkC,GAAA,qBAAA9B,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,0BAAA9B,EAAA,aAAuKE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,GAAAE,MAAA,GAAAxD,IAAA,KAA6C,CAAA6C,EAAA,uBAA4BmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBA,EAAAY,kBAAyBrC,EAAAmB,QAAAnB,EAAAmB,WAA2Bf,EAAA,mBAAAJ,EAAAkC,GAAA,SAAA9B,EAAA,YAAAA,EAAA,gBAA0EiB,YAAA,qBAAAf,MAAA,CAAwCgC,UAAA,GAAAC,gBAAA,GAAAC,KAAA,GAAAC,eAAA,GAAAC,MAAA,KAAAC,qBAAA,UAAyG3B,MAAA,CAAQzC,MAAAyB,EAAA,QAAAiB,SAAA,SAAAC,GAA6ClB,EAAA4C,QAAA1B,GAAgBE,WAAA,aAAuBhB,EAAA,YAAAA,EAAA,mBAAuCiB,YAAA,sBAAiC,CAAAjB,EAAA,SAAcE,MAAA,CAAOkC,KAAA,IAAUjB,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA6C,cAAA,KAAwB,CAAAzC,EAAA,UAAAJ,EAAAkC,GAAA,SAAAlC,EAAAkC,GAAA,4BAAA9B,EAAA,gBAAAJ,EAAA8C,WAAA7G,OAAAmE,EAAA,eAA+HE,MAAA,CAAOyC,MAAA,GAAAC,cAAA,KAA6B,CAAA5C,EAAA,YAAiBE,MAAA,CAAO2C,iBAAA,GAAAC,eAAA,KAAuC,CAAA9C,EAAA,UAAeiB,YAAA,6BAAAf,MAAA,CAAgD6C,iBAAA,KAAqB,CAAAnD,EAAAkC,GAAA,0BAAA9B,EAAA,eAAqDE,MAAA,CAAOyC,MAAA,GAAAK,eAAA,KAA8B,CAAAhD,EAAA,YAAiBE,MAAA,CAAO+C,IAAA,GAAAC,KAAA,KAAoBtD,EAAAuD,GAAAvD,EAAA,oBAAAwD,EAAAC,GAA8C,aAAAzD,EAAA4C,UAAA,GAAAY,EAAA1F,KAAA4F,QAAA1D,EAAA4C,SAAAxC,EAAA,UAA4EvB,IAAA2E,EAAAG,IAAArD,MAAA,CAAoBsD,KAAA,GAAAC,IAAA,GAAAC,IAAA,KAA6B,CAAA1D,EAAA,UAAAA,EAAA,SAA2BE,MAAA,CAAOqB,IAAA6B,EAAAO,MAAAC,OAAA,UAAmC,CAAA5D,EAAA,eAAoBE,MAAA,CAAO0C,cAAA,GAAAD,MAAA,GAAAkB,OAAA,KAAuC,CAAA7D,EAAA,YAAiBE,MAAA,CAAO0C,cAAA,KAAkB,CAAA5C,EAAA,UAAeE,MAAA,CAAOsD,KAAA,GAAAM,YAAA,GAAAC,QAAA,KAAuC,CAAA/D,EAAA,QAAaiB,YAAA,uBAAAO,SAAA,CAA6CC,YAAA7B,EAAA8B,GAAA0B,EAAA1F,YAAiC,WAAAsC,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAgEE,MAAA,CAAO8D,KAAA,IAAU7C,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAqE,KAAAb,EAAAG,QAA4B,CAAAvD,EAAA,UAAAJ,EAAAkC,GAAA,cAAA9B,EAAA,SAAgDE,MAAA,CAAO8D,KAAA,IAAU7C,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAsE,MAAAb,MAA0B,CAAArD,EAAA,UAAAJ,EAAAkC,GAAA,eAAA9B,EAAA,SAAiDE,MAAA,CAAO8D,KAAA,IAAU7C,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAuE,IAAAd,MAAwB,CAAArD,EAAA,UAAAJ,EAAAkC,GAAA,4BAAAlC,EAAAwE,OAA2D,WAAApE,EAAA,YAA4BE,MAAA,CAAO8B,MAAA,MAAA7E,IAAA,KAAwB,CAAA6C,EAAA,UAAeE,MAAA,CAAOmE,OAAA,GAAAtB,iBAAA,GAAAuB,cAAA,GAAAd,KAAA,KAA0D,CAAAxD,EAAA,QAAaiB,YAAA,eAA0B,CAAArB,EAAAkC,GAAA,6BAAA9B,EAAA,YAAqDE,MAAA,CAAOqE,MAAA,OAAc3D,MAAA,CAAQzC,MAAAyB,EAAA,aAAAiB,SAAA,SAAAC,GAAkDlB,EAAA6C,aAAA3B,GAAqBE,WAAA,iBAA4B,CAAAhB,EAAA,UAAAA,EAAA,aAA+BE,MAAA,CAAOO,KAAA,GAAAuB,MAAA,QAAyB,CAAAhC,EAAA,mBAAAJ,EAAAkC,GAAA,WAAA9B,EAAA,YAAAA,EAAA,SAAqEE,MAAA,CAAO8D,KAAA,GAAAvD,KAAA,IAAoBU,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA6C,cAAA,KAA2B,CAAAzC,EAAA,UAAAJ,EAAAkC,GAAA,mBAAA9B,EAAA,eAAAA,EAAA,gBAA8EE,MAAA,CAAOoC,MAAA,OAAAN,MAAA,OAA6BpB,MAAA,CAAQzC,MAAAyB,EAAA,WAAAiB,SAAA,SAAAC,GAAgDlB,EAAA4E,WAAA1D,GAAmBE,WAAA,iBAA0B,GAAAhB,EAAA,aAAAA,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAsEE,MAAA,CAAOO,KAAA,GAAA2B,KAAA,IAAoBjB,GAAA,CAAKC,MAAAxB,EAAA6E,eAA0B,CAAA7E,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOwE,WAAA,GAAAC,YAAA,SAAoC/D,MAAA,CAAQzC,MAAAyB,EAAA,YAAAiB,SAAA,SAAAC,GAAiDlB,EAAAgF,YAAA9D,GAAoBE,WAAA,gBAA2B,CAAAhB,EAAA,UAAeE,MAAA,CAAO2E,MAAA,KAAY,CAAA7E,EAAA,gBAAAA,EAAA,QAAgCiB,YAAA,YAAuB,CAAArB,EAAAkC,GAAA,YAAA9B,EAAA,aAAAA,EAAA,eAAAA,EAAA,eAAyEE,MAAA,CAAO8C,eAAA,KAAmB,CAAAhD,EAAA,YAAiBE,MAAA,CAAOgD,KAAA,KAAW,CAAAlD,EAAA,UAAeE,MAAA,CAAOsD,KAAA,KAAW,CAAAxD,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAAN,MAAA,OAA6BpB,MAAA,CAAQzC,MAAAyB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAAkF,SAAAhE,GAAiBE,WAAA,cAAwBhB,EAAA,gBAAqBE,MAAA,CAAOoC,MAAA,OAAAyC,QAAA,GAAAC,SAAA,GAAA7G,MAAAyB,EAAAqF,aAAiEjF,EAAA,SAAckF,IAAA,YAAAC,YAAA,CAA6BC,QAAA,QAAiB5D,SAAA,CAAWrD,MAAAyB,EAAAqF,aAAuBjF,EAAA,SAAckF,IAAA,YAAAC,YAAA,CAA6BC,QAAA,QAAiB5D,SAAA,CAAWrD,MAAA,gBAAAyB,EAAAqF,UAAA,4EAAqH,GAAAjF,EAAA,YAAqBiB,YAAA,QAAmB,CAAAjB,EAAA,UAAekF,IAAA,OAASlF,EAAA,YAAAA,EAAA,YAAgCE,MAAA,CAAOmF,OAAA,GAAAC,cAAA,KAA8B,CAAAtF,EAAA,KAAUiB,YAAA,OAAAkE,YAAA,CAAgCI,aAAA,UAAsB,CAAA3F,EAAAkC,GAAA,0DAAA9B,EAAA,UAAgFE,MAAA,CAAOsF,MAAA,KAAY,CAAA5F,EAAAkC,GAAA,cAAA9B,EAAA,SAAmCE,MAAA,CAAO8B,MAAA,OAAAvB,KAAA,IAAyBU,GAAA,CAAKC,MAAAxB,EAAA6F,aAAwB,CAAA7F,EAAAkC,GAAA,cAAA9B,EAAA,SAAmCE,MAAA,CAAO8B,MAAA,OAAAvB,KAAA,IAAyBU,GAAA,CAAKC,MAAAxB,EAAA8F,WAAsB,CAAA9F,EAAAkC,GAAA,YAAA9B,EAAA,SAAiCE,MAAA,CAAO8B,MAAA,QAAAvB,KAAA,IAA0BU,GAAA,CAAKC,MAAAxB,EAAA+F,SAAoB,CAAA/F,EAAAkC,GAAA,mBAAA9B,EAAA,UAAyCE,MAAA,CAAOsD,KAAA,KAAW,CAAAxD,EAAA,iBAAAA,EAAA,UAAmCE,MAAA,CAAOsD,KAAA,KAAW,CAAAxD,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAAN,MAAA,OAA6BpB,MAAA,CAAQzC,MAAAyB,EAAA,YAAAiB,SAAA,SAAAC,GAAiDlB,EAAAgG,YAAA9E,GAAoBE,WAAA,iBAA2BhB,EAAA,gBAAqBE,MAAA,CAAOoC,MAAA,OAAAuD,KAAAjG,EAAAgG,aAAAhG,EAAAkG,aAAA,kBAAAC,UAAAnG,EAAAgG,YAAAI,cAAApG,EAAAgG,aAAAhG,EAAAkG,aAAA,+BAA2L3E,GAAA,CAAK8E,eAAA,SAAA5E,GAAgCzB,EAAAkG,cAAAlG,EAAAkG,eAAsClF,MAAA,CAAQzC,MAAAyB,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAAsG,cAAApF,GAAsBE,WAAA,oBAA6B,eAAAhB,EAAA,aAAAA,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAkFE,MAAA,CAAO8B,MAAA,gBAAAI,KAAA,IAAkCjB,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAAgF,aAAA,KAA0B,CAAAhF,EAAAkC,GAAA,QAAA9B,EAAA,SAA6BE,MAAA,CAAO8B,MAAA,gBAAAI,KAAA,IAAkCjB,GAAA,CAAKC,MAAAxB,EAAAuG,YAAuB,CAAAvG,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOwE,WAAA,GAAAC,YAAA,SAAoC/D,MAAA,CAAQzC,MAAAyB,EAAA,WAAAiB,SAAA,SAAAC,GAAgDlB,EAAAiC,WAAAf,GAAmBE,WAAA,eAA0B,CAAAhB,EAAA,UAAeE,MAAA,CAAO2E,MAAA,KAAY,CAAA7E,EAAA,gBAAAA,EAAA,QAAgCiB,YAAA,YAAuB,CAAArB,EAAAkC,GAAA,cAAA9B,EAAA,aAAAA,EAAA,eAAAA,EAAA,eAAAA,EAAA,YAA0FE,MAAA,CAAO+C,IAAA,GAAAC,KAAA,KAAoB,CAAAlD,EAAA,UAAeE,MAAA,CAAOkG,IAAA,KAAU,CAAApG,EAAA,gBAAqBE,MAAA,CAAOmG,IAAA,GAAA/D,MAAA,OAAuB1B,MAAA,CAAQzC,MAAAyB,EAAA,QAAAiB,SAAA,SAAAC,GAA6ClB,EAAA0G,QAAAxF,GAAgBE,WAAA,cAAuB,GAAAhB,EAAA,UAAmBE,MAAA,CAAOqG,IAAA,KAAU,CAAAvG,EAAA,SAAcE,MAAA,CAAOsG,MAAA,GAAApE,KAAA,GAAAJ,MAAA,QAAoCb,GAAA,CAAKC,MAAAxB,EAAA6G,aAAwB,CAAA7G,EAAAkC,GAAA,eAAA9B,EAAA,UAAqCE,MAAA,CAAOsD,KAAA,KAAW,CAAAxD,EAAA,gBAAqBE,MAAA,CAAOmG,IAAA,GAAA/D,MAAA,OAAAuD,KAAA,YAA0CjF,MAAA,CAAQzC,MAAAyB,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAA8G,IAAA5F,GAAYE,WAAA,UAAmB,GAAAhB,EAAA,UAAmBE,MAAA,CAAOsD,KAAA,KAAW,CAAAxD,EAAA,gBAAqBE,MAAA,CAAOmG,IAAA,GAAA/D,MAAA,OAAAuD,KAAA,YAA0CjF,MAAA,CAAQzC,MAAAyB,EAAA,MAAAiB,SAAA,SAAAC,GAA2ClB,EAAA+G,MAAA7F,GAAcE,WAAA,YAAqB,GAAAhB,EAAA,UAAmBE,MAAA,CAAOsD,KAAA,KAAW,CAAAxD,EAAA,SAAcE,MAAA,CAAO0G,MAAA,GAAA5E,MAAA,OAAAvB,KAAA,IAAoCU,GAAA,CAAKC,MAAAxB,EAAAiH,YAAuB,CAAAjH,EAAAkC,GAAA,0BAAA9B,EAAA,aAAAA,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAmGE,MAAA,CAAO8B,MAAA,gBAAAI,KAAA,IAAkCjB,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAAiC,YAAA,KAAyB,CAAAjC,EAAAkC,GAAA,oBAAA9B,EAAA,iBAAiDE,MAAA,CAAO4G,MAAA,OAAAvC,MAAA,IAAAX,OAAA,IAAAmD,IAAA,eAAAC,aAAA,OAAgF7F,GAAA,CAAK8F,sBAAArH,EAAAsH,mBAA4CtG,MAAA,CAAQzC,MAAAyB,EAAA,aAAAiB,SAAA,SAAAC,GAAkDlB,EAAA0B,aAAAR,GAAqBE,WAAA,mBAA4B,IAClsQmG,EAAe,oCCkQnBC,EAAA,CACAC,WAAA,CACAC,gBAAAC,EAAA,MAEAlM,KAAA,kBAEAqH,WAAA,GAEA8B,WAAA,GACAhC,QAAA,GACAyC,UAAA,GACAH,UAAA,EACAc,aAAA,EACAE,cAAA,EACAI,cAAA,GACAsB,WAAA,EAEAtG,OAAA,KACAS,SAAA,KAEAZ,OAAA,KACA0B,aAAA,KACAmC,YAAA,KACA/C,WAAA,KAEAP,cAAA,EAEAgF,QAAA,GACAI,IAAA,GACAC,MAAA,KAEAc,QAAA,CACAhB,WADA,WACA,IAAAiB,EAAA7H,KACAA,KAAA8H,MACAC,KACA,mBACA,CACAjG,SAAA9B,KAAAyG,SAEA,IAEAuB,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,OACAP,EAAA/F,SAAA+F,EAAApB,QACAoB,EAAApB,QAAA,KAGA,SAAA4B,GACAJ,QAAAC,KAAAG,MAIArB,UAvBA,WAuBA,IAAAsB,EAAAtI,KACAA,KAAA6G,KAAA7G,KAAA8G,OACA9G,KAAA8H,MACAC,KACA,mBACA,CACAQ,SAAAvI,KAAA6G,KAEA,IAEAmB,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,OACAE,EAAAzB,IAAA,GACAyB,EAAAxB,MAAA,KAGA,SAAAuB,GACAJ,QAAAC,KAAAG,MAKAhB,kBA/CA,SA+CA7L,EAAAyL,GACA,GAAAzL,EAAA4M,OACApI,KAAAqB,OAAA7F,OAAA6F,SAGAiD,IApDA,SAoDAd,GAAA,IAAAgF,EAAAxI,KACAA,KAAA8H,MACAC,KACA,iBACA,CACArE,IAAA1D,KAAA6C,WAAAW,GAAAE,KAEA,IAEAsE,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACAI,EAAA3F,WAAA3F,OAAAsG,EAAA,IAGA,SAAA6E,GACAJ,QAAAC,KAAAG,MAIAjE,KAzEA,SAyEAV,GACA1D,KAAAyI,QAAAvM,KAAA,UAAAwH,IAEAW,MA5EA,SA4EAb,GACAxD,KAAA2H,WAAAnE,EACA,IAAAkF,EAAA1I,KAAA6C,WAAAW,GACA,IAAAmF,EAAAC,EAAA,CACAC,QAAA7I,KAAA8I,MAAAC,GACAC,KAAA,IACAC,MAAA,IACAC,WAAA,UACAC,WAAA,OACA7K,MAAAoK,EAAAtD,YAIA,OAFApF,KAAAoF,UAAAsD,EAAAtD,UACApF,KAAAqG,cAAAqC,EAAAH,SACAG,EAAArE,OACA,OACArE,KAAAiF,UAAA,EACAjF,KAAA+F,aAAA,EACA,MACA,OACA/F,KAAAiF,UAAA,EACAjF,KAAA+F,aAAA,EACA,MACA,OACA/F,KAAAiF,UAAA,EACAjF,KAAA+F,aAAA,EACA,MAEA/F,KAAA+E,aAAA,GAEAc,SAzGA,WA0GA7F,KAAA8I,MAAA1D,UAAAgE,MAAA7D,QAAA,SACAvF,KAAA8I,MAAA1D,UAAAiE,SACAC,SAAAC,YAAA,QACAvJ,KAAA8I,MAAA1D,UAAAgE,MAAA7D,QAAA,QAEAK,WA/GA,WAgHA5F,KAAA8I,MAAAU,UAAAJ,MAAA7D,QAAA,SACAvF,KAAA8I,MAAAU,UAAAH,SACAC,SAAAC,YAAA,QACAvJ,KAAA8I,MAAAU,UAAAJ,MAAA7D,QAAA,QAEAO,OArHA,WAsHA,IAAA8C,EAAAU,SAAAG,cAAA,KACAb,EAAAc,KAAA1J,KAAA8I,MAAAC,GAAAY,UAAA,aACAf,EAAAgB,SAAA,SACA,IAAAC,EAAAP,SAAAQ,YAAA,eACAD,EAAAE,UAAA,eACAnB,EAAAoB,cAAAH,IAEAvD,UA7HA,WA8HA,IAAA9C,EAAAxD,KAAA2H,WACAtD,EAAA,EACArE,KAAAiF,WAEAZ,EADArE,KAAA+F,YACA,EAEA,GAGA/F,KAAA6C,WAAAW,GAAAa,QACArE,KAAA6C,WAAAW,GAAA+E,SAAAvI,KAAAqG,cACArG,KAAA8H,MACAC,KACA,gBACA,CACArE,IAAA1D,KAAA6C,WAAAW,GAAAE,IACAW,MAAArE,KAAA6C,WAAAW,GAAAa,MACAkE,SAAAvI,KAAA6C,WAAAW,GAAA+E,UAEA,IAEAP,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,IAEA,SAAA6M,GACAJ,QAAAC,KAAAG,KAGArI,KAAA+E,aAAA,GAEAH,aA7JA,WA6JA,IAAAqF,EAAAjK,KACAA,KAAA8H,MACAC,KACA,iBACA,CACAlK,KAAAmC,KAAA2E,YAEA,IAEAqD,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACA6B,EAAAxB,QAAAvM,KAAA,UAAAV,EAAA2M,KAAA3M,KAAAkI,MAGA,SAAA2E,GACAJ,QAAAC,KAAAG,MAIAnG,OAlLA,WAkLA,IAAAgI,EAAAlK,KACAA,KAAA8H,MAAA5J,IAAA,gBAAA8J,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACA8B,EAAAzB,QAAAvM,KAAA,MAGA,SAAAmM,GACAJ,QAAAC,KAAAG,OAKA8B,MAAA,CAEAvH,aAFA,WAGA5C,KAAA2E,WAAA,IAEA3C,WALA,WAMAhC,KAAAyG,QAAA,GACAzG,KAAA6G,IAAA,GACA7G,KAAA8G,MAAA,KAGAsD,QA1OA,WA0OA,IAAAC,EAAArK,KACAA,KAAA8H,MAAA5J,IAAA,qBAAA8J,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MAEAiC,EAAAhJ,OAAA7F,EAAA2M,KAAA3M,KAAA8O,SAAAjJ,OACAgJ,EAAAvI,SAAAtG,EAAA2M,KAAA3M,KAAA8O,SAAAxI,SACAuI,EAAAxH,WAAArH,EAAA2M,KAAA3M,KAAAqH,YAGAwH,EAAA5B,QAAAvM,KAAA,MAGA,SAAAmM,GACAJ,QAAAC,KAAAG,OC5f8XkC,EAAA,gVCO1XC,EAAYrO,OAAAsE,EAAA,KAAAtE,CACdoO,EACA5J,EACA2G,GACF,EACA,KACA,KACA,MAIemD,EAAAD,EAAiB,QAiChCE,IAAkBF,EAAS,CAAGG,OAAA,KAAKC,OAAA,KAAKC,QAAA,KAAMC,aAAAC,EAAA,KAAaC,UAAAD,EAAA,KAAUE,aAAA,KAAWC,aAAA,KAAWC,WAAA,KAASC,UAAA,KAAQC,WAAA,KAASC,QAAA,KAAMC,UAAA,KAAQC,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,kBAAA,KAAgBC,iBAAAC,EAAA,KAAiBC,eAAAD,EAAA,KAAeE,oBAAA,KAAkBC,QAAAC,EAAA,KAAQC,UAAA,KAAQC,aAAA,KAAWC,WAAA,KAASC,cAAAC,EAAA,KAAcC,mBAAA,KAAiBC,cAAAF,EAAA,OCnD3T,IAAIG,EAAM,WAAgB,IAAA7M,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,MAAA,CAAOO,KAAA,KAAW,CAAAT,EAAA,aAAAA,EAAA,WAAgCmF,YAAA,CAAauH,SAAA,WAAAnI,MAAA,OAAAoI,OAAA,OAAoDzM,MAAA,CAAQ0M,YAAA,GAAA/G,KAAA,QAAAgH,WAAA,oBAAgEjM,MAAA,CAAQzC,MAAAyB,EAAA,MAAAiB,SAAA,SAAAC,GAA2ClB,EAAAkN,MAAAhM,GAAcE,WAAA,UAAqB,CAAApB,EAAAkC,GAAAlC,EAAA8B,GAAA9B,EAAAmN,QAAA/M,EAAA,eAA8CE,MAAA,CAAOyC,MAAA,GAAAC,cAAA,KAA6B,CAAA5C,EAAA,YAAiBE,MAAA,CAAO4C,eAAA,GAAAD,iBAAA,KAAuC,CAAA7C,EAAA,UAAeE,MAAA,CAAO8M,KAAA,GAAAC,IAAA,KAAoB,CAAAjN,EAAA,UAAeiB,YAAA,eAAAf,MAAA,CAAkC2E,MAAA,KAAY,CAAA7E,EAAA,aAAkBE,MAAA,CAAOO,KAAA,GAAAuB,MAAA,QAAyB,CAAAhC,EAAA,mBAAAJ,EAAAkC,GAAA,UAAA9B,EAAA,YAAAA,EAAA,aAAwEE,MAAA,CAAOgN,OAAA,IAAYC,YAAAvN,EAAAwN,GAAA,EAAsB3O,IAAA,YAAA4O,GAAA,SAAAnI,GACxxB,IAAA/D,EAAA+D,EAAA/D,GACA,OAAAnB,EAAA,QAAAJ,EAAA0N,GAAA,CAA2BpN,MAAA,CAAO8D,KAAA,GAAAwC,MAAA,KAAsBrF,GAAA,CAAAnB,EAAA,UAAmBE,MAAA,CAAOsG,MAAA,KAAY,CAAA5G,EAAAkC,GAAA,oBAA4B,CAAA9B,EAAA,QAAAJ,EAAAkC,GAAA,iBAAA9B,EAAA,eAAAA,EAAA,UAAAA,EAAA,gBAAuFE,MAAA,CAAOqN,eAAA,QAAA7P,KAAA,cAAA4E,MAAA,MAAAuD,KAAA,MAAA7D,MAAA,MAAAwL,KAAA,eAA0G5M,MAAA,CAAQzC,MAAAyB,EAAA,YAAAiB,SAAA,SAAAC,GAAiDlB,EAAA6N,YAAA3M,GAAoBE,WAAA,iBAA2BhB,EAAA,gBAAqBE,MAAA,CAAOqN,eAAA,OAAA7P,KAAA,WAAA4E,MAAA,KAAAuD,KAAA,WAAA7D,MAAA,OAAqFpB,MAAA,CAAQzC,MAAAyB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAAwI,SAAAtH,GAAiBE,WAAA,eAAwB,OAAAhB,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAA0DE,MAAA,CAAOO,KAAA,GAAAuB,MAAA,OAAwBb,GAAA,CAAKC,MAAAxB,EAAA8N,QAAmB,CAAA9N,EAAAkC,GAAA,sCACvuB6L,EAAe,GC6DnBC,EAAA,CACAvS,KAAA,kBACAyR,OAAA,EACAC,IAAA,GACAU,YAAA,GACArF,SAAA,KAEAX,QAAA,CACAiG,MADA,WACA,IAAAhG,EAAA7H,KACAA,KAAA8H,MACAC,KACA,cACA,CACA6F,YAAA5N,KAAA4N,YACArF,SAAAvI,KAAAuI,UAEA,IAEAP,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,KACAP,EAAAY,QAAAvM,KAAA,SAEA2L,EAAAoF,OAAA,EACApF,EAAAqF,IAAA1R,EAAA2M,KAAA+E,MAGA,SAAA7E,GACAJ,QAAAC,KAAAG,OAKA2F,aAlCA,WAkCA,IAAA1F,EAAAtI,KACAA,KAAA8H,MAAA5J,IAAA,kBAAA8J,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACAE,EAAAG,QAAAvM,KAAA,SAGA,SAAAmM,GACAJ,QAAAC,KAAAG,OC3G+X4F,EAAA,wCCO3XC,GAAY/R,OAAAsE,EAAA,KAAAtE,CACd8R,EACArB,EACAkB,GACF,EACA,KACA,KACA,MAIeK,GAAAD,GAAiB,QAqBhCxD,IAAkBwD,GAAS,CAAGE,SAAA,KAAOzD,OAAA,KAAKC,OAAA,KAAKC,QAAA,KAAMC,aAAAC,EAAA,KAAaC,UAAAD,EAAA,KAAUG,aAAA,KAAWC,WAAA,KAASG,QAAA,KAAM+C,SAAA,KAAM7C,QAAA,KAAME,UAAA,KAAQS,QAAAC,EAAA,KAAQE,aAAA,KAAWC,WAAA,KAASI,cAAAF,EAAA,KAAc6B,YAAA,OCvCpK,IAAIC,GAAM,WAAgB,IAAAxO,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,MAAA,CAAOO,KAAA,GAAAC,GAAA,SAAuB,CAAAV,EAAA,uBAA4BE,MAAA,CAAOmO,SAAA,GAAA1N,MAAA,GAAA2N,QAAA,GAAAnR,IAAA,IAA+CyD,MAAA,CAAQzC,MAAAyB,EAAA,WAAAiB,SAAA,SAAAC,GAAgDlB,EAAA2O,WAAAzN,GAAmBE,WAAA,eAA0B,CAAAhB,EAAA,UAAeE,MAAA,CAAO0B,MAAA,KAAY,CAAA5B,EAAA,YAAiBE,MAAA,CAAO+C,IAAA,GAAAH,eAAA,KAA4B,CAAA9C,EAAA,UAAeE,MAAA,CAAOsO,IAAA,KAAU,CAAAxO,EAAA,eAAAJ,EAAAkC,GAAA,cAAA9B,EAAA,UAAsDiB,YAAA,gBAAAf,MAAA,CAAmCsO,IAAA,KAAU,CAAAxO,EAAA,SAAcE,MAAA,CAAOsF,MAAA,GAAApD,KAAA,IAAqBjB,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA6O,iBAAA,KAA2B,CAAA7O,EAAAkC,GAAA,gBAAAlC,EAAAuD,GAAAvD,EAAA,wBAAAwD,EAAAC,GAA0E,OAAArD,EAAA,gBAA0BvB,IAAA4E,EAAA8J,YAAAvN,EAAAwN,GAAA,EAA+B3O,IAAA,YAAA4O,GAAA,WAA8B,OAAArN,EAAA,eAAAA,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAAlC,EAAA8B,GAAA0B,EAAAsL,mBAAA,SAA0HC,OAAA,IAAY,UAAa,CAAA/O,EAAAuD,GAAAC,EAAA,gBAAAwL,EAAAC,GAAkD,OAAA7O,EAAA,eAAyBvB,IAAAmQ,EAAAE,IAAA5O,MAAA,CAAuB8B,MAAA,mBAA0Bb,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAmP,YAAA1L,EAAAwL,MAAyC,CAAA7O,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,mBAAAlC,EAAA8B,GAAAkN,EAAAlR,MAAA,qBAAAmR,GAAAzL,EAAA4L,cAAAhP,EAAA,UAAoKE,MAAA,CAAOsF,MAAA,KAAY,CAAA5F,EAAAkC,GAAA,gBAAAlC,EAAAwE,MAAA,aAA8CpE,EAAA,aAAAoD,EAAA6L,SAAApT,OAAA,EAAAmE,EAAA,eAA6DE,MAAA,CAAOgP,eAAA,GAAAvM,MAAA,KAA8B,CAAA3C,EAAA,YAAiBE,MAAA,CAAO+C,IAAA,GAAAC,KAAA,KAAoBtD,EAAAuD,GAAAC,EAAA,kBAAAwL,EAAAC,GAAmD,OAAA7O,EAAA,UAAoBvB,IAAAmQ,EAAAE,IAAA5O,MAAA,CAAuBiP,IAAA,GAAAC,SAAA,KAAsB,CAAApP,EAAA,UAAeiB,YAAA,SAAAf,MAAA,CAA4BkC,KAAA,GAAAiN,KAAA,IAAoBlO,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA0P,cAAAjM,EAAAwL,MAA2C,CAAA7O,EAAA,SAAciB,YAAA,iBAAAf,MAAA,CAAoCqB,IAAAqN,EAAAW,KAAA,WAAAC,eAAA,KAAiDrC,YAAAvN,EAAAwN,GAAA,EAAsB3O,IAAA,cAAA4O,GAAA,WAAgC,OAAArN,EAAA,YAAuBE,MAAA,CAAO0C,cAAA,GAAAE,eAAA,GAAAD,iBAAA,GAAA4M,OAAA,KAAkE,CAAAzP,EAAA,uBAA4BE,MAAA,CAAOwP,cAAA,GAAA1N,MAAA,qBAA6C,KAAO2M,OAAA,IAAY,YAAa,SAAU,OAAA/O,EAAAwE,KAAApE,EAAA,eAAoCmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAA+P,eAAAtM,EAAyBzD,EAAAgQ,eAAA,GAAsBhQ,EAAAiQ,cAAA,KAA0B,CAAA7P,EAAA,sBAAAA,EAAA,UAAAJ,EAAAkC,GAAA,sBAAA9B,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,oBAAA9B,EAAA,eAAoKmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAA+P,eAAAtM,EAAyBzD,EAAAkQ,eAAA,KAAyB,CAAA9P,EAAA,sBAAAA,EAAA,UAAAJ,EAAAkC,GAAA,4BAAA9B,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,0BAA4J9B,EAAA,eAAoBmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAAmQ,oBAAA,KAA8B,CAAA/P,EAAA,sBAAAA,EAAA,UAAAJ,EAAAkC,GAAA,aAAA9B,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,uBAAA9B,EAAA,UAAyJE,MAAA,CAAO8P,WAAA,KAAe,CAAAhQ,EAAA,eAAAA,EAAA,YAAmCE,MAAA,CAAO+C,IAAA,KAAU,CAAAjD,EAAA,UAAeiB,YAAA,QAAmB,CAAAjB,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAA2N,IAAArQ,EAAAsQ,eAAAC,UAAAC,IAAA,KAA4DxP,MAAA,CAAQzC,MAAAyB,EAAAsQ,eAAA,OAAArP,SAAA,SAAAC,GAA2DlB,EAAAyQ,KAAAzQ,EAAAsQ,eAAA,SAAApP,IAA4CE,WAAA,4BAAqC,WAAAhB,EAAA,eAAAA,EAAA,YAA+CE,MAAA,CAAO+C,IAAA,KAAU,CAAAjD,EAAA,UAAeiB,YAAA,QAAmB,CAAAjB,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAA2N,IAAArQ,EAAAsQ,eAAAI,YAAAF,IAAA,KAA8DxP,MAAA,CAAQzC,MAAAyB,EAAAsQ,eAAA,SAAArP,SAAA,SAAAC,GAA6DlB,EAAAyQ,KAAAzQ,EAAAsQ,eAAA,WAAApP,IAA8CE,WAAA,8BAAuC,WAAAhB,EAAA,eAAAA,EAAA,YAA+CE,MAAA,CAAO+C,IAAA,KAAU,CAAAjD,EAAA,UAAeiB,YAAA,QAAmB,CAAAjB,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAA2N,IAAA,MAAAG,IAAA,KAAqCxP,MAAA,CAAQzC,MAAAyB,EAAAsQ,eAAA,YAAArP,SAAA,SAAAC,GAAgElB,EAAAyQ,KAAAzQ,EAAAsQ,eAAA,cAAApP,IAAiDE,WAAA,iCAA0C,mBAAAhB,EAAA,aAAsCE,MAAA,CAAOO,KAAA,GAAAuB,MAAA,MAAA7E,IAAA,GAAAoT,eAAA,KAAoD,CAAAvQ,EAAA,uBAA4BmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAA2O,YAAA3O,EAAA2O,eAAmCvO,EAAA,QAAaiB,YAAA,mBAA8B,CAAArB,EAAAkC,GAAA,wBAAA9B,EAAA,QAA4CiB,YAAA,qBAAgC,CAAArB,EAAAkC,GAAA,YAAA9B,EAAA,YAAAA,EAAA,gBAAuDiB,YAAA,qBAAAf,MAAA,CAAwCiC,gBAAA,GAAAC,KAAA,GAAAC,eAAA,IAA+CzB,MAAA,CAAQzC,MAAAyB,EAAA,KAAAiB,SAAA,SAAAC,GAA0ClB,EAAAlC,KAAAoD,GAAaE,WAAA,UAAoBhB,EAAA,YAAAA,EAAA,mBAAAA,EAAA,SAAmDE,MAAA,CAAO8D,KAAA,KAAW,CAAAhE,EAAA,UAAemB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAA4Q,eAAA,KAAyB,CAAA5Q,EAAAkC,GAAA,kBAAA9B,EAAA,SAAuCE,MAAA,CAAO8D,KAAA,KAAW,CAAAhE,EAAA,UAAemB,GAAA,CAAIC,MAAAxB,EAAA6Q,UAAqB,CAAA7Q,EAAAkC,GAAA,iBAAA9B,EAAA,aAA0CE,MAAA,CAAOgN,OAAA,IAAYC,YAAAvN,EAAAwN,GAAA,EAAsB3O,IAAA,YAAA4O,GAAA,SAAAnI,GAClpJ,IAAA/D,EAAA+D,EAAA/D,GACA,OAAAnB,EAAA,QAAAJ,EAAA0N,GAAA,CAA2BpN,MAAA,CAAO8D,KAAA,IAAU7C,GAAA,CAAKC,MAAAxB,EAAA8Q,aAAwBvP,GAAA,CAAAnB,EAAA,UAAAJ,EAAAkC,GAAA,oBAA6C,CAAA9B,EAAA,QAAAJ,EAAAkC,GAAA,YAAA9B,EAAA,SAA4CE,MAAA,CAAO8D,KAAA,IAAU7C,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA+Q,YAAA,KAAwB,CAAA3Q,EAAA,UAAAJ,EAAAkC,GAAA,6BAAA9B,EAAA,aAAmEmF,YAAA,CAAavB,OAAA,MAAAgN,mBAAA,SAA0C,CAAA5Q,EAAA,cAAmBkF,IAAA,aAAAhF,MAAA,CAAwB2Q,kBAAAjR,EAAAkR,eAAAC,kBAAAnR,EAAAsQ,mBAA2E,GAAAlQ,EAAA,uBAAgCE,MAAA,CAAO8Q,MAAA,GAAAC,UAAA,GAAAtQ,MAAA,IAAqCC,MAAA,CAAQzC,MAAAyB,EAAA,aAAAiB,SAAA,SAAAC,GAAkDlB,EAAAiQ,aAAA/O,GAAqBE,WAAA,iBAA4B,CAAAhB,EAAA,SAAckF,IAAA,OAAAC,YAAA,CAAwBC,QAAA,QAAiBlF,MAAA,CAAQ2F,KAAA,OAAAqL,SAAA,WAAAC,OAAA,cAA0DhQ,GAAA,CAAKiQ,OAAAxR,EAAAyR,cAAyBrR,EAAA,UAAAJ,EAAAkR,eAAAlR,EAAA+P,gBAAA3P,EAAA,eAAAJ,EAAAkC,GAAAlC,EAAA8B,GAAA9B,EAAAkR,eAAAlR,EAAA+P,gBAAAjB,eAAA,cAAA9O,EAAAwE,KAAAxE,EAAAuD,GAAAvD,EAAA,wBAAAwD,EAAAC,GAAsN,OAAArD,EAAA,OAAiBvB,IAAA4E,GAAU,CAAArD,EAAA,eAAAA,EAAA,uBAAAA,EAAA,qBAAsEwB,SAAA,CAAUC,YAAA7B,EAAA8B,GAAA0B,EAAA1F,SAAiCsC,EAAA,yBAAAJ,EAAAkC,GAAAlC,EAAA8B,GAAA9B,EAAA0R,GAAA,WAAA1R,CAAAwD,EAAAyF,WAAA,GAAA7I,EAAA,sBAAAA,EAAA,SAAuHE,MAAA,CAAO8D,KAAA,GAAAuN,OAAA,IAAsBpQ,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAgQ,eAAA7S,OAAAsG,EAAA,MAA6C,CAAArD,EAAA,UAAeE,MAAA,CAAO8B,MAAA,mBAA0B,CAAApC,EAAAkC,GAAA,wBAAA9B,EAAA,mBAAqDA,EAAA,eAAAA,EAAA,uBAAAA,EAAA,SAA0DE,MAAA,CAAO0G,MAAA,GAAAnG,KAAA,GAAAuB,MAAA,QAAoCb,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA+I,MAAA6I,KAAApQ,WAAgC,CAAAxB,EAAAkC,GAAA,oCAAA9B,EAAA,UAA0DE,MAAA,CAAO8Q,MAAA,GAAAvQ,KAAA,KAAsB,CAAAb,EAAAkC,GAAA,6BAAA9B,EAAA,eAAAA,EAAA,uBAAAA,EAAA,SAA8FE,MAAA,CAAO0G,MAAA,GAAAnG,KAAA,GAAAuB,MAAA,OAAmCb,GAAA,CAAKC,MAAAxB,EAAA6R,cAAyB,CAAA7R,EAAAkC,GAAA,oCAAA9B,EAAA,UAA0DE,MAAA,CAAO8Q,MAAA,GAAAvQ,KAAA,KAAsB,CAAAb,EAAAkC,GAAA,sCAAA9B,EAAA,YAA8DE,MAAA,CAAOwE,WAAA,GAAAC,YAAA,SAAoC/D,MAAA,CAAQzC,MAAAyB,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAAkQ,cAAAhP,GAAsBE,WAAA,kBAA6B,CAAAhB,EAAA,SAAckF,IAAA,cAAAC,YAAA,CAA+BC,QAAA,QAAiBlF,MAAA,CAAQ2F,KAAA,OAAAqL,SAAA,WAAAC,OAAA,cAA0DhQ,GAAA,CAAKiQ,OAAAxR,EAAA8R,qBAAgC1R,EAAA,UAAeE,MAAA,CAAO2E,MAAA,KAAY,CAAA7E,EAAA,gBAAAJ,EAAAkR,eAAAlR,EAAA+P,gBAAA3P,EAAA,QAAyEiB,YAAA,YAAuB,CAAArB,EAAAkC,GAAAlC,EAAA8B,GAAA9B,EAAAkR,eAAAlR,EAAA+P,gBAAAjB,eAAA,aAAA9O,EAAAwE,OAAApE,EAAA,eAAAJ,EAAAkR,eAAAlR,EAAA+P,gBAAA3P,EAAA,eAA2KE,MAAA,CAAOgP,eAAA,GAAAvM,MAAA,KAA8B,CAAA3C,EAAA,YAAiBE,MAAA,CAAO+C,IAAA,GAAAC,KAAA,KAAoBtD,EAAAuD,GAAAvD,EAAAkR,eAAAlR,EAAA+P,gBAAA,kBAAAvM,EAAAC,GAA+E,OAAArD,EAAA,UAAoBvB,IAAA2E,EAAA1F,KAAAwC,MAAA,CAAqByR,IAAA,GAAAvC,SAAA,IAAqBjO,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAgS,WAAAhS,EAAA+P,eAAAtM,MAAkD,CAAArD,EAAA,UAAeiB,YAAA,qBAAAf,MAAA,CAAwCkC,KAAA,GAAAiN,KAAA,KAAqB,CAAArP,EAAA,SAAciB,YAAA,iBAAAf,MAAA,CAAoCqB,IAAA6B,EAAAmM,KAAA,WAAAC,eAAA,KAA8CrC,YAAAvN,EAAAwN,GAAA,EAAsB3O,IAAA,cAAA4O,GAAA,WAAgC,OAAArN,EAAA,YAAuBE,MAAA,CAAO0C,cAAA,GAAAE,eAAA,GAAAD,iBAAA,GAAA4M,OAAA,KAAkE,CAAAzP,EAAA,uBAA4BE,MAAA,CAAOwP,cAAA,GAAA1N,MAAA,qBAA6C,KAAO2M,OAAA,IAAY,YAAa,SAAU,OAAA/O,EAAAwE,KAAApE,EAAA,SAA8BiB,YAAA,OAAAkE,YAAA,CAAgCC,QAAA,QAAAG,aAAA,QAAAvD,MAAA,SAAuD,CAAApC,EAAAkC,GAAA,kBAAA9B,EAAA,kBAAAA,EAAA,SAA4DE,MAAA,CAAO8B,MAAA,OAAAI,KAAA,IAAyBjB,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA+I,MAAAkJ,YAAAzQ,WAAuC,CAAAxB,EAAAkC,GAAA,UAAA9B,EAAA,YAAAA,EAAA,SAA8CE,MAAA,CAAO8B,MAAA,MAAAI,KAAA,IAAwBjB,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAAkQ,eAAA,KAA4B,CAAAlQ,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOyE,YAAA,SAAoB/D,MAAA,CAAQzC,MAAAyB,EAAA,gBAAAiB,SAAA,SAAAC,GAAqDlB,EAAA6O,gBAAA3N,GAAwBE,WAAA,oBAA+B,CAAAhB,EAAA,UAAeE,MAAA,CAAO2E,MAAA,KAAY,CAAA7E,EAAA,eAAAA,EAAA,UAAiCE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,GAAAqR,eAAA,UAAgDlR,MAAA,CAAQzC,MAAAyB,EAAA,UAAAiB,SAAA,SAAAC,GAA+ClB,EAAAmS,UAAAjR,GAAkBE,WAAA,cAAyB,CAAApB,EAAAuD,GAAAvD,EAAA,wBAAAwD,EAAAC,GAAmD,OAAArD,EAAA,SAAmBvB,IAAA4E,EAAAnD,MAAA,CAAiBqR,OAAA,KAAa,CAAA3R,EAAAkC,GAAAlC,EAAA8B,GAAA0B,EAAAsL,oBAAuC9O,EAAAuD,GAAAvD,EAAA,wBAAAwD,EAAAC,GAAmD,OAAArD,EAAA,cAAwBvB,IAAA4E,GAAU,CAAArD,EAAA,UAAeE,MAAA,CAAOkC,KAAA,KAAW,CAAApC,EAAA,eAAAA,EAAA,SAAAJ,EAAAuD,GAAAC,EAAA,gBAAAwL,EAAAC,GAAgF,OAAA7O,EAAA,OAAiBvB,IAAAmQ,EAAAE,KAAgB,CAAA9O,EAAA,eAAAA,EAAA,uBAAAA,EAAA,gBAAiEE,MAAA,CAAO8R,cAAA,GAAAC,aAAA,GAAA5P,eAAA,IAAmDzB,MAAA,CAAQzC,MAAAyB,EAAAkR,eAAAzN,GAAA6O,OAAArD,GAAA,KAAAhO,SAAA,SAAAC,GAAiFlB,EAAAyQ,KAAAzQ,EAAAkR,eAAAzN,GAAA6O,OAAArD,GAAA,OAAA/N,IAAkEE,WAAA,kDAA2D,GAAAhB,EAAA,uBAAgCiB,YAAA,aAAwB,CAAAjB,EAAA,SAAcE,MAAA,CAAO8D,KAAA,GAAAuN,OAAA,IAAsBpQ,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAuS,SAAA9O,EAAAwL,MAAuC,CAAA7O,EAAA,UAAeE,MAAA,CAAO8B,MAAA,mBAA0B,CAAApC,EAAAkC,GAAA,wBAAA9B,EAAA,mBAAqD,WAAAA,EAAA,OAAuBiB,YAAA,kBAA6B,CAAAjB,EAAA,SAAcE,MAAA,CAAOkS,MAAA,GAAApQ,MAAA,UAAA+C,QAAA,IAA0C5D,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAyS,aAAAhP,MAAiC,CAAAzD,EAAAkC,GAAA,sBAA4B,OAAA9B,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAA0DE,MAAA,CAAO8B,MAAA,MAAAI,KAAA,GAAAkQ,YAAA,gBAAAC,gBAAA,UAA6EpR,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA6O,iBAAA,KAA8B,CAAA7O,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOqE,MAAA,OAAc3D,MAAA,CAAQzC,MAAAyB,EAAA,mBAAAiB,SAAA,SAAAC,GAAwDlB,EAAAmQ,mBAAAjP,GAA2BE,WAAA,uBAAkC,CAAAhB,EAAA,UAAAA,EAAA,aAA+BE,MAAA,CAAOO,KAAA,GAAAuB,MAAA,QAAyB,CAAAhC,EAAA,mBAAAJ,EAAAkC,GAAA,WAAA9B,EAAA,YAAAA,EAAA,SAAqEE,MAAA,CAAO8D,KAAA,GAAAvD,KAAA,IAAoBU,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAAmQ,oBAAA,KAAiC,CAAA/P,EAAA,UAAAJ,EAAAkC,GAAA,mBAAA9B,EAAA,eAAAA,EAAA,gBAA8EE,MAAA,CAAOoC,MAAA,OAAAN,MAAA,OAA6BpB,MAAA,CAAQzC,MAAAyB,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAA8O,cAAA5N,GAAsBE,WAAA,oBAA6B,GAAAhB,EAAA,aAAAA,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAsEE,MAAA,CAAOO,KAAA,GAAA2B,KAAA,IAAoBjB,GAAA,CAAKC,MAAAxB,EAAA4S,eAA0B,CAAA5S,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOwE,WAAA,GAAAH,MAAA,OAA8B3D,MAAA,CAAQzC,MAAAyB,EAAA,gBAAAiB,SAAA,SAAAC,GAAqDlB,EAAA6S,gBAAA3R,GAAwBE,WAAA,oBAA+B,CAAAhB,EAAA,UAAeE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,KAAyB,CAAAT,EAAA,eAAAJ,EAAAkC,GAAA,6BAAA9B,EAAA,qBAAgFiB,YAAA,OAAAf,MAAA,CAA0BwP,cAAA,GAAA1N,MAAA,YAAoC,WAAAhC,EAAA,YAA6BE,MAAA,CAAOwE,WAAA,GAAAH,MAAA,OAA8B3D,MAAA,CAAQzC,MAAAyB,EAAA,kBAAAiB,SAAA,SAAAC,GAAuDlB,EAAA8S,kBAAA5R,GAA0BE,WAAA,sBAAiC,CAAAhB,EAAA,UAAeE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,KAAyB,CAAAT,EAAA,eAAAJ,EAAAkC,GAAA,6BAAA9B,EAAA,qBAAgFiB,YAAA,OAAAf,MAAA,CAA0BwP,cAAA,GAAA1N,MAAA,YAAoC,WAAAhC,EAAA,YAA6BE,MAAA,CAAOqE,MAAA,OAAc3D,MAAA,CAAQzC,MAAAyB,EAAA,WAAAiB,SAAA,SAAAC,GAAgDlB,EAAA+Q,WAAA7P,GAAmBE,WAAA,eAA0B,CAAAhB,EAAA,UAAAA,EAAA,eAAAJ,EAAAkC,GAAA,eAAA9B,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAuGE,MAAA,CAAOkC,KAAA,IAAUjB,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA0I,QAAAvM,KAAA,YAAmC,CAAA6D,EAAAkC,GAAA,UAAA9B,EAAA,SAA+BE,MAAA,CAAOkC,KAAA,IAAUjB,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA8Q,aAAiB9Q,EAAA0I,QAAAvM,KAAA,YAA4B,CAAA6D,EAAAkC,GAAA,sBAAA9B,EAAA,YAA8CE,MAAA,CAAOyS,WAAA,GAAAC,eAAA,GAAA/F,WAAA,4BAA0EjM,MAAA,CAAQzC,MAAAyB,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAA4Q,cAAA1P,GAAsBE,WAAA,kBAA6B,CAAAhB,EAAA,UAAeE,MAAA,CAAO2E,MAAA,KAAY,CAAA7E,EAAA,aAAkBE,MAAA,CAAOO,KAAA,GAAAuB,MAAA,YAA6B,CAAAhC,EAAA,SAAcE,MAAA,CAAO8D,KAAA,GAAAvD,KAAA,IAAoBU,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAA4Q,eAAA,KAA4B,CAAAxQ,EAAA,UAAAJ,EAAAkC,GAAA,eAAA9B,EAAA,mBAAAJ,EAAAkC,GAAA,QAAA9B,EAAA,YAAAA,EAAA,mBAAAA,EAAA,SAA2HE,MAAA,CAAOO,KAAA,GAAA2B,KAAA,IAAoBjB,GAAA,CAAKC,MAAAxB,EAAAiT,cAAyB,CAAAjT,EAAAkC,GAAA,gBAAA9B,EAAA,UAAsCE,MAAA,CAAO4S,aAAA,GAAAC,UAAA,KAAgC,CAAA/S,EAAA,eAAAJ,EAAAkC,GAAA,UAAA9B,EAAA,eAAuDE,MAAA,CAAOgB,OAAA,KAAa,CAAAlB,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,YAAA9B,EAAA,yBAAAA,EAAA,UAAgHmF,YAAA,CAAaZ,MAAA,QAAerE,MAAA,CAAQ8S,OAAA,KAAa,CAAAhT,EAAA,gBAAqBiB,YAAA,OAAAf,MAAA,CAA0BmC,eAAA,GAAA2P,cAAA,GAAAnM,KAAA,UAAmDjF,MAAA,CAAQzC,MAAAyB,EAAAsQ,eAAA,UAAArP,SAAA,SAAAC,GAA8DlB,EAAAyQ,KAAAzQ,EAAAsQ,eAAA,YAAApP,IAA+CE,WAAA,+BAAwC,eAAAhB,EAAA,eAAoCE,MAAA,CAAOgB,OAAA,KAAa,CAAAlB,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,YAAA9B,EAAA,yBAAAA,EAAA,UAAgHmF,YAAA,CAAaZ,MAAA,QAAerE,MAAA,CAAQ8S,OAAA,KAAa,CAAAhT,EAAA,gBAAqBiB,YAAA,OAAAf,MAAA,CAA0BmC,eAAA,GAAA2P,cAAA,GAAAnM,KAAA,UAAmDjF,MAAA,CAAQzC,MAAAyB,EAAAsQ,eAAA,YAAArP,SAAA,SAAAC,GAAgElB,EAAAyQ,KAAAzQ,EAAAsQ,eAAA,cAAApP,IAAiDE,WAAA,iCAA0C,eAAAhB,EAAA,aAAAA,EAAA,eAAAJ,EAAAkC,GAAA,UAAA9B,EAAA,YAAoFiB,YAAA,OAAAf,MAAA,CAA0BgD,KAAA,KAAW,CAAAlD,EAAA,UAAeiB,YAAA,OAAAf,MAAA,CAA0BsD,KAAA,GAAAyP,IAAA,KAAoB,CAAAjT,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAAN,MAAA,OAA6BpB,MAAA,CAAQzC,MAAAyB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAAkF,SAAAhE,GAAiBE,WAAA,cAAwBhB,EAAA,gBAAqBE,MAAA,CAAOoC,MAAA,OAAAyC,QAAA,GAAAC,SAAA,GAAA7G,MAAAyB,EAAAqF,aAAiEjF,EAAA,SAAckF,IAAA,YAAAC,YAAA,CAA6BC,QAAA,QAAiB5D,SAAA,CAAWrD,MAAAyB,EAAAqF,aAAuBjF,EAAA,SAAckF,IAAA,YAAAC,YAAA,CAA6BC,QAAA,QAAiB5D,SAAA,CAAWrD,MAAA,gBAAAyB,EAAAqF,UAAA,2EAAqHjF,EAAA,YAAiBE,MAAA,CAAOoC,MAAA,OAAAN,MAAA,OAA6BpB,MAAA,CAAQzC,MAAAyB,EAAA,YAAAiB,SAAA,SAAAC,GAAiDlB,EAAAgG,YAAA9E,GAAoBE,WAAA,iBAA2BhB,EAAA,gBAAqBE,MAAA,CAAOoC,MAAA,OAAAuD,KAAAjG,EAAAgG,aAAAhG,EAAAkG,aAAA,kBAAAC,UAAAnG,EAAAgG,YAAAI,cAAApG,EAAAgG,aAAAhG,EAAAkG,aAAA,+BAA2L3E,GAAA,CAAK8E,eAAA,SAAA5E,GAAgCzB,EAAAkG,cAAAlG,EAAAkG,eAAsClF,MAAA,CAAQzC,MAAAyB,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAAsG,cAAApF,GAAsBE,WAAA,oBAA6B,GAAAhB,EAAA,UAAmBE,MAAA,CAAOsD,KAAA,GAAA0P,IAAA,KAAoB,CAAAlT,EAAA,YAAiBE,MAAA,CAAOoF,cAAA,GAAA1C,cAAA,KAAmC,CAAA5C,EAAA,UAAeE,MAAA,CAAOiT,iBAAA,KAAqB,CAAAnT,EAAA,UAAekF,IAAA,SAASlF,EAAA,YAAAA,EAAA,YAAkCiB,YAAA,OAAAf,MAAA,CAA0BmF,OAAA,GAAAC,cAAA,KAA8B,CAAAtF,EAAA,KAAUiB,YAAA,OAAAkE,YAAA,CAAgCI,aAAA,UAAsB,CAAA3F,EAAAkC,GAAA,0DAAA9B,EAAA,UAAgFE,MAAA,CAAOsF,MAAA,KAAY,CAAA5F,EAAAkC,GAAA,cAAA9B,EAAA,SAAmCE,MAAA,CAAO8B,MAAA,OAAAvB,KAAA,IAAyBU,GAAA,CAAKC,MAAAxB,EAAA6F,aAAwB,CAAA7F,EAAAkC,GAAA,cAAA9B,EAAA,SAAmCE,MAAA,CAAO8B,MAAA,OAAAvB,KAAA,IAAyBU,GAAA,CAAKC,MAAAxB,EAAA8F,WAAsB,CAAA9F,EAAAkC,GAAA,YAAA9B,EAAA,SAAiCE,MAAA,CAAO8B,MAAA,QAAAvB,KAAA,IAA0BU,GAAA,CAAKC,MAAAxB,EAAA+F,SAAoB,CAAA/F,EAAAkC,GAAA,4CACn9VsR,GAAe,0KCGnBC,gBAAoB,WAGnB,IAAIC,EAAiB,gBAEjBC,EAA2B,WAE3BC,EAAuB,WAE3B,SAASC,IAER,IAAIC,EAAQ,CACXC,QAAS,GACT/U,OAAQ,GAERgV,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,IAAK,GAELC,kBAAmB,GAEnBC,YAAa,SAAWvW,EAAMwW,GAI7B,GAAKrU,KAAKjB,SAA0C,IAAhCiB,KAAKjB,OAAOsV,gBAI/B,OAFArU,KAAKjB,OAAOlB,KAAOA,OACnBmC,KAAKjB,OAAOsV,iBAAwC,IAApBA,GAKjC,IAAIC,EAAqBtU,KAAKjB,QAAiD,oBAAhCiB,KAAKjB,OAAOwV,gBAAiCvU,KAAKjB,OAAOwV,uBAAoBC,EA8H5H,GA5HKxU,KAAKjB,QAA2C,oBAA1BiB,KAAKjB,OAAO0V,WAEtCzU,KAAKjB,OAAO0V,WAAW,GAIxBzU,KAAKjB,OAAS,CACblB,KAAMA,GAAQ,GACdwW,iBAAuC,IAApBA,EAEnBK,SAAU,CACTX,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,IAAK,IAENS,UAAW,GACXC,QAAQ,EAERC,cAAe,SAAWhX,EAAMiX,GAE/B,IAAIC,EAAW/U,KAAKyU,WAAW,GAI1BM,IAAcA,EAASC,WAAaD,EAASE,YAAc,IAE/DjV,KAAK2U,UAAUzX,OAAQ6X,EAASvR,MAAO,GAIxC,IAAI0R,EAAW,CACd1R,MAAOxD,KAAK2U,UAAU3Y,OACtB6B,KAAMA,GAAQ,GACdsX,OAAUC,KAAeN,IAAeA,EAAU9Y,OAAS,EAAI8Y,EAAWA,EAAU9Y,OAAS,GAAM,GACnG4Y,YAAuBJ,IAAbO,EAAyBA,EAASH,OAAS5U,KAAK4U,OAC1DS,gBAA2Bb,IAAbO,EAAyBA,EAASO,SAAW,EAC3DA,UAAY,EACZL,YAAc,EACdD,WAAW,EAEXO,MAAO,SAAW/R,GAEjB,IAAIgS,EAAS,CACZhS,MAA0B,kBAAVA,EAAqBA,EAAQxD,KAAKwD,MAClD3F,KAAMmC,KAAKnC,KACXsX,OAAQnV,KAAKmV,OACbP,OAAQ5U,KAAK4U,OACbS,WAAY,EACZC,UAAY,EACZL,YAAc,EACdD,WAAW,GAGZ,OADAQ,EAAOD,MAAQvV,KAAKuV,MAAM1W,KAAM2W,GACzBA,IAOT,OAFAxV,KAAK2U,UAAUzY,KAAMgZ,GAEdA,GAIRX,gBAAiB,WAEhB,GAAKvU,KAAK2U,UAAU3Y,OAAS,EAE5B,OAAOgE,KAAK2U,UAAW3U,KAAK2U,UAAU3Y,OAAS,IAQjDyY,UAAW,SAAWgB,GAErB,IAAIC,EAAoB1V,KAAKuU,kBAU7B,GATKmB,IAAsD,IAAjCA,EAAkBJ,WAE3CI,EAAkBJ,SAAWtV,KAAK0U,SAASX,SAAS/X,OAAS,EAC7D0Z,EAAkBT,WAAaS,EAAkBJ,SAAWI,EAAkBL,WAC9EK,EAAkBV,WAAY,GAK1BS,GAAOzV,KAAK2U,UAAU3Y,OAAS,EAEnC,IAAM,IAAI2Z,EAAK3V,KAAK2U,UAAU3Y,OAAS,EAAG2Z,GAAM,EAAGA,IAE7C3V,KAAK2U,UAAWgB,GAAKV,YAAc,GAEvCjV,KAAK2U,UAAUzX,OAAQyY,EAAI,GAkB9B,OATKF,GAAiC,IAA1BzV,KAAK2U,UAAU3Y,QAE1BgE,KAAK2U,UAAUzY,KAAM,CACpB2B,KAAM,GACN+W,OAAQ5U,KAAK4U,SAKRc,IAWJpB,GAAoBA,EAAiBzW,MAA0C,oBAA3ByW,EAAiBiB,MAAuB,CAEhG,IAAIK,EAAWtB,EAAiBiB,MAAO,GACvCK,EAASZ,WAAY,EACrBhV,KAAKjB,OAAO4V,UAAUzY,KAAM0Z,GAI7B5V,KAAK8T,QAAQ5X,KAAM8D,KAAKjB,SAIzB8W,SAAU,WAEJ7V,KAAKjB,QAA2C,oBAA1BiB,KAAKjB,OAAO0V,WAEtCzU,KAAKjB,OAAO0V,WAAW,IAMzBqB,iBAAkB,SAAWxX,EAAOyX,GAEnC,IAAIvS,EAAQwS,KAAU1X,EAAO,IAC7B,OAAsD,GAA7CkF,GAAS,EAAIA,EAAQ,EAAIA,EAAQuS,EAAM,IAIjDE,iBAAkB,SAAW3X,EAAOyX,GAEnC,IAAIvS,EAAQwS,KAAU1X,EAAO,IAC7B,OAAsD,GAA7CkF,GAAS,EAAIA,EAAQ,EAAIA,EAAQuS,EAAM,IAIjDG,aAAc,SAAW5X,EAAOyX,GAE/B,IAAIvS,EAAQwS,KAAU1X,EAAO,IAC7B,OAAsD,GAA7CkF,GAAS,EAAIA,EAAQ,EAAIA,EAAQuS,EAAM,IAIjDI,UAAW,SAAWvN,EAAGwN,EAAGzY,GAE3B,IAAI+D,EAAM1B,KAAK+T,SACXsC,EAAMrW,KAAKjB,OAAO2V,SAASX,SAE/BsC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IAC/CyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IAC/CC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIhD2Y,eAAgB,SAAW1N,GAE1B,IAAIlH,EAAM1B,KAAK+T,SACXsC,EAAMrW,KAAKjB,OAAO2V,SAASX,SAE/BsC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,KAIhD2N,cAAe,SAAW3N,GAEzB,IAAIlH,EAAM1B,KAAK+T,SACXsC,EAAMrW,KAAKjB,OAAO2V,SAASX,SAE/BsC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,KAIhD4N,UAAW,SAAW5N,EAAGwN,EAAGzY,GAE3B,IAAI+D,EAAM1B,KAAKgU,QACXqC,EAAMrW,KAAKjB,OAAO2V,SAASV,QAE/BqC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IAC/CyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IAC/CC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIhD8Y,SAAU,SAAW7N,EAAGwN,EAAGzY,GAE1B,IAAI+D,EAAM1B,KAAKiU,OACXoC,EAAMrW,KAAKjB,OAAO2V,SAAST,OAE/BoC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IAC/CyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IAC/CC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIhD+Y,MAAO,SAAW9N,EAAGwN,EAAGzY,GAEvB,IAAI+D,EAAM1B,KAAKkU,IACXmC,EAAMrW,KAAKjB,OAAO2V,SAASR,IAE/BmC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IACjCyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IACjCC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIlCgZ,UAAW,SAAW/N,GAErB,IAAIlH,EAAM1B,KAAKkU,IACXmC,EAAMrW,KAAKjB,OAAO2V,SAASR,IAE/BmC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,KAIlCgO,QAAS,SAAWhO,EAAGwN,EAAGzY,EAAGkZ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEhD,IAAIC,EAAOnX,KAAK+T,SAAS/X,OAErBob,EAAKpX,KAAK8V,iBAAkBlN,EAAGuO,GAC/BE,EAAKrX,KAAK8V,iBAAkBM,EAAGe,GAC/BG,EAAKtX,KAAK8V,iBAAkBnY,EAAGwZ,GAInC,GAFAnX,KAAKmW,UAAWiB,EAAIC,EAAIC,QAEZ9C,IAAPqC,GAA2B,KAAPA,EAAY,CAEpC,IAAIU,EAAQvX,KAAKkU,IAAIlY,OACrBob,EAAKpX,KAAKkW,aAAcW,EAAIU,GAC5BF,EAAKrX,KAAKkW,aAAcY,EAAIS,GAC5BD,EAAKtX,KAAKkW,aAAca,EAAIQ,GAC5BvX,KAAK0W,MAAOU,EAAIC,EAAIC,GAIrB,QAAY9C,IAAPwC,GAA2B,KAAPA,EAAY,CAGpC,IAAIQ,EAAOxX,KAAKgU,QAAQhY,OACxBob,EAAKpX,KAAKiW,iBAAkBe,EAAIQ,GAEhCH,EAAKL,IAAOC,EAAKG,EAAKpX,KAAKiW,iBAAkBgB,EAAIO,GACjDF,EAAKN,IAAOE,EAAKE,EAAKpX,KAAKiW,iBAAkBiB,EAAIM,GAEjDxX,KAAKwW,UAAWY,EAAIC,EAAIC,GAIpBtX,KAAKiU,OAAOjY,OAAS,GAEzBgE,KAAKyW,SAAUW,EAAIC,EAAIC,IAMzBG,iBAAkB,SAAW1D,GAE5B/T,KAAKjB,OAAO2V,SAAS1O,KAAO,SAI5B,IAFA,IAAImR,EAAOnX,KAAK+T,SAAS/X,OAEf0b,EAAK,EAAGja,EAAIsW,EAAS/X,OAAQ0b,EAAKja,EAAGia,IAE9C1X,KAAKsW,eAAgBtW,KAAK8V,iBAAkB/B,EAAU2D,GAAMP,KAM9DQ,gBAAiB,SAAW5D,EAAUG,GAErClU,KAAKjB,OAAO2V,SAAS1O,KAAO,OAK5B,IAHA,IAAImR,EAAOnX,KAAK+T,SAAS/X,OACrBub,EAAQvX,KAAKkU,IAAIlY,OAEX0b,EAAK,EAAGja,EAAIsW,EAAS/X,OAAQ0b,EAAKja,EAAGia,IAE9C1X,KAAKuW,cAAevW,KAAK8V,iBAAkB/B,EAAU2D,GAAMP,IAItD,IAAIS,EAAM,EAAhB,IAAmBna,EAAIyW,EAAIlY,OAAQ4b,EAAMna,EAAGma,IAE3C5X,KAAK2W,UAAW3W,KAAKkW,aAAchC,EAAK0D,GAAOL,MAUlD,OAFA1D,EAAMO,YAAa,IAAI,GAEhBP,EAMR,SAASgE,EAAWC,GAEnB9X,KAAK8X,aAAwBtD,IAAZsD,EAA0BA,EAAUtE,QAErDxT,KAAK2U,UAAY,KA0alB,OAtaAkD,EAAUzb,UAAY,CAErB2b,YAAaF,EAEbG,KAAM,SAAW9Q,EAAK+Q,EAAQC,EAAYC,GAEzC,IAAIC,EAAQpY,KAERqY,EAAS,IAAI7E,QAAkB4E,EAAMN,SACzCO,EAAOC,QAAStY,KAAK0P,MACrB2I,EAAOL,KAAM9Q,EAAK,SAAWqR,GAE5BN,EAAQG,EAAMI,MAAOD,KAEnBL,EAAYC,IAIhBG,QAAS,SAAWha,GAInB,OAFA0B,KAAK0P,KAAOpR,EAEL0B,MAIRyY,aAAc,SAAW9D,GAIxB,OAFA3U,KAAK2U,UAAYA,EAEV3U,MAIRwY,MAAO,SAAWD,GAEjBtQ,QAAQyQ,KAAM,aAEd,IAAI7E,EAAQ,IAAID,GAEkB,IAA7B2E,EAAK9U,QAAS,UAGlB8U,EAAOA,EAAKI,QAAS,QAAS,QAIG,IAA7BJ,EAAK9U,QAAS,UAGlB8U,EAAOA,EAAKI,QAAS,QAAS,KAY/B,IARA,IAAIC,EAAQL,EAAKM,MAAO,MACpBC,EAAO,GAAIC,EAAgB,GAC3BC,EAAa,EACbnc,EAAS,GAGToc,EAAoC,mBAAhB,GAAGA,SAEjBnd,EAAI,EAAG2B,EAAImb,EAAM5c,OAAQF,EAAI2B,EAAG3B,IAQzC,GANAgd,EAAOF,EAAO9c,GAEdgd,EAAOG,EAAWH,EAAKG,WAAaH,EAAKI,OAEzCF,EAAaF,EAAK9c,OAEE,IAAfgd,IAELD,EAAgBD,EAAKK,OAAQ,GAGN,MAAlBJ,GAEL,GAAuB,MAAlBA,EAAwB,CAE5B,IAAIvd,EAAOsd,EAAKD,MAAO,OAEvB,OAASrd,EAAM,IAEd,IAAK,IACJqY,EAAME,SAAS7X,KACdkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAEE,IAAhBA,EAAKQ,QAET6X,EAAMI,OAAO/X,KACZkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAKpB,MACD,IAAK,KACJqY,EAAMG,QAAQ9X,KACbkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAEnB,MACD,IAAK,KACJqY,EAAMK,IAAIhY,KACTkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAEnB,YAII,GAAuB,MAAlBud,EAAwB,CAQnC,IANA,IAAIM,EAAWP,EAAKQ,OAAQ,GAAIJ,OAC5BK,EAAaF,EAASR,MAAO,OAC7BW,EAAe,GAITxc,EAAI,EAAGyc,EAAKF,EAAWvd,OAAQgB,EAAIyc,EAAIzc,IAAO,CAEvD,IAAI0c,EAASH,EAAYvc,GAEzB,GAAK0c,EAAO1d,OAAS,EAAI,CAExB,IAAI2d,EAAcD,EAAOb,MAAO,KAChCW,EAAatd,KAAMyd,IAQrB,IAAIC,EAAKJ,EAAc,GAEvB,IAAUxc,EAAI,EAAGyc,EAAKD,EAAaxd,OAAS,EAAGgB,EAAIyc,EAAIzc,IAAO,CAE7D,IAAI6c,EAAKL,EAAcxc,GACnB8c,EAAKN,EAAcxc,EAAI,GAE3B6W,EAAM+C,QACLgD,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,UAKlB,GAAuB,MAAlBf,EAAwB,CAEnC,IAAIgB,EAAYjB,EAAKkB,UAAW,GAAId,OAAOL,MAAO,KAC9CoB,EAAe,GAAIC,EAAU,GAEjC,IAA+B,IAA1BpB,EAAKrV,QAAS,KAElBwW,EAAeF,OAIf,IAAM,IAAII,EAAK,EAAGC,EAAOL,EAAU/d,OAAQme,EAAKC,EAAMD,IAAQ,CAE7D,IAAIE,EAAQN,EAAWI,GAAKtB,MAAO,KAEf,KAAfwB,EAAO,IAAaJ,EAAa/d,KAAMme,EAAO,IAC/B,KAAfA,EAAO,IAAaH,EAAQhe,KAAMme,EAAO,IAKhDxG,EAAM8D,gBAAiBsC,EAAcC,QAE/B,GAAuB,MAAlBnB,EAAwB,CAE/BM,EAAWP,EAAKQ,OAAQ,GAAIJ,OAAhC,IACIoB,EAAYjB,EAASR,MAAO,KAEhChF,EAAM4D,iBAAkB6C,QAElB,GAAkD,QAA3Czd,EAAS4W,EAAe8G,KAAMzB,IAAoB,CAQ/D,IAAIjb,GAAS,IAAMhB,EAAQ,GAAIyc,OAAQ,GAAIJ,QAASI,OAAQ,GAE5DzF,EAAMO,YAAavW,QAEb,GAAK8V,EAAqB6G,KAAM1B,GAItCjF,EAAM9U,OAAO8V,cAAeiE,EAAKkB,UAAW,GAAId,OAAQrF,EAAMM,wBAExD,GAAKT,EAAyB8G,KAAM1B,GAI1CjF,EAAMM,kBAAkBjY,KAAM4c,EAAKkB,UAAW,GAAId,YAE5C,IAAuB,MAAlBH,EAsCL,CAGN,GAAc,OAATD,EAAgB,SAErB,MAAM,IAAI2B,MAAO,sCAAwC3B,EAAO,KAnBhE,GAtBAjc,EAASic,EAAKD,MAAO,KAsBhBhc,EAAOb,OAAS,EAAI,CAExB,IAAIsC,EAAQzB,EAAQ,GAAIqc,OAAOwB,cAC/B7G,EAAM9U,OAAO6V,OAAqB,MAAVtW,GAA2B,QAAVA,OAKzCuV,EAAM9U,OAAO6V,QAAS,EAGvB,IAAIM,EAAWrB,EAAM9U,OAAOwV,kBACvBW,IAAWA,EAASN,OAASf,EAAM9U,OAAO6V,QAajDf,EAAMgC,WAEN,IAAI8E,EAAY,IAAInH,QACpBmH,EAAUxG,kBAAoB,GAAGyG,OAAQ/G,EAAMM,mBAE/C,IAAUrY,EAAI,EAAG2B,EAAIoW,EAAMC,QAAQ9X,OAAQF,EAAI2B,EAAG3B,IAAO,CAExD,IAAIiD,EAAS8U,EAAMC,QAAShY,GACxB4Y,EAAW3V,EAAO2V,SAClBC,EAAY5V,EAAO4V,UACnBkG,EAA6B,SAAlBnG,EAAS1O,KACpB8U,EAA+B,WAAlBpG,EAAS1O,KACtB+U,GAAkB,EAGtB,GAAkC,IAA7BrG,EAASX,SAAS/X,OAAvB,CAEA,IAAIgf,EAAiB,IAAIxH,QAEzBwH,EAAeC,aAAc,WAAY,IAAIzH,QAA8BkB,EAASX,SAAU,IAEzFW,EAASV,QAAQhY,OAAS,EAE9Bgf,EAAeC,aAAc,SAAU,IAAIzH,QAA8BkB,EAASV,QAAS,IAI3FgH,EAAeE,uBAIXxG,EAAST,OAAOjY,OAAS,IAE7B+e,GAAkB,EAClBC,EAAeC,aAAc,QAAS,IAAIzH,QAA8BkB,EAAST,OAAQ,KAIrFS,EAASR,IAAIlY,OAAS,GAE1Bgf,EAAeC,aAAc,KAAM,IAAIzH,QAA8BkB,EAASR,IAAK,IAQpF,IAFA,IA8DIiH,EA9DAC,EAAmB,GAEbzF,EAAK,EAAG0F,EAAQ1G,EAAU3Y,OAAQ2Z,EAAK0F,EAAO1F,IAAQ,CAE/D,IAAI2F,EAAiB3G,EAAWgB,GAC5BT,OAAWV,EAEf,GAAwB,OAAnBxU,KAAK2U,UAKT,GAHAO,EAAWlV,KAAK2U,UAAUhW,OAAQ2c,EAAezd,OAG5Cgd,IAAU3F,GAAgBA,aAAoB1B,SAQ5C,GAAKsH,GAAY5F,KAAgBA,aAAoB1B,SAAyB,CAEpF,IAAI+H,EAAiB,IAAI/H,QAAsB,CAAExK,KAAM,GAAIwS,iBAAiB,IAC5EhI,QAAepX,UAAUqf,KAAKnf,KAAMif,EAAgBrG,GACpDqG,EAAepZ,MAAMsZ,KAAMvG,EAAS/S,OACpCoZ,EAAeG,IAAMxG,EAASwG,IAC9BH,EAAeI,QAAS,EACxBzG,EAAWqG,OAfmE,CAE9E,IAAIK,EAAe,IAAIpI,QACvBA,QAAepX,UAAUqf,KAAKnf,KAAMsf,EAAc1G,GAClD0G,EAAazZ,MAAMsZ,KAAMvG,EAAS/S,OAClCyZ,EAAaD,QAAS,EACtBzG,EAAW0G,EAeN1G,IAILA,EAFI2F,EAEO,IAAIrH,QAEJsH,EAEA,IAAItH,QAAsB,CAAExK,KAAM,EAAGwS,iBAAiB,IAItD,IAAIhI,QAIhB0B,EAASrX,KAAOyd,EAAezd,MAIhCqX,EAAS2G,aAAcP,EAAe1G,OACtCM,EAAS4G,aAAef,EAAkBvH,SAAqBA,QAE/D4H,EAAiBlf,KAAMgZ,GAQxB,GAAKkG,EAAiBpf,OAAS,EAAI,CAElC,IAAU2Z,EAAK,EAAG0F,EAAQ1G,EAAU3Y,OAAQ2Z,EAAK0F,EAAO1F,IAAQ,CAE3D2F,EAAiB3G,EAAWgB,GAChCqF,EAAee,SAAUT,EAAejG,WAAYiG,EAAerG,WAAYU,GAM/EwF,EAFIN,EAEG,IAAIrH,QAAoBwH,EAAgBI,GAEpCN,EAEJ,IAAItH,QAAcwH,EAAgBI,GAIlC,IAAI5H,QAAYwH,EAAgBI,QAQvCD,EAFIN,EAEG,IAAIrH,QAAoBwH,EAAgBI,EAAkB,IAEtDN,EAEJ,IAAItH,QAAcwH,EAAgBI,EAAkB,IAIpD,IAAI5H,QAAYwH,EAAgBI,EAAkB,IAM3DD,EAAKtd,KAAOkB,EAAOlB,KAEnB8c,EAAUqB,IAAKb,IAMhB,OAFAlT,QAAQgU,QAAS,aAEVtB,IAMF9C,EAtxBY,8ICiBpBrE,gBAAoB,WAEnB,IAAI0I,EACAC,EACAC,EAEJ,SAASC,EAAWvE,GAEnB9X,KAAK8X,aAAwBtD,IAAZsD,EAA0BA,EAAUtE,QAoGtD,SAAS8I,EAAeC,GAEvBvc,KAAKuc,cAAgBA,EAk2CtB,SAASC,KA6zBT,SAASC,KAukBT,SAASC,KAkVT,SAASC,KAwUT,SAASC,EAAcC,EAAQC,GAE9B9c,KAAK+c,GAAK,IAAIC,SAAUH,GACxB7c,KAAKid,OAAS,EACdjd,KAAK8c,kBAAkCtI,IAAjBsI,GAA+BA,EAmPtD,SAASI,KAgBT,SAASC,EAAmBN,GAE3B,IAAIO,EAAU,yBAEd,OAAOP,EAAOQ,YAAcD,EAAQphB,QAAUohB,IAAYE,EAA4BT,EAAQ,EAAGO,EAAQphB,QAI1G,SAASuhB,EAAkBhF,GAE1B,IAAI6E,EAAU,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,MAE9GI,EAAS,EAEb,SAASC,EAAMR,GAEd,IAAIpgB,EAAS0b,EAAM0E,EAAS,GAG5B,OAFA1E,EAAOA,EAAKlZ,MAAOme,EAASP,GAC5BO,IACO3gB,EAIR,IAAM,IAAIf,EAAI,EAAGA,EAAIshB,EAAQphB,SAAWF,EAAI,CAE3C,IAAI4hB,EAAMD,EAAM,GAChB,GAAKC,IAAQN,EAASthB,GAErB,OAAO,EAMT,OAAO,EAIR,SAAS6hB,EAAepF,GAEvB,IAAIqF,EAAgB,oBAChBC,EAAQtF,EAAKsF,MAAOD,GACxB,GAAKC,EAAQ,CAEZ,IAAIC,EAAU9H,KAAU6H,EAAO,IAC/B,OAAOC,EAGR,MAAM,IAAIrD,MAAO,uEAKlB,SAASsD,EAAyBrF,GAEjC,OAAOA,EAAO,WAhyHf2D,EAAUjgB,UAAY,CAErB2b,YAAasE,EAEb2B,YAAa,YAEbhG,KAAM,SAAW9Q,EAAK+Q,EAAQC,EAAYC,GAEzC,IAAI8F,EAAOje,KAEP0P,OAAuB8E,IAAdyJ,EAAKvO,KAAuB8D,QAAkB0K,eAAgBhX,GAAQ+W,EAAKvO,KAEpF2I,EAAS,IAAI7E,QAAkBxT,KAAK8X,SACxCO,EAAOC,QAAS2F,EAAKvO,MACrB2I,EAAO8F,gBAAiB,eAExB9F,EAAOL,KAAM9Q,EAAK,SAAW2V,GAE5B,IAEC5E,EAAQgG,EAAKzF,MAAOqE,EAAQnN,IAE3B,MAAQrH,GAET+V,WAAY,WAENjG,GAAUA,EAAS9P,GAExB4V,EAAKnG,QAAQuG,UAAWnX,IAEtB,KAIFgR,EAAYC,IAIhBG,QAAS,SAAWha,GAGnB,OADA0B,KAAK0P,KAAOpR,EACL0B,MAIRse,gBAAiB,SAAWhgB,GAG3B,OADA0B,KAAKue,aAAejgB,EACb0B,MAIRwe,eAAgB,SAAWlgB,GAG1B,OADA0B,KAAKge,YAAc1f,EACZ0B,MAIRwY,MAAO,SAAWiG,EAAW/O,GAE5B,GAAKyN,EAAmBsB,GAEvBvC,GAAU,IAAIS,GAAenE,MAAOiG,OAE9B,CAEN,IAAIC,EAAUpB,EAA4BmB,GAE1C,IAAOlB,EAAkBmB,GAExB,MAAM,IAAIjE,MAAO,oCAIlB,GAAKkD,EAAee,GAAY,IAE/B,MAAM,IAAIjE,MAAO,4DAA8DkD,EAAee,IAI/FxC,GAAU,IAAIQ,GAAalE,MAAOkG,GAMnC,IAAInC,EAAgB,IAAI/I,SAAqBxT,KAAK8X,SAAUQ,QAAStY,KAAKue,cAAgB7O,GAAO8O,eAAgBxe,KAAKge,aAEtH,OAAO,IAAI1B,EAAeC,GAAgB/D,MAAO0D,KAanDI,EAAclgB,UAAY,CAEzB2b,YAAauE,EAEb9D,MAAO,WAEN2D,EAAcnc,KAAK2e,mBAEnB,IAAIC,EAAS5e,KAAK6e,cACdzP,EAAWpP,KAAK8e,cAAeF,GAC/BjK,EAAY3U,KAAK+e,eAAgB3P,GACjC4P,EAAYhf,KAAKif,iBACjBC,GAAc,IAAI1C,GAAiBhE,MAAOwG,GAI9C,OAFAhf,KAAKmf,WAAYH,EAAWE,EAAavK,GAElCyH,GAMRuC,iBAAkB,WAEjB,IAAIS,EAAgB,IAAIC,GAAAzW,EAExB,GAAK,gBAAiBsT,EAAU,CAE/B,IAAIoD,EAAiBpD,EAAQqD,YAAYpD,YAEzCmD,EAAeE,QAAS,SAAWC,GAElC,IAAIC,EAASD,EAAe,GACxBE,EAAOF,EAAe,GACtBG,EAAeH,EAAe,GAE3BL,EAAcS,IAAKH,IAEzBN,EAAcU,IAAKJ,EAAQ,CAC1BK,QAAS,GACTC,SAAU,KAKZ,IAAIC,EAAqB,CAAEC,GAAIP,EAAMC,aAAcA,GACnDR,EAAclhB,IAAKwhB,GAASK,QAAQ7jB,KAAM+jB,GAEnCb,EAAcS,IAAKF,IAEzBP,EAAcU,IAAKH,EAAM,CACxBI,QAAS,GACTC,SAAU,KAKZ,IAAIG,EAAoB,CAAED,GAAIR,EAAQE,aAAcA,GACpDR,EAAclhB,IAAKyhB,GAAOK,SAAS9jB,KAAMikB,KAM3C,OAAOf,GAORP,YAAa,WAEZ,IAAID,EAAS,GACTwB,EAAQ,GAEZ,GAAK,UAAWlE,EAAQmE,QAAU,CAEjC,IAAIC,EAAapE,EAAQmE,QAAQE,MAEjC,IAAM,IAAIC,KAAUF,EAAa,CAEhC,IAAIG,EAAYH,EAAYE,GAExB3f,EAAKmV,KAAUwK,GAKnB,GAHA5B,EAAQ/d,GAAO4f,EAAUC,kBAAoBD,EAAUE,SAGlD,YAAaF,EAAY,CAE7B,IAAIG,EAAuBH,EAAUI,mBAAmBC,aAAmBL,EAAUI,QAAQxD,WAAa,EACtG0D,EAA+C,kBAAtBN,EAAUI,SAAkD,KAAtBJ,EAAUI,QAE7E,GAAKD,GAAsBG,EAAgB,CAE1C,IAAIC,EAAQhhB,KAAKihB,WAAYX,EAAYE,IAEzCJ,EAAOK,EAAUC,kBAAoBD,EAAUE,UAAaK,KAUhE,IAAM,IAAIngB,KAAM+d,EAAS,CAExB,IAAIsC,EAAWtC,EAAQ/d,QAEI2T,IAAtB4L,EAAOc,GAA2BtC,EAAQ/d,GAAOuf,EAAOc,GACxDtC,EAAQ/d,GAAO+d,EAAQ/d,GAAKgY,MAAO,MAAOsI,MAIhD,OAAOvC,GAKRqC,WAAY,SAAWR,GAEtB,IAIIza,EAJAob,EAAUX,EAAUI,QACpBQ,EAAWZ,EAAUC,kBAAoBD,EAAUE,SACnDW,EAAYD,EAAShiB,MAAOgiB,EAASE,YAAa,KAAQ,GAAI7G,cAIlE,OAAS4G,GAER,IAAK,MAEJtb,EAAO,YACP,MAED,IAAK,MACL,IAAK,OAEJA,EAAO,aACP,MAED,IAAK,MAEJA,EAAO,YACP,MAED,IAAK,MAEJA,EAAO,aACP,MAED,IAAK,MAEJ,GAAgC,oBAApBwN,gBAGX,YADAvL,QAAQuZ,KAAM,+DAKd,GAA6C,OAAxChO,QAAaiO,SAASvjB,IAAK,QAAoB,CAEnD,IAAIwjB,EAAY,IAAIlO,gBACpBkO,EAAUpJ,QAAStY,KAAKuc,cAAc7M,MAEtC8D,QAAaiO,SAASzF,IAAK,UAAW0F,GAIvC1b,EAAO,YACP,MAIF,QAGC,YADAiC,QAAQuZ,KAAM,0BAA4BF,EAAY,uBAKxD,GAAwB,kBAAZF,EAEX,MAAO,QAAUpb,EAAO,WAAaob,EAIrC,IAAIO,EAAQ,IAAIC,WAAYR,GAC5B,OAAOjiB,OAAO0iB,IAAIC,gBAAiB,IAAIC,KAAM,CAAEJ,GAAS,CAAE3b,KAAMA,MASlE8Y,cAAe,SAAWF,GAEzB,IAAIoD,EAAa,IAAI3C,GAAAzW,EAErB,GAAK,YAAasT,EAAQmE,QAAU,CAEnC,IAAI4B,EAAe/F,EAAQmE,QAAQ6B,QACnC,IAAM,IAAI1B,KAAUyB,EAAe,CAElC,IAAIE,EAAUniB,KAAKoiB,aAAcH,EAAczB,GAAU5B,GACzDoD,EAAWlC,IAAK9J,KAAUwK,GAAU2B,IAMtC,OAAOH,GAKRI,aAAc,SAAWC,EAAazD,GAErC,IAAIuD,EAAUniB,KAAKsiB,YAAaD,EAAazD,GAE7CuD,EAAQjC,GAAKmC,EAAYxhB,GAEzBshB,EAAQtkB,KAAOwkB,EAAYE,SAE3B,IAAIC,EAAYH,EAAYI,UACxBC,EAAYL,EAAYM,UAExBC,OAAuBpO,IAAdgO,EAA0BA,EAAUlkB,MAAQ,EACrDukB,OAAuBrO,IAAdkO,EAA0BA,EAAUpkB,MAAQ,EAQzD,GAHA6jB,EAAQW,MAAmB,IAAXF,EAAepP,QAAuBA,QACtD2O,EAAQY,MAAmB,IAAXF,EAAerP,QAAuBA,QAEjD,YAAa6O,EAAc,CAE/B,IAAIW,EAASX,EAAYY,QAAQ3kB,MAEjC6jB,EAAQe,OAAOC,EAAIH,EAAQ,GAC3Bb,EAAQe,OAAOE,EAAIJ,EAAQ,GAI5B,OAAOb,GAKRG,YAAa,SAAWD,EAAazD,GAEpC,IAAIyC,EAkBAc,EAhBAkB,EAAcrjB,KAAKuc,cAAc7M,KAEjCsQ,EAAW7D,EAAYje,IAAKmkB,EAAYxhB,IAAKmf,cAE/BxL,IAAbwL,GAA0BA,EAAShkB,OAAS,QAAoCwY,IAA/BoK,EAAQoB,EAAU,GAAIE,MAE3EmB,EAAWzC,EAAQoB,EAAU,GAAIE,IAEI,IAAhCmB,EAAS5d,QAAS,UAAmD,IAAhC4d,EAAS5d,QAAS,UAE3DzD,KAAKuc,cAAcjE,aAAS9D,IAQ9B,IAAI8M,EAAYe,EAAYiB,SAASjkB,OAAS,GAAIqb,cAElD,GAAmB,QAAd4G,EAAsB,CAE1B,IAAIjJ,EAAS7E,QAAaiO,SAASvjB,IAAK,QAExB,OAAXma,GAEJpQ,QAAQuZ,KAAM,yEAA0EH,GACxFc,EAAU,IAAI3O,UAId2O,EAAU9J,EAAOL,KAAMqJ,OAIC,QAAdC,GAEXrZ,QAAQuZ,KAAM,oFAAqFH,GACnGc,EAAU,IAAI3O,UAId2O,EAAUniB,KAAKuc,cAAcvE,KAAMqJ,GAMpC,OAFArhB,KAAKuc,cAAcjE,QAAS+K,GAErBlB,GAKRpD,eAAgB,SAAWiD,GAE1B,IAAIuB,EAAc,IAAIlE,GAAAzW,EAEtB,GAAK,aAAcsT,EAAQmE,QAAU,CAEpC,IAAImD,EAAgBtH,EAAQmE,QAAQoD,SAEpC,IAAM,IAAIjD,KAAUgD,EAAgB,CAEnC,IAAItO,EAAWlV,KAAK0jB,cAAeF,EAAehD,GAAUwB,GAE1C,OAAb9M,GAAoBqO,EAAYzD,IAAK9J,KAAUwK,GAAUtL,IAMhE,OAAOqO,GAORG,cAAe,SAAWC,EAAc3B,GAEvC,IAAI9B,EAAKyD,EAAa9iB,GAClBhD,EAAO8lB,EAAapB,SACpBvc,EAAO2d,EAAaC,aAUxB,GAPqB,WAAhBznB,OAAA0nB,GAAA,KAAA1nB,CAAO6J,KAEXA,EAAOA,EAAK1H,QAKN6d,EAAY0D,IAAKK,GAAO,OAAO,KAEtC,IAEIhL,EAFA4O,EAAa9jB,KAAK+jB,gBAAiBJ,EAAc3B,EAAY9B,GAIjE,OAASla,EAAK0U,eAEb,IAAK,QACJxF,EAAW,IAAI1B,QACf,MACD,IAAK,UACJ0B,EAAW,IAAI1B,QACf,MACD,QACCvL,QAAQuZ,KAAM,gFAAiFxb,GAC/FkP,EAAW,IAAI1B,QACf,MAOF,OAHA0B,EAAS8O,UAAWF,GACpB5O,EAASrX,KAAOA,EAETqX,GAMR6O,gBAAiB,SAAWJ,EAAc3B,EAAY9B,GAErD,IAAI4D,EAAa,GAEZH,EAAaM,aAEjBH,EAAWI,UAAYP,EAAaM,WAAW3lB,OAG3CqlB,EAAaQ,QAEjBL,EAAW3hB,OAAQ,IAAIqR,SAAc4Q,UAAWT,EAAaQ,QAAQ7lB,OAE1DqlB,EAAaU,cAAmD,UAAnCV,EAAaU,aAAare,OAGlE8d,EAAW3hB,OAAQ,IAAIqR,SAAc4Q,UAAWT,EAAaU,aAAa/lB,QAItEqlB,EAAaW,qBAEjBR,EAAWS,kBAAoBZ,EAAaW,mBAAmBhmB,OAI3DqlB,EAAaa,SAEjBV,EAAWW,UAAW,IAAIjR,SAAc4Q,UAAWT,EAAaa,SAASlmB,OAE9DqlB,EAAae,eAAqD,UAApCf,EAAae,cAAc1e,OAGpE8d,EAAWW,UAAW,IAAIjR,SAAc4Q,UAAWT,EAAae,cAAcpmB,QAI1EqlB,EAAagB,iBAEjBb,EAAWc,kBAAoBxL,KAAYuK,EAAagB,eAAermB,QAInEqlB,EAAakB,UAEjBf,EAAWgB,QAAU1L,KAAYuK,EAAakB,QAAQvmB,QAIlDwlB,EAAWgB,QAAU,IAEzBhB,EAAWiB,aAAc,GAIrBpB,EAAaqB,mBAEjBlB,EAAWmB,aAAetB,EAAaqB,iBAAiB1mB,OAIpDqlB,EAAauB,YAEjBpB,EAAWqB,UAAYxB,EAAauB,UAAU5mB,OAI1CqlB,EAAayB,SAEjBtB,EAAWuB,UAAW,IAAI7R,SAAc4Q,UAAWT,EAAayB,SAAS9mB,OAE9DqlB,EAAa2B,eAAqD,UAApC3B,EAAa2B,cAActf,OAGpE8d,EAAWuB,UAAW,IAAI7R,SAAc4Q,UAAWT,EAAa2B,cAAchnB,QAI/E,IAAI2f,EAAOje,KA2DX,OA1DAmc,EAAYje,IAAKgiB,GAAKF,SAASR,QAAS,SAAW+F,GAElD,IAAIvf,EAAOuf,EAAM3F,aAEjB,OAAS5Z,GAER,IAAK,OACJ8d,EAAW0B,QAAUvH,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACxD,MAED,IAAK,kBACJ4D,EAAW4B,MAAQzH,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACtD,MAED,IAAK,eACL,IAAK,qBACJ4D,EAAWpI,IAAMuC,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACpD,MAED,IAAK,oBACJ4D,EAAW6B,gBAAkB1H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAChE,MAED,IAAK,gBACJ4D,EAAW8B,YAAc3H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAC5D,MAED,IAAK,YACL,IAAK,sBACJ4D,EAAW+B,UAAY5H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAC1D,MAED,IAAK,kBACJ4D,EAAWgC,OAAS7H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACvD4D,EAAWgC,OAAOC,QAAUvS,QAC5B,MAED,IAAK,gBACJsQ,EAAWkC,YAAc/H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAC5D,MAED,IAAK,mBACJ4D,EAAWmC,SAAWhI,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACzD4D,EAAWiB,aAAc,EACzB,MAED,IAAK,eACL,IAAK,oBACL,IAAK,iBACL,IAAK,0BACL,QACC9c,QAAQuZ,KAAM,0EAA2Exb,GACzF,SAMI8d,GAKR2B,WAAY,SAAWzD,EAAYnhB,GAUlC,MAPK,mBAAoBqb,EAAQmE,SAAWxf,KAAMqb,EAAQmE,QAAQ6F,iBAEjEje,QAAQuZ,KAAM,oGACd3gB,EAAKsb,EAAYje,IAAK2C,GAAKmf,SAAU,GAAIE,IAInC8B,EAAW9jB,IAAK2C,IAOxBoe,eAAgB,WAEf,IAAIkH,EAAY,GACZC,EAAe,GAEnB,GAAK,aAAclK,EAAQmE,QAAU,CAEpC,IAAIgG,EAAgBnK,EAAQmE,QAAQiG,SAEpC,IAAM,IAAI9F,KAAU6F,EAAgB,CAEnC,IAAIE,EAAeF,EAAe7F,GAE9BgG,EAAgBrK,EAAYje,IAAK8X,KAAUwK,IAE/C,GAA+B,SAA1B+F,EAAaE,SAAsB,CAEvC,IAAIC,EAAW1mB,KAAK2mB,cAAeH,EAAeH,GAClDK,EAASxG,GAAKM,EAETgG,EAAczG,QAAQ/jB,OAAS,GAAIiM,QAAQuZ,KAAM,kFACtDkF,EAASE,WAAaJ,EAAczG,QAAS,GAAIG,GAEjDiG,EAAW3F,GAAWkG,OAEhB,GAA+B,eAA1BH,EAAaE,SAA4B,CAEpD,IAAII,EAAc,CACjBhmB,GAAI2f,GAGLqG,EAAYC,WAAa9mB,KAAK+mB,kBAAmBP,EAAeH,GAChEQ,EAAYhmB,GAAK2f,EAEZgG,EAAczG,QAAQ/jB,OAAS,GAAIiM,QAAQuZ,KAAM,sFAEtD4E,EAAc5F,GAAWqG,IAQ5B,MAAO,CAENV,UAAWA,EACXC,aAAcA,IAShBO,cAAe,SAAWH,EAAeQ,GAExC,IAAIC,EAAW,GA8Bf,OA5BAT,EAAcxG,SAASR,QAAS,SAAW+F,GAE1C,IAAI2B,EAAWF,EAAezB,EAAMrF,IAEpC,GAA2B,YAAtBgH,EAAST,SAAd,CAEA,IAAIU,EAAU,CAEbjH,GAAIqF,EAAMrF,GACVkH,QAAS,GACTC,QAAS,GACTC,eAAe,IAAI9T,SAAgB4Q,UAAW8C,EAASK,cAAc3e,IAMjE,YAAase,IAEjBC,EAAQC,QAAUF,EAASM,QAAQ5e,EACnCue,EAAQE,QAAUH,EAASO,QAAQ7e,GAIpCqe,EAAS/qB,KAAMirB,MAIT,CAENF,SAAUA,EACVS,MAAO,KAOTX,kBAAmB,SAAWP,EAAeQ,GAI5C,IAFA,IAAIW,EAAkB,GAEZ7rB,EAAI,EAAGA,EAAI0qB,EAAcxG,SAAShkB,OAAQF,IAAO,CAE1D,IAAIypB,EAAQiB,EAAcxG,SAAUlkB,GAEhC8rB,EAAkBZ,EAAezB,EAAMrF,IAEvC2H,EAAiB,CAEpBhqB,KAAM+pB,EAAgBrF,SACtBuF,cAAeF,EAAgBG,cAC/BlnB,GAAI+mB,EAAgB/mB,GACpBmnB,YAAaJ,EAAgBK,YAAYrf,GAI1C,GAAkC,sBAA7Bgf,EAAgBnB,SAAmC,OAExDoB,EAAeK,MAAQ/L,EAAYje,IAAK8X,KAAUuP,EAAMrF,KAAOF,SAASmI,OAAQ,SAAW5C,GAE1F,YAA8B/Q,IAAvB+Q,EAAM3F,eAET,GAAIM,GAETyH,EAAgBzrB,KAAM2rB,GAIvB,OAAOF,GAKRxI,WAAY,SAAWH,EAAWE,EAAaqE,GAE9CnH,EAAa,IAAI5I,QAEjB,IAAI4U,EAAWpoB,KAAKqoB,YAAarJ,EAAUmH,UAAWjH,EAAaqE,GAE/D+E,EAAapM,EAAQmE,QAAQkI,MAE7BtK,EAAOje,KACXooB,EAAS5I,QAAS,SAAWze,GAE5B,IAAIynB,EAAYF,EAAYvnB,EAAMmf,IAClCjC,EAAKwK,oBAAqB1nB,EAAOynB,GAEjC,IAAIE,EAAoBvM,EAAYje,IAAK6C,EAAMmf,IAAKH,QAEpD2I,EAAkBlJ,QAAS,SAAWmJ,GAErC,IAAIC,EAASR,EAASlqB,IAAKyqB,EAAWzI,SACtB1L,IAAXoU,GAAuBA,EAAO5M,IAAKjb,KAInB,OAAjBA,EAAM6nB,QAEVxM,EAAWJ,IAAKjb,KAOlBf,KAAK6oB,aAAc7J,EAAUmH,UAAWjH,EAAakJ,GAErDpoB,KAAK8oB,qBAEL9oB,KAAK+oB,sBAEL3M,EAAW4M,SAAU,SAAWC,GAE/B,GAAKA,EAAKC,SAASC,cAAgB,CAE7BF,EAAKL,SAASK,EAAKC,SAASC,cAAcC,kBAAoBH,EAAKL,OAAOS,QAE/E,IAAIC,EAAYC,EAAmBN,EAAKC,SAASC,eAEjDF,EAAKO,YAAaF,MAMpB,IAAIG,GAAa,IAAIhN,GAAkBjE,QAGH,IAA/B4D,EAAW4D,SAAShkB,QAAgBogB,EAAW4D,SAAU,GAAI0J,UAEjEtN,EAAW4D,SAAU,GAAIyJ,WAAaA,EACtCrN,EAAaA,EAAW4D,SAAU,IAInC5D,EAAWqN,WAAaA,GAKzBpB,YAAa,SAAWlC,EAAWjH,EAAaqE,GAE/C,IAAI6E,EAAW,IAAI/I,GAAAzW,EACf0f,EAAapM,EAAQmE,QAAQkI,MAEjC,IAAM,IAAI/H,KAAU8H,EAAa,CAEhC,IAAIznB,EAAKmV,KAAUwK,GACfyI,EAAOX,EAAY9H,GACnBgG,EAAgBrK,EAAYje,IAAK2C,GAEjCE,EAAQf,KAAK2pB,cAAenD,EAAeL,EAAWtlB,EAAIooB,EAAK1G,UAEnE,IAAOxhB,EAAQ,CAEd,OAASkoB,EAAKxC,UAEb,IAAK,SACJ1lB,EAAQf,KAAK4pB,aAAcpD,GAC3B,MACD,IAAK,QACJzlB,EAAQf,KAAK6pB,YAAarD,GAC1B,MACD,IAAK,OACJzlB,EAAQf,KAAK8pB,WAAYtD,EAAetH,EAAaqE,GACrD,MACD,IAAK,aACJxiB,EAAQf,KAAK+pB,YAAavD,EAAetH,GACzC,MACD,IAAK,WACL,IAAK,OACJne,EAAQ,IAAIyS,QACZ,MACD,IAAK,OACL,QACCzS,EAAQ,IAAIyS,QACZ,MAIFzS,EAAMlD,KAAO2V,QAAsBwW,iBAAkBf,EAAK1G,UAC1DxhB,EAAMmf,GAAKrf,EAIZb,KAAKiqB,iBAAkBlpB,EAAOkoB,GAC9Bb,EAAStI,IAAKjf,EAAIE,GAInB,OAAOqnB,GAIRuB,cAAe,SAAWnD,EAAeL,EAAWtlB,EAAIhD,GAEvD,IAAIqsB,EAAO,KAuCX,OArCA1D,EAAczG,QAAQP,QAAS,SAAWoJ,GAEzC,IAAM,IAAI1I,KAAMiG,EAAY,CAE3B,IAAIO,EAAWP,EAAWjG,GAE1BwG,EAASO,SAASzH,QAAS,SAAW2H,EAASrrB,GAE9C,GAAKqrB,EAAQjH,KAAO0I,EAAO1I,GAAK,CAE/B,IAAIiK,EAAUD,EACdA,EAAO,IAAI1W,QAEX0W,EAAKE,YAAY3O,KAAM0L,EAAQG,eAG/B4C,EAAKrsB,KAAO2V,QAAsBwW,iBAAkBnsB,GACpDqsB,EAAKhK,GAAKrf,EAEV6lB,EAASgB,MAAO5rB,GAAMouB,EAIL,OAAZC,GAEJD,EAAKlO,IAAKmO,SAYRD,GAKRN,aAAc,SAAWpD,GAExB,IAAIzlB,EACAspB,EAcJ,GAZA7D,EAAcxG,SAASR,QAAS,SAAW+F,GAE1C,IAAI+E,EAAOpO,EAAQmE,QAAQkK,cAAehF,EAAMrF,SAElC1L,IAAT8V,IAEJD,EAAkBC,UAMK9V,IAApB6V,EAEJtpB,EAAQ,IAAIyS,YAEN,CAEN,IAAIxN,EAAO,OACmCwO,IAAzC6V,EAAgBG,sBAAqF,IAA/CH,EAAgBG,qBAAqBlsB,QAE/F0H,EAAO,GAIR,IAAIykB,EAAoB,OACWjW,IAA9B6V,EAAgBK,YAEpBD,EAAoBJ,EAAgBK,UAAUpsB,MAAQ,KAIvD,IAAIqsB,EAAmB,SACWnW,IAA7B6V,EAAgBO,WAEpBD,EAAmBN,EAAgBO,SAAStsB,MAAQ,KAKrD,IAAIoG,EAAQvF,OAAO0rB,WACf9mB,EAAS5E,OAAO2rB,iBAEiBtW,IAAhC6V,EAAgBU,kBAA8DvW,IAAjC6V,EAAgBW,eAEjEtmB,EAAQ2lB,EAAgBU,YAAYzsB,MACpCyF,EAASsmB,EAAgBW,aAAa1sB,OAIvC,IAAI2sB,EAASvmB,EAAQX,EAEjBmnB,EAAM,QAC2B1W,IAAhC6V,EAAgBc,cAEpBD,EAAMb,EAAgBc,YAAY7sB,OAInC,IAAI8sB,EAAcf,EAAgBgB,YAAchB,EAAgBgB,YAAY/sB,MAAQ,KAEpF,OAAS0H,GAER,KAAK,EACJjF,EAAQ,IAAIyS,QAAyB0X,EAAKD,EAAQR,EAAmBE,GAChD,OAAhBS,GAAuBrqB,EAAMuqB,eAAgBF,GAClD,MAED,KAAK,EACJrqB,EAAQ,IAAIyS,SAA4B9O,EAAQ,EAAGA,EAAQ,EAAGX,EAAS,GAAKA,EAAS,EAAG0mB,EAAmBE,GAC3G,MAED,QACC1iB,QAAQuZ,KAAM,wCAA0Cxb,EAAO,KAC/DjF,EAAQ,IAAIyS,QACZ,OAMH,OAAOzS,GAKR8oB,YAAa,SAAWrD,GAEvB,IAAIzlB,EACAwqB,EAcJ,GAZA/E,EAAcxG,SAASR,QAAS,SAAW+F,GAE1C,IAAI+E,EAAOpO,EAAQmE,QAAQkK,cAAehF,EAAMrF,SAElC1L,IAAT8V,IAEJiB,EAAiBjB,UAMK9V,IAAnB+W,EAEJxqB,EAAQ,IAAIyS,YAEN,CAEN,IAAIxN,EAKHA,OAFiCwO,IAA7B+W,EAAeC,UAEZ,EAIAD,EAAeC,UAAUltB,MAIjC,IAAI6D,EAAQ,cAEkBqS,IAAzB+W,EAAeE,QAEnBtpB,GAAQ,IAAIqR,SAAc4Q,UAAWmH,EAAeE,MAAMntB,QAI3D,IAAIotB,OAA2ClX,IAA7B+W,EAAeI,UAA4B,EAAIJ,EAAeI,UAAUrtB,MAAQ,SAGxDkW,IAArC+W,EAAeK,mBAA8E,IAA3CL,EAAeK,kBAAkBttB,QAEvFotB,EAAY,GAIb,IAAIG,EAAW,OAC2BrX,IAArC+W,EAAeO,oBAIlBD,OAF4CrX,IAAxC+W,EAAeQ,sBAAoF,IAA9CR,EAAeQ,qBAAqBztB,MAElF,EAIAitB,EAAeO,kBAAkBxtB,OAO9C,IAAI0tB,EAAQ,EAEZ,OAAShmB,GAER,KAAK,EACJjF,EAAQ,IAAIyS,QAAkBrR,EAAOupB,EAAWG,EAAUG,GAC1D,MAED,KAAK,EACJjrB,EAAQ,IAAIyS,QAAwBrR,EAAOupB,GAC3C,MAED,KAAK,EACJ,IAAIO,EAAQC,KAAKC,GAAK,OAEa3X,IAA9B+W,EAAea,aAEnBH,EAAQzY,QAAW6Y,SAAUd,EAAea,WAAW9tB,QAIxD,IAAIguB,EAAW,OACoB9X,IAA9B+W,EAAegB,aAKnBD,EAAW9Y,QAAW6Y,SAAUd,EAAegB,WAAWjuB,OAC1DguB,EAAWJ,KAAK9b,IAAKkc,EAAU,IAIhCvrB,EAAQ,IAAIyS,QAAiBrR,EAAOupB,EAAWG,EAAUI,EAAOK,EAAUN,GAC1E,MAED,QACC/jB,QAAQuZ,KAAM,uCAAyC+J,EAAeC,UAAUltB,MAAQ,uCACxFyC,EAAQ,IAAIyS,QAAkBrR,EAAOupB,GACrC,WAIkClX,IAA/B+W,EAAeiB,aAAkE,IAArCjB,EAAeiB,YAAYluB,QAE3EyC,EAAM0rB,YAAa,GAMrB,OAAO1rB,GAIR+oB,WAAY,SAAWtD,EAAetH,EAAaqE,GAElD,IAAIxiB,EACA2T,EAAW,KACXQ,EAAW,KACXP,EAAY,GA6DhB,OA1DA6R,EAAcxG,SAASR,QAAS,SAAW+F,GAErCrG,EAAYW,IAAK0F,EAAMrF,MAE3BxL,EAAWwK,EAAYhhB,IAAKqnB,EAAMrF,KAI9BqD,EAAY1D,IAAK0F,EAAMrF,KAE3BvL,EAAUzY,KAAMqnB,EAAYrlB,IAAKqnB,EAAMrF,OAMpCvL,EAAU3Y,OAAS,EAEvBkZ,EAAWP,EAEAA,EAAU3Y,OAAS,EAE9BkZ,EAAWP,EAAW,IAItBO,EAAW,IAAI1B,QAAyB,CAAErR,MAAO,WACjDwS,EAAUzY,KAAMgZ,IAIZ,UAAWR,EAASgY,YAExB/X,EAAU6K,QAAS,SAAWtK,GAE7BA,EAAS4G,aAAetI,WAMrBkB,EAASiY,cAEbhY,EAAU6K,QAAS,SAAWtK,GAE7BA,EAAS0X,UAAW,IAIrB7rB,EAAQ,IAAIyS,QAAmBkB,EAAUQ,GACzCnU,EAAM8rB,wBAIN9rB,EAAQ,IAAIyS,QAAYkB,EAAUQ,GAI5BnU,GAIRgpB,YAAa,SAAWvD,EAAetH,GAEtC,IAAIxK,EAAW8R,EAAcxG,SAAS8M,OAAQ,SAAWC,EAAKxH,GAI7D,OAFKrG,EAAYW,IAAK0F,EAAMrF,MAAO6M,EAAM7N,EAAYhhB,IAAKqnB,EAAMrF,KAEzD6M,GAEL,MAGC7X,EAAW,IAAI1B,QAAyB,CAAErR,MAAO,QAAU6qB,UAAW,IAC1E,OAAO,IAAIxZ,QAAYkB,EAAUQ,IAKlC+U,iBAAkB,SAAWlpB,EAAOynB,GAEnC,IAAIW,EAAgB,GAEf,gBAAiBX,IAAYW,EAAc8D,YAAcjX,KAAUwS,EAAU0E,YAAY5uB,QAE1D6qB,EAAcgE,WAA7C,kBAAmB3E,EAAuC4E,EAAe5E,EAAU6E,cAAc/uB,OACtE,MAE3B,oBAAqBkqB,IAAYW,EAAcmE,YAAc9E,EAAU+E,gBAAgBjvB,OAEvF,gBAAiBkqB,IAAYW,EAAcqE,YAAchF,EAAUiF,YAAYnvB,OAC/E,iBAAkBkqB,IAAYW,EAAcuE,SAAWlF,EAAUmF,aAAarvB,OAC9E,iBAAkBkqB,IAAYW,EAAcyE,aAAepF,EAAUqF,aAAavvB,OAElF,gBAAiBkqB,IAAYW,EAAc2E,MAAQtF,EAAUuF,YAAYzvB,OAEzE,kBAAmBkqB,IAAYW,EAAc6E,cAAgBxF,EAAUyF,cAAc3vB,OACrF,iBAAkBkqB,IAAYW,EAAc+E,aAAe1F,EAAU2F,aAAa7vB,OAElF,mBAAoBkqB,IAAYW,EAAciF,eAAiB5F,EAAU6F,eAAe/vB,OACxF,kBAAmBkqB,IAAYW,EAAcmF,cAAgB9F,EAAU+F,cAAcjwB,OAE1FyC,EAAMmoB,SAASC,cAAgBA,GAIhCV,oBAAqB,SAAW1nB,EAAOynB,GAEtC,GAAK,mBAAoBA,EAAY,CAEpC,IAAIxI,EAAW7D,EAAYje,IAAK6C,EAAMmf,IAAKF,SAE3CA,EAASR,QAAS,SAAW+F,GAE5B,GAA4B,mBAAvBA,EAAM3F,aAAoC,CAE9C,IAAI4O,EAAetS,EAAQmE,QAAQkI,MAAOhD,EAAMrF,IAEhD,GAAK,oBAAqBsO,EAAe,CAExC,IAAIC,EAAMD,EAAajB,gBAAgBjvB,WAGjBkW,IAAjBzT,EAAM2tB,QAEV3tB,EAAM2tB,OAAO7hB,SAASuX,UAAWqK,GACjCrS,EAAWJ,IAAKjb,EAAM2tB,SAItB3tB,EAAM4tB,QAAQ,IAAInb,UAAgB4Q,UAAWqK,UAcnD5F,aAAc,SAAW1C,EAAWjH,EAAakJ,GAEhD,IAAIwG,EAAe5uB,KAAK6uB,iBAExB,IAAM,IAAI3O,KAAMiG,EAAY,CAE3B,IAAIO,EAAWP,EAAWjG,GAEtBH,EAAU5D,EAAYje,IAAK8X,KAAU0Q,EAASxG,KAAOH,QAEzDA,EAAQP,QAAS,SAAWoJ,GAE3B,GAAK1J,EAAYW,IAAK+I,EAAO1I,IAAO,CAEnC,IAAIgI,EAAQU,EAAO1I,GACf4O,EAAmB3S,EAAYje,IAAKgqB,GAExC4G,EAAiB/O,QAAQP,QAAS,SAAWuP,GAE5C,GAAK3G,EAASvI,IAAKkP,EAAc7O,IAAO,CAEvC,IAAInf,EAAQqnB,EAASlqB,IAAK6wB,EAAc7O,IAExCnf,EAAMlC,KAAM,IAAI2U,QAAgBkT,EAASgB,OAASkH,EAAcG,EAAc7O,aAcpF2O,eAAgB,WAEf,IAAID,EAAe,GAEnB,GAAK,SAAU1S,EAAQmE,QAAU,CAEhC,IAAI2O,EAAe9S,EAAQmE,QAAQ4O,KAEnC,IAAM,IAAIzO,KAAUwO,EAEnB,GAAyC,aAApCA,EAAcxO,GAASiG,SAA0B,CAErD,IAAIyI,EAAYF,EAAcxO,GAAS2O,SAElC/Z,KAAe8Z,GAEnBA,EAAU1P,QAAS,SAAW4P,GAE7BR,EAAcQ,EAASC,OAAS,IAAI7b,SAAgB4Q,UAAWgL,EAASE,OAAO1mB,KAMhFgmB,EAAcM,EAAUG,OAAS,IAAI7b,SAAgB4Q,UAAW8K,EAAUI,OAAO1mB,IAUrF,OAAOgmB,GAKR9F,mBAAoB,WAEnB,GAAK,mBAAoB5M,GAAW,iBAAkBA,EAAQqT,eAAiB,CAE9E,IAAIC,EAAetT,EAAQqT,eAAeE,aAAanxB,MACnDH,EAAIqxB,EAAc,GAClBE,EAAIF,EAAc,GAClBpZ,EAAIoZ,EAAc,GAEtB,GAAW,IAANrxB,GAAiB,IAANuxB,GAAiB,IAANtZ,EAAU,CAEpC,IAAIjU,EAAQ,IAAIqR,QAAarV,EAAGuxB,EAAGtZ,GACnCgG,EAAWJ,IAAK,IAAIxI,QAAoBrR,EAAO,OAQlD4mB,oBAAqB,WAEpB,IAAI9K,EAAOje,KACXoc,EAAW4M,SAAU,SAAWzD,GAE1BA,EAAMoK,QAELpK,EAAM7Q,SAASkb,gBAAgB/iB,UAAY0Y,EAAM7Q,SAASkb,gBAAgB/iB,SAAS7Q,SAElFoZ,KAAemQ,EAAMrQ,UAEzBqQ,EAAMrQ,SAASsK,QAAS,SAAWtK,EAAUpZ,GAE5CmiB,EAAK4R,mBAAoBtK,EAAOrQ,EAAUpZ,KAM3CmiB,EAAK4R,mBAAoBtK,EAAOA,EAAMrQ,cAY3C2a,mBAAoB,SAAWtK,EAAOrQ,EAAU1R,GAE/C,IAAIssB,EAAOvK,EAAMuK,KACbC,EAAU7a,EAAS4a,KAGnBE,GAAY,EAoBhB,GAlBA5T,EAAW4M,SAAU,SAAWC,GAE1BA,EAAK0G,SAEJva,KAAe6T,EAAK/T,UAExB+T,EAAK/T,SAASsK,QAAS,SAAWyQ,GAE5BA,EAAIH,OAASC,GAAW9G,EAAK6G,OAASA,IAAOE,GAAY,KAIpD/G,EAAK/T,SAAS4a,OAASC,GAAW9G,EAAK6G,OAASA,IAAOE,GAAY,OAM9D,IAAdA,EAAqB,CAEzB,IAAIE,EAAYhb,EAASK,QACzB2a,EAAU9J,cAAe,OAEV5R,IAAVhR,EAAsB+hB,EAAMrQ,SAAWgb,EACvC3K,EAAMrQ,SAAU1R,GAAU0sB,OAEzBhb,EAASkR,cAAe,IASjC5J,EAAepgB,UAAY,CAE1B2b,YAAayE,EAGbhE,MAAO,SAAWwG,GAEjB,IAAIE,EAAc,IAAIG,GAAAzW,EAEtB,GAAK,aAAcsT,EAAQmE,QAAU,CAEpC,IAAI8P,EAAWjU,EAAQmE,QAAQ+P,SAE/B,IAAM,IAAI5P,KAAU2P,EAAW,CAE9B,IAAI3J,EAAgBrK,EAAYje,IAAK8X,KAAUwK,IAC3CuM,EAAM/sB,KAAKqwB,cAAe7J,EAAe2J,EAAU3P,GAAUxB,GAEjEE,EAAYY,IAAK9J,KAAUwK,GAAUuM,IAMvC,OAAO7N,GAKRmR,cAAe,SAAW7J,EAAe8J,EAAStR,GAEjD,OAASsR,EAAQ7J,UAEhB,IAAK,OACJ,OAAOzmB,KAAKuwB,kBAAmB/J,EAAe8J,EAAStR,GAGxD,IAAK,aACJ,OAAOhf,KAAKwwB,mBAAoBF,KAQnCC,kBAAmB,SAAW/J,EAAe8J,EAAStR,GAErD,IAAImH,EAAYnH,EAAUmH,UACtBC,EAAepH,EAAUoH,aAEzBkC,EAAa9B,EAAczG,QAAQrE,IAAK,SAAWkN,GAEtD,OAAO1M,EAAQmE,QAAQkI,MAAOK,EAAO1I,MAKtC,GAA2B,IAAtBoI,EAAWtsB,OAAhB,CAEA,IAAI0qB,EAAWF,EAAcxG,SAAS8M,OAAQ,SAAWpG,EAAUnB,GAIlE,YAF+B/Q,IAA1B2R,EAAWZ,EAAMrF,MAAqBwG,EAAWP,EAAWZ,EAAMrF,KAEhEwG,GAEL,MAECG,EAAcL,EAAcxG,SAAS8M,OAAQ,SAAWjG,EAAatB,GAIxE,YAFkC/Q,IAA7B4R,EAAcb,EAAMrF,MAAqB2G,EAAcT,EAAcb,EAAMrF,KAEzE2G,GAEL,MAIC2B,EAAYF,EAAY,GAExBa,EAAgB,GAEf,kBAAmBX,IAAYW,EAAcgE,WAAaC,EAAe5E,EAAU6E,cAAc/uB,QACjG,gBAAiBkqB,IAAYW,EAAc8D,YAAcjX,KAAUwS,EAAU0E,YAAY5uB,QAEzF,yBAA0BkqB,IAAYW,EAAcmE,YAAc9E,EAAUiI,qBAAqBnyB,OACjG,sBAAuBkqB,IAAYW,EAAcuE,SAAWlF,EAAUkI,kBAAkBpyB,OACxF,qBAAsBkqB,IAAYW,EAAc2E,MAAQtF,EAAUmI,iBAAiBryB,OAExF,IAAIgrB,EAAYC,EAAmBJ,GAEnC,OAAOnpB,KAAK4wB,YAAaN,EAAS5J,EAAUG,EAAayC,KAK1DsH,YAAa,SAAWN,EAAS5J,EAAUG,EAAagK,GAEvD,IAAI9D,EAAM,IAAIvZ,QACT8c,EAAQ/N,WAAWwK,EAAIlvB,KAAOyyB,EAAQ/N,UAE3C,IAAIuO,EAAU9wB,KAAK+wB,aAAcT,EAAS5J,GACtCsK,EAAUhxB,KAAKixB,WAAYH,GAE3BI,EAAoB,IAAI1d,QAA8Bwd,EAAQtX,OAAQ,GAuB1E,GArBAmX,EAAaM,uBAAwBD,GAErCnE,EAAI9R,aAAc,WAAYiW,GAEzBF,EAAQ/c,OAAOjY,OAAS,GAE5B+wB,EAAI9R,aAAc,QAAS,IAAIzH,QAA8Bwd,EAAQ/c,OAAQ,IAIzEyS,IAEJqG,EAAI9R,aAAc,YAAa,IAAIzH,SAA6Bwd,EAAQI,eAAgB,IAExFrE,EAAI9R,aAAc,aAAc,IAAIzH,QAA8Bwd,EAAQK,cAAe,IAGzFtE,EAAIJ,aAAejG,GAIfsK,EAAQM,OAAOt1B,OAAS,EAAI,CAEhC,IAAIu1B,EAAkB,IAAI/d,QAA8Bwd,EAAQM,OAAQ,GAEpEE,GAAe,IAAIhe,SAAgBie,gBAAiBZ,GACxDW,EAAaL,uBAAwBI,GAErCxE,EAAI9R,aAAc,SAAUsW,GAoB7B,GAhBAP,EAAQ9c,IAAIsL,QAAS,SAAWkS,EAAU51B,GAGzC,IAAI+B,EAAO,MAAS/B,EAAI,GAAI61B,WAGjB,IAAN71B,IAEJ+B,EAAO,MAIRkvB,EAAI9R,aAAcpd,EAAM,IAAI2V,QAA8Bwd,EAAQ9c,IAAKpY,GAAK,MAIxEg1B,EAAQ5b,UAA6C,YAAjC4b,EAAQ5b,SAAS0c,YAA4B,CAGrE,IAAIC,EAAoBb,EAAQc,cAAe,GAC3CC,EAAa,EAgBjB,GAdAf,EAAQc,cAActS,QAAS,SAAWwS,EAAcl2B,GAElDk2B,IAAiBH,IAErB9E,EAAIhR,SAAUgW,EAAYj2B,EAAIi2B,EAAYF,GAE1CA,EAAoBG,EACpBD,EAAaj2B,KAOVixB,EAAIkF,OAAOj2B,OAAS,EAAI,CAE5B,IAAIk2B,EAAYnF,EAAIkF,OAAQlF,EAAIkF,OAAOj2B,OAAS,GAC5Cm2B,EAAYD,EAAUE,MAAQF,EAAUG,MAEvCF,IAAcnB,EAAQc,cAAc91B,QAExC+wB,EAAIhR,SAAUoW,EAAWnB,EAAQc,cAAc91B,OAASm2B,EAAWN,GAQ1C,IAAtB9E,EAAIkF,OAAOj2B,QAEf+wB,EAAIhR,SAAU,EAAGiV,EAAQc,cAAc91B,OAAQg1B,EAAQc,cAAe,IAQxE,OAFA9xB,KAAKsyB,gBAAiBvF,EAAKuD,EAASzJ,EAAagK,GAE1C9D,GAIRgE,aAAc,SAAWT,EAAS5J,GAEjC,IAAIoK,EAAU,GAuBd,GArBAA,EAAQyB,qBAAyC/d,IAArB8b,EAAQkC,SAA2BlC,EAAQkC,SAAS5pB,EAAI,GACpFkoB,EAAQ2B,mBAAiDje,IAA/B8b,EAAQoC,mBAAqCpC,EAAQoC,mBAAmB9pB,EAAI,GAEjG0nB,EAAQqC,oBAEZ7B,EAAQ3uB,MAAQnC,KAAK4yB,kBAAmBtC,EAAQqC,kBAAmB,KAI/DrC,EAAQuC,uBAEZ/B,EAAQ5b,SAAWlV,KAAK8yB,qBAAsBxC,EAAQuC,qBAAsB,KAIxEvC,EAAQyC,qBAEZjC,EAAQQ,OAAStxB,KAAKgzB,aAAc1C,EAAQyC,mBAAoB,KAI5DzC,EAAQ2C,eAAiB,CAE7BnC,EAAQoC,GAAK,GAEb,IAAIp3B,EAAI,EACR,MAAQw0B,EAAQ2C,eAAgBn3B,GAE/Bg1B,EAAQoC,GAAGh3B,KAAM8D,KAAKmzB,SAAU7C,EAAQ2C,eAAgBn3B,KACxDA,IAgCF,OA1BAg1B,EAAQsC,YAAc,GAEJ,OAAb1M,IAEJoK,EAAQpK,SAAWA,EAEnBA,EAASO,SAASzH,QAAS,SAAW2H,EAASrrB,GAG9CqrB,EAAQC,QAAQ5H,QAAS,SAAWhc,EAAOxG,QAEJwX,IAAjCsc,EAAQsC,YAAa5vB,KAAwBstB,EAAQsC,YAAa5vB,GAAU,IAEjFstB,EAAQsC,YAAa5vB,GAAQtH,KAAM,CAElC2E,GAAI/E,EACJu3B,OAAQlM,EAAQE,QAASrqB,UAUtB8zB,GAIRG,WAAY,SAAWH,GAEtB,IAAIE,EAAU,CACbtX,OAAQ,GACR4X,OAAQ,GACRrd,OAAQ,GACRC,IAAK,GACL4d,cAAe,GACfT,cAAe,GACfD,eAAgB,IAGbkC,EAAe,EACfC,EAAa,EACbC,GAA0B,EAG1BC,EAAsB,GACtBC,EAAc,GACdC,EAAa,GACbC,EAAU,GACVC,EAAc,GACdC,EAAoB,GAEpB7V,EAAOje,KA4JX,OA3JA8wB,EAAQ2B,cAAcjT,QAAS,SAAWuU,EAAaC,GAEtD,IAAIC,GAAY,EASXF,EAAc,IAElBA,IAA8B,EAC9BE,GAAY,GAIb,IAAIC,EAAgB,GAChB7M,EAAU,GAId,GAFAoM,EAAoBv3B,KAAoB,EAAd63B,EAA+B,EAAdA,EAAkB,EAAiB,EAAdA,EAAkB,GAE7EjD,EAAQ3uB,MAAQ,CAEpB,IAAI3G,EAAO24B,EAASH,EAAoBV,EAAcS,EAAajD,EAAQ3uB,OAE3EwxB,EAAWz3B,KAAMV,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAI9C,GAAKs1B,EAAQpK,SAAW,CAcvB,QAZ4ClS,IAAvCsc,EAAQsC,YAAaW,IAEzBjD,EAAQsC,YAAaW,GAAcvU,QAAS,SAAW4U,GAEtD/M,EAAQnrB,KAAMk4B,EAAGf,QACjBa,EAAch4B,KAAMk4B,EAAGvzB,MAOpBwmB,EAAQrrB,OAAS,EAAI,CAElBw3B,IAENvrB,QAAQuZ,KAAM,6GACdgS,GAA0B,GAI3B,IAAIa,EAAS,CAAE,EAAG,EAAG,EAAG,GACpBC,EAAS,CAAE,EAAG,EAAG,EAAG,GAExBjN,EAAQ7H,QAAS,SAAW6T,EAAQkB,GAEnC,IAAIC,EAAgBnB,EAChBrB,EAAekC,EAAeK,GAElCD,EAAO9U,QAAS,SAAWiV,EAAgBC,EAAqBC,GAE/D,GAAKH,EAAgBC,EAAiB,CAErCE,EAAqBD,GAAwBF,EAC7CA,EAAgBC,EAEhB,IAAIG,EAAMP,EAAQK,GAClBL,EAAQK,GAAwB1C,EAChCA,EAAe4C,OAQlBV,EAAgBG,EAChBhN,EAAUiN,EAKX,MAAQjN,EAAQrrB,OAAS,EAExBqrB,EAAQnrB,KAAM,GACdg4B,EAAch4B,KAAM,GAIrB,IAAM,IAAIJ,EAAI,EAAGA,EAAI,IAAMA,EAE1B+3B,EAAY33B,KAAMmrB,EAASvrB,IAC3Bg4B,EAAkB53B,KAAMg4B,EAAep4B,IAMzC,GAAKg1B,EAAQQ,OAAS,CAEjB91B,EAAO24B,EAASH,EAAoBV,EAAcS,EAAajD,EAAQQ,QAE3EoC,EAAYx3B,KAAMV,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAI/C,GAAKs1B,EAAQ5b,UAA6C,YAAjC4b,EAAQ5b,SAAS0c,YAEzC,IAAIE,EAAgBqC,EAASH,EAAoBV,EAAcS,EAAajD,EAAQ5b,UAAY,GAI5F4b,EAAQoC,IAEZpC,EAAQoC,GAAG1T,QAAS,SAAW0T,EAAIp3B,GAElC,IAAIN,EAAO24B,EAASH,EAAoBV,EAAcS,EAAab,QAE7C1e,IAAjBof,EAAS93B,KAEb83B,EAAS93B,GAAM,IAIhB83B,EAAS93B,GAAII,KAAMV,EAAM,IACzBo4B,EAAS93B,GAAII,KAAMV,EAAM,MAM3B+3B,IAEKU,IAEJhW,EAAK4W,QAAS7D,EAASF,EAAS2C,EAAqB3B,EAAe4B,EAAaC,EAAYC,EAASC,EAAaC,EAAmBP,GAEtID,IACAC,EAAa,EAGbE,EAAsB,GACtBC,EAAc,GACdC,EAAa,GACbC,EAAU,GACVC,EAAc,GACdC,EAAoB,MAMf9C,GAKR6D,QAAS,SAAW7D,EAASF,EAAS2C,EAAqB3B,EAAe4B,EAAaC,EAAYC,EAASC,EAAaC,EAAmBP,GAE3I,IAAM,IAAIz3B,EAAI,EAAGA,EAAIy3B,EAAYz3B,IAEhCk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAqB,KACnEzC,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAqB,KACnEzC,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAqB,KAEnEzC,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAiC,GAAV33B,EAAI,MACzEk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAiC,GAAV33B,EAAI,GAAU,KACnFk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAiC,GAAV33B,EAAI,GAAU,KAEnFk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAyB,EAAJ33B,KACnEk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAyB,EAAJ33B,EAAQ,KAC3Ek1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAyB,EAAJ33B,EAAQ,KAEtEg1B,EAAQpK,WAEZsK,EAAQK,cAAcn1B,KAAM23B,EAAa,IACzC7C,EAAQK,cAAcn1B,KAAM23B,EAAa,IACzC7C,EAAQK,cAAcn1B,KAAM23B,EAAa,IACzC7C,EAAQK,cAAcn1B,KAAM23B,EAAa,IAEzC7C,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,KAC/Ck1B,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,GAAU,IACzDk1B,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,GAAU,IACzDk1B,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,GAAU,IAEzDk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,IACzCk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,EAAQ,IACjDk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,EAAQ,IACjDk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,EAAQ,IAEjDk1B,EAAQI,eAAel1B,KAAM43B,EAAmB,IAChD9C,EAAQI,eAAel1B,KAAM43B,EAAmB,IAChD9C,EAAQI,eAAel1B,KAAM43B,EAAmB,IAChD9C,EAAQI,eAAel1B,KAAM43B,EAAmB,IAEhD9C,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,KACtDk1B,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,GAAU,IAChEk1B,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,GAAU,IAChEk1B,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,GAAU,IAEhEk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,IAChDk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,EAAQ,IACxDk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,EAAQ,IACxDk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,EAAQ,KAIpDg1B,EAAQ3uB,QAEZ6uB,EAAQ/c,OAAO/X,KAAMy3B,EAAY,IACjC3C,EAAQ/c,OAAO/X,KAAMy3B,EAAY,IACjC3C,EAAQ/c,OAAO/X,KAAMy3B,EAAY,IAEjC3C,EAAQ/c,OAAO/X,KAAMy3B,EAAwB,GAAV73B,EAAI,KACvCk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAwB,GAAV73B,EAAI,GAAU,IACjDk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAwB,GAAV73B,EAAI,GAAU,IAEjDk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAgB,EAAJ73B,IACjCk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAgB,EAAJ73B,EAAQ,IACzCk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAgB,EAAJ73B,EAAQ,KAIrCg1B,EAAQ5b,UAA6C,YAAjC4b,EAAQ5b,SAAS0c,cAEzCZ,EAAQc,cAAc51B,KAAM41B,GAC5Bd,EAAQc,cAAc51B,KAAM41B,GAC5Bd,EAAQc,cAAc51B,KAAM41B,IAIxBhB,EAAQQ,SAEZN,EAAQM,OAAOp1B,KAAMw3B,EAAa,IAClC1C,EAAQM,OAAOp1B,KAAMw3B,EAAa,IAClC1C,EAAQM,OAAOp1B,KAAMw3B,EAAa,IAElC1C,EAAQM,OAAOp1B,KAAMw3B,EAAyB,GAAV53B,EAAI,KACxCk1B,EAAQM,OAAOp1B,KAAMw3B,EAAyB,GAAV53B,EAAI,GAAU,IAClDk1B,EAAQM,OAAOp1B,KAAMw3B,EAAyB,GAAV53B,EAAI,GAAU,IAElDk1B,EAAQM,OAAOp1B,KAAMw3B,EAAiB,EAAJ53B,IAClCk1B,EAAQM,OAAOp1B,KAAMw3B,EAAiB,EAAJ53B,EAAQ,IAC1Ck1B,EAAQM,OAAOp1B,KAAMw3B,EAAiB,EAAJ53B,EAAQ,KAItCg1B,EAAQoC,IAEZpC,EAAQoC,GAAG1T,QAAS,SAAW0T,EAAIl2B,QAERwX,IAArBwc,EAAQ9c,IAAKlX,KAAoBg0B,EAAQ9c,IAAKlX,GAAM,IAEzDg0B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAK,IACrCg0B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAK,IAErCg0B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAiB,GAAVlB,EAAI,KAC3Ck1B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAiB,GAAVlB,EAAI,GAAU,IAErDk1B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAS,EAAJlB,IACrCk1B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAS,EAAJlB,EAAQ,OAUjDw2B,gBAAiB,SAAWwC,EAAWC,EAAelO,EAAagK,GAElE,GAAqB,OAAhBhK,EAAL,CAEAiO,EAAUlF,gBAAgB/iB,SAAW,GAGrC,IAAIoR,EAAOje,KACX6mB,EAAYC,WAAWtH,QAAS,SAAWwV,GAE1C,IAAIC,EAAe/Y,EAAQmE,QAAQ+P,SAAU4E,EAAU9M,YAEjC1T,IAAjBygB,GAEJhX,EAAKiX,iBAAkBJ,EAAWC,EAAeE,EAAcpE,EAAcmE,EAAUn3B,UAY1Fq3B,iBAAkB,SAAWJ,EAAWC,EAAeE,EAAcpE,EAAchzB,GAElF,IAAIs3B,EAAW,IAAI3hB,QACdyhB,EAAa1S,WAAW4S,EAASt3B,KAAOo3B,EAAa1S,UAU1D,IARA,IAAIkQ,OAAuDje,IAArCugB,EAAcrC,mBAAqCqC,EAAcrC,mBAAmB9pB,EAAI,GAG1G2pB,OAA+C/d,IAA3BugB,EAAcvC,SAA2BuC,EAAcvC,SAAS5pB,EAAEvJ,QAAU,GAEhG+1B,OAA6C5gB,IAA1BygB,EAAazC,SAA2ByC,EAAazC,SAAS5pB,EAAI,GACrFwe,OAAqC5S,IAAzBygB,EAAazN,QAA0ByN,EAAazN,QAAQ5e,EAAI,GAEtE9M,EAAI,EAAGA,EAAIsrB,EAAQprB,OAAQF,IAAO,CAE3C,IAAIu5B,EAA4B,EAAfjO,EAAStrB,GAI1By2B,EAAiB8C,IAAgBD,EAAoB,EAAJt5B,GACjDy2B,EAAiB8C,EAAa,IAAOD,EAAoB,EAAJt5B,EAAQ,GAC7Dy2B,EAAiB8C,EAAa,IAAOD,EAAoB,EAAJt5B,EAAQ,GAK9D,IAAIw5B,EAAe,CAClB7C,cAAeA,EACfF,gBAAiBA,GAGdgD,EAAev1B,KAAKixB,WAAYqE,GAEhCpE,EAAoB,IAAI1d,QAA8B+hB,EAAa7b,OAAQ,GAC/EwX,EAAkBrzB,KAAOA,GAAQo3B,EAAa1S,SAE9CsO,EAAaM,uBAAwBD,GAErC4D,EAAUlF,gBAAgB/iB,SAAS3Q,KAAMg1B,IAK1C8B,aAAc,SAAWwC,GAExB,IAAI5D,EAAc4D,EAAWC,uBACzBC,EAAgBF,EAAWG,yBAC3B9Y,EAAS2Y,EAAWI,QAAQhtB,EAC5BitB,EAAc,GAelB,MAduB,kBAAlBH,IAEC,gBAAiBF,EAErBK,EAAcL,EAAWM,YAAYltB,EAE1B,iBAAkB4sB,IAE7BK,EAAcL,EAAWO,aAAantB,IAMjC,CACNotB,SAAU,EACVnZ,OAAQA,EACRuK,QAASyO,EACTjE,YAAaA,EACb8D,cAAeA,IAMjBvC,SAAU,SAAW8C,GAEpB,IAAIrE,EAAcqE,EAAOR,uBACrBC,EAAgBO,EAAON,yBACvB9Y,EAASoZ,EAAOC,GAAGttB,EACnBitB,EAAc,GAOlB,MANuB,kBAAlBH,IAEJG,EAAcI,EAAOE,QAAQvtB,GAIvB,CACNotB,SAAU,EACVnZ,OAAQA,EACRuK,QAASyO,EACTjE,YAAaA,EACb8D,cAAeA,IAMjB9C,kBAAmB,SAAWwD,GAE7B,IAAIxE,EAAcwE,EAAUX,uBACxBC,EAAgBU,EAAUT,yBAC1B9Y,EAASuZ,EAAUC,OAAOztB,EAC1BitB,EAAc,GAOlB,MANuB,kBAAlBH,IAEJG,EAAcO,EAAUE,WAAW1tB,GAI7B,CACNotB,SAAU,EACVnZ,OAAQA,EACRuK,QAASyO,EACTjE,YAAaA,EACb8D,cAAeA,IAMjB5C,qBAAsB,SAAWyD,GAEhC,IAAI3E,EAAc2E,EAAad,uBAC3BC,EAAgBa,EAAaZ,yBAEjC,GAAqB,yBAAhB/D,EAEJ,MAAO,CACNoE,SAAU,EACVnZ,OAAQ,CAAE,GACVuK,QAAS,CAAE,GACXwK,YAAa,UACb8D,cAAeA,GAYjB,IAPA,IAAIc,EAAsBD,EAAaE,UAAU7tB,EAK7C8tB,EAAkB,GAEZ56B,EAAI,EAAGA,EAAI06B,EAAoBx6B,SAAWF,EAEnD46B,EAAgBx6B,KAAMJ,GAIvB,MAAO,CACNk6B,SAAU,EACVnZ,OAAQ2Z,EACRpP,QAASsP,EACT9E,YAAaA,EACb8D,cAAeA,IAMjBlF,mBAAoB,SAAWF,GAE9B,QAA0B9b,IAArBhB,iBAGJ,OADAvL,QAAQI,MAAO,oIACR,IAAImL,QAIZ,IAAImjB,EAAQ3gB,KAAUsa,EAAQsG,OAE9B,GAAKC,MAAOF,GAGX,OADA1uB,QAAQI,MAAO,8DAA+DioB,EAAQsG,MAAOtG,EAAQzvB,IAC9F,IAAI2S,QAUZ,IANA,IAYIsjB,EAAWC,EAZXC,EAASL,EAAQ,EAEjBM,EAAQ3G,EAAQ4G,WAAWtuB,EAC3BuuB,EAAgB,GAChBC,EAAe9G,EAAQ+G,OAAOzuB,EAExB9M,EAAI,EAAG2B,EAAI25B,EAAap7B,OAAQF,EAAI2B,EAAG3B,GAAK,EAErDq7B,EAAcj7B,MAAM,IAAIsX,UAAgB4Q,UAAWgT,EAAct7B,IAMlE,GAAsB,WAAjBw0B,EAAQgH,KAEZH,EAAcj7B,KAAMi7B,EAAe,SAE7B,GAAsB,aAAjB7G,EAAQgH,KAAsB,CAEzCR,EAAYE,EACZD,EAAUE,EAAMj7B,OAAS,EAAI86B,EAE7B,IAAUh7B,EAAI,EAAGA,EAAIk7B,IAAWl7B,EAE/Bq7B,EAAcj7B,KAAMi7B,EAAer7B,IAMrC,IAAIy7B,EAAQ,IAAI/jB,iBAAkBwjB,EAAQC,EAAOE,EAAeL,EAAWC,GACvEhjB,EAAWwjB,EAAMC,UAAkC,EAAvBL,EAAcn7B,QAE1Cy7B,EAAY,IAAIC,aAAgC,EAAlB3jB,EAAS/X,QAE3C+X,EAASyL,QAAS,SAAW9F,EAAQ5d,GAEpC4d,EAAOie,QAASF,EAAe,EAAJ37B,KAI5B,IAAI4Y,EAAW,IAAIlB,QAGnB,OAFAkB,EAASuG,aAAc,WAAY,IAAIzH,QAAuBikB,EAAW,IAElE/iB,IAST+H,EAAgBrgB,UAAY,CAE3B2b,YAAa0E,EAGbjE,MAAO,WAEN,IAAIof,EAAiB,GAEjBC,EAAW73B,KAAK83B,aAEpB,QAAkBtjB,IAAbqjB,EAEJ,IAAM,IAAIj5B,KAAOi5B,EAAW,CAE3B,IAAIE,EAAUF,EAAUj5B,GAEpBo5B,EAAOh4B,KAAKi4B,QAASF,GAEzBH,EAAe17B,KAAM87B,GAMvB,OAAOJ,GAIRE,WAAY,WAIX,QAAwCtjB,IAAnC0H,EAAQmE,QAAQ6X,eAArB,CAEA,IAAIC,EAAgBn4B,KAAKo4B,2BAEzBp4B,KAAKq4B,qBAAsBF,GAE3B,IAAIG,EAAYt4B,KAAKu4B,qBAAsBJ,GACvCN,EAAW73B,KAAKw4B,gBAAiBF,GAErC,OAAOT,IAORO,yBAA0B,WAEzB,IAAIK,EAAgBvc,EAAQmE,QAAQqY,mBAEhCP,EAAgB,IAAI9Y,GAAAzW,EAExB,IAAM,IAAI4X,KAAUiY,EAAgB,CAEnC,IAAIE,EAAeF,EAAejY,GAElC,GAA8D,OAAzDmY,EAAapW,SAAS1E,MAAO,uBAAmC,CAEpE,IAAI+a,EAAY,CAEf/3B,GAAI83B,EAAa93B,GACjBypB,KAAMqO,EAAapW,SACnBsW,OAAQ,IAITV,EAAcrY,IAAK8Y,EAAU/3B,GAAI+3B,IAMnC,OAAOT,GAORE,qBAAsB,SAAWF,GAEhC,IAAIW,EAAY5c,EAAQmE,QAAQ6X,eAShC,IAAM,IAAI1X,KAAUsY,EAAY,CAE/B,IAAIC,EAAiB,CAEpBl4B,GAAIi4B,EAAWtY,GAAS3f,GACxBm4B,MAAOF,EAAWtY,GAASyY,QAAQrwB,EAAE8S,IAAKqC,GAC1CiF,OAAQ8V,EAAWtY,GAAS0Y,cAActwB,GAIvC4d,EAAgBrK,EAAYje,IAAK66B,EAAel4B,IAEpD,QAAuB2T,IAAlBgS,EAA8B,CAElC,IAAI2S,EAAmB3S,EAAczG,QAAS,GAAIG,GAC9CkZ,EAA6B5S,EAAczG,QAAS,GAAIH,aAEvDwZ,EAA2Bvb,MAAO,KAEtCsa,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,KAAQE,EAE3CK,EAA2Bvb,MAAO,KAE7Csa,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,KAAQE,EAE3CK,EAA2Bvb,MAAO,KAE7Csa,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,KAAQE,EAE3CK,EAA2Bvb,MAAO,oBAAuBsa,EAActY,IAAKsZ,KAEvFhB,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,SAAYE,MAa9DR,qBAAsB,SAAWJ,GAEhC,IAAIkB,EAAYnd,EAAQmE,QAAQiZ,eAE5BhB,EAAY,IAAIjZ,GAAAzW,EAEpB,IAAM,IAAI4X,KAAU6Y,EAAY,CAE/B,IAAIE,EAAkB,GAElB5Q,EAAaxM,EAAYje,IAAK8X,KAAUwK,IAE5C,QAAoBhM,IAAfmU,EAA2B,CAG/B,IAAI3I,EAAW2I,EAAW3I,SAE1BA,EAASR,QAAS,SAAW+F,EAAOzpB,GAEnC,GAAKq8B,EAActY,IAAK0F,EAAMrF,IAAO,CAEpC,IAAI0Y,EAAYT,EAAcj6B,IAAKqnB,EAAMrF,IAGzC,QAA4B1L,IAAvBokB,EAAUC,OAAO1V,QAA0C3O,IAAvBokB,EAAUC,OAAOzV,QAA0C5O,IAAvBokB,EAAUC,OAAOW,EAAkB,CAE/G,QAA8BhlB,IAAzB+kB,EAAiBz9B,GAAoB,CAEzC,IAAI29B,EAAUtd,EAAYje,IAAKqnB,EAAMrF,IAAKH,QAAQoI,OAAQ,SAAWS,GAEpE,YAA+BpU,IAAxBoU,EAAOhJ,eAEV,GAAIM,GAET,QAAiB1L,IAAZilB,EAAwB,CAE5B,IAAIC,EAAWxd,EAAQmE,QAAQkI,MAAOkR,EAAQ9H,YAE1C1I,EAAO,CAEV0Q,UAAWnmB,QAAsBwW,iBAAkB0P,EAASnX,UAC5DrC,GAAIwZ,EAAS74B,GACb+4B,gBAAiB,CAAE,EAAG,EAAG,GACzBC,gBAAiB,CAAE,EAAG,EAAG,GACzBC,aAAc,CAAE,EAAG,EAAG,IAIvB1d,EAAW4M,SAAU,SAAWzD,GAE1BA,EAAMrF,KAAOwZ,EAAS74B,KAE1BooB,EAAKK,UAAY/D,EAAM8D,OAElB9D,EAAM2D,SAASC,gBAAgBF,EAAKkE,WAAa5H,EAAM2D,SAASC,cAAcgE,eAM9ElE,EAAKK,YAAYL,EAAKK,UAAY,IAAI9V,SAIxC,gBAAiBkmB,IAAWzQ,EAAKuE,YAAckM,EAASjM,YAAYnvB,OACpE,iBAAkBo7B,IAAWzQ,EAAK2E,aAAe8L,EAAS7L,aAAavvB,OAE5Ei7B,EAAiBz9B,GAAMmtB,GAMpBsQ,EAAiBz9B,KAAMy9B,EAAiBz9B,GAAK88B,EAAUtO,MAASsO,QAE/D,QAAgCpkB,IAA3BokB,EAAUC,OAAOkB,MAAsB,CAElD,QAA8BvlB,IAAzB+kB,EAAiBz9B,GAAoB,CAEzC,IAAIk+B,EAAa7d,EAAYje,IAAKqnB,EAAMrF,IAAKH,QAAQoI,OAAQ,SAAWS,GAEvE,YAA+BpU,IAAxBoU,EAAOhJ,eAEV,GAAIM,GAEL+Z,EAAY9d,EAAYje,IAAK87B,GAAaja,QAAS,GAAIG,GACvDgI,EAAQ/L,EAAYje,IAAK+7B,GAAYla,QAAS,GAAIG,GAGlDuZ,EAAUtd,EAAYje,IAAKgqB,GAAQnI,QAAS,GAAIG,GAEhDwZ,EAAWxd,EAAQmE,QAAQkI,MAAOkR,GAElCxQ,EAAO,CAEV0Q,UAAWnmB,QAAsBwW,iBAAkB0P,EAASnX,UAC5D2X,UAAWhe,EAAQmE,QAAQiG,SAAU0T,GAAazX,UAInDgX,EAAiBz9B,GAAMmtB,EAIxBsQ,EAAiBz9B,GAAK88B,EAAUtO,MAASsO,MAQ5CN,EAAUxY,IAAK9J,KAAUwK,GAAU+Y,IAMrC,OAAOjB,GAMRE,gBAAiB,SAAWF,GAE3B,IAAI6B,EAAYje,EAAQmE,QAAQ+Z,eAG5BvC,EAAW,GAEf,IAAM,IAAIrX,KAAU2Z,EAAY,CAE/B,IAAIna,EAAW7D,EAAYje,IAAK8X,KAAUwK,IAAWR,SAEhDA,EAAShkB,OAAS,GAItBiM,QAAQuZ,KAAM,sIAIf,IAAI6Y,EAAQ/B,EAAUp6B,IAAK8hB,EAAU,GAAIE,IAEzC2X,EAAUrX,GAAW,CAEpB3iB,KAAMs8B,EAAW3Z,GAAS+B,SAC1B8X,MAAOA,GAMT,OAAOxC,GAIRI,QAAS,SAAWF,GAEnB,IAAIuC,EAAS,GAETrc,EAAOje,KAOX,OANA+3B,EAAQsC,MAAM7a,QAAS,SAAW+a,GAEjCD,EAASA,EAAO1f,OAAQqD,EAAKuc,eAAgBD,MAIvC,IAAI/mB,QAAqBukB,EAAQl6B,MAAQ,EAAGy8B,IAIpDE,eAAgB,SAAWD,GAE1B,IAAID,EAAS,GAETV,EAAkB,IAAIpmB,SACtBqmB,EAAkB,IAAIrmB,QACtBsmB,EAAe,IAAItmB,SAQvB,GANK+mB,EAAUjR,WAAYiR,EAAUjR,UAAUmR,UAAWb,EAAiBC,EAAiBC,GAE5FF,EAAkBA,EAAgBjC,UAClCkC,GAAkB,IAAIrmB,SAAcknB,kBAAmBb,EAAiBU,EAAUpN,YAAawK,UAC/FmC,EAAeA,EAAanC,eAEPnjB,IAAhB+lB,EAAUI,GAAmBC,KAAaL,EAAUI,EAAE9B,QAAS78B,OAAS,EAAI,CAEhF,IAAI6+B,EAAgB76B,KAAK86B,oBAAqBP,EAAUZ,UAAWY,EAAUI,EAAE9B,OAAQe,EAAiB,iBACjFplB,IAAlBqmB,GAA8BP,EAAOp+B,KAAM2+B,GAIjD,QAAqBrmB,IAAhB+lB,EAAUQ,GAAmBH,KAAaL,EAAUQ,EAAElC,QAAS78B,OAAS,EAAI,CAEhF,IAAIg/B,EAAgBh7B,KAAKi7B,sBAAuBV,EAAUZ,UAAWY,EAAUQ,EAAElC,OAAQgB,EAAiBU,EAAU/M,YAAa+M,EAAU3M,aAAc2M,EAAUpN,iBAC5I3Y,IAAlBwmB,GAA8BV,EAAOp+B,KAAM8+B,GAIjD,QAAqBxmB,IAAhB+lB,EAAUW,GAAmBN,KAAaL,EAAUW,EAAErC,QAAS78B,OAAS,EAAI,CAEhF,IAAIm/B,EAAan7B,KAAK86B,oBAAqBP,EAAUZ,UAAWY,EAAUW,EAAErC,OAAQiB,EAAc,cAC9EtlB,IAAf2mB,GAA2Bb,EAAOp+B,KAAMi/B,GAI9C,QAAiC3mB,IAA5B+lB,EAAUxS,cAA8B,CAE5C,IAAIqT,EAAap7B,KAAKq7B,mBAAoBd,QACtB/lB,IAAf4mB,GAA2Bd,EAAOp+B,KAAMk/B,GAI9C,OAAOd,GAIRQ,oBAAqB,SAAWnB,EAAWd,EAAQyC,EAAct1B,GAEhE,IAAIgzB,EAAQh5B,KAAKu7B,mBAAoB1C,GACjC7V,EAAShjB,KAAKw7B,uBAAwBxC,EAAOH,EAAQyC,GAEzD,OAAO,IAAI9nB,SAA2BmmB,EAAY,IAAM3zB,EAAMgzB,EAAOhW,IAItEiY,sBAAuB,SAAWtB,EAAWd,EAAQyC,EAAc9N,EAAaI,EAAcT,QAE3E3Y,IAAbqkB,EAAO1V,IAEXnjB,KAAKy7B,qBAAsB5C,EAAO1V,GAClC0V,EAAO1V,EAAEH,OAAS6V,EAAO1V,EAAEH,OAAOtH,IAAKlI,QAAW6Y,gBAGjC7X,IAAbqkB,EAAOzV,IAEXpjB,KAAKy7B,qBAAsB5C,EAAOzV,GAClCyV,EAAOzV,EAAEJ,OAAS6V,EAAOzV,EAAEJ,OAAOtH,IAAKlI,QAAW6Y,gBAGjC7X,IAAbqkB,EAAOW,IAEXx5B,KAAKy7B,qBAAsB5C,EAAOW,GAClCX,EAAOW,EAAExW,OAAS6V,EAAOW,EAAExW,OAAOtH,IAAKlI,QAAW6Y,WAInD,IAAI2M,EAAQh5B,KAAKu7B,mBAAoB1C,GACjC7V,EAAShjB,KAAKw7B,uBAAwBxC,EAAOH,EAAQyC,QAEpC9mB,IAAhBgZ,IAEJA,EAAcA,EAAY9R,IAAKlI,QAAW6Y,UAC1CmB,EAAYtxB,KAAMixB,GAElBK,GAAc,IAAIha,SAAc4Q,UAAWoJ,GAC3CA,GAAc,IAAIha,SAAmBkoB,aAAclO,SAI9BhZ,IAAjBoZ,IAEJA,EAAeA,EAAalS,IAAKlI,QAAW6Y,UAC5CuB,EAAa1xB,KAAMixB,GAEnBS,GAAe,IAAIpa,SAAc4Q,UAAWwJ,GAC5CA,GAAe,IAAIpa,SAAmBkoB,aAAc9N,GAAe+N,WASpE,IALA,IAAIC,EAAa,IAAIpoB,QACjBqoB,EAAQ,IAAIroB,QAEZsoB,EAAmB,GAEbhgC,EAAI,EAAGA,EAAIknB,EAAOhnB,OAAQF,GAAK,EAExC+/B,EAAM/b,IAAKkD,EAAQlnB,GAAKknB,EAAQlnB,EAAI,GAAKknB,EAAQlnB,EAAI,GAAKqxB,GAE1DyO,EAAWF,aAAcG,QAEJrnB,IAAhBgZ,GAA4BoO,EAAWG,YAAavO,QACnChZ,IAAjBoZ,GAA6BgO,EAAWI,SAAUpO,GAEvDgO,EAAWjE,QAASmE,EAAoBhgC,EAAI,EAAM,GAInD,OAAO,IAAI0X,QAA+BmmB,EAAY,cAAeX,EAAO8C,IAI7ET,mBAAoB,SAAWd,GAE9B,IAAI1B,EAAS0B,EAAUxS,cAAc8Q,OAAOkB,MACxC/W,EAAS6V,EAAO7V,OAAOtH,IAAK,SAAWugB,GAE1C,OAAOA,EAAM,MAIVC,EAAW9f,EAAW+f,gBAAiB5B,EAAUZ,WAAYyC,sBAAuB7B,EAAUL,WAElG,OAAO,IAAI1mB,QAA2B+mB,EAAUZ,UAAY,0BAA4BuC,EAAW,IAAKrD,EAAOG,MAAOhW,IAMvHuY,mBAAoB,SAAW1C,GAE9B,IAAIG,EAAQ,GAkBZ,YAfkBxkB,IAAbqkB,EAAO1V,IAAkB6V,EAAQA,EAAMpe,OAAQie,EAAO1V,EAAE6V,aAC3CxkB,IAAbqkB,EAAOzV,IAAkB4V,EAAQA,EAAMpe,OAAQie,EAAOzV,EAAE4V,aAC3CxkB,IAAbqkB,EAAOW,IAAkBR,EAAQA,EAAMpe,OAAQie,EAAOW,EAAER,QAG7DA,EAAQA,EAAMqD,KAAM,SAAWzzB,EAAGwN,GAEjC,OAAOxN,EAAIwN,IAER+R,OAAQ,SAAWmU,EAAM94B,EAAOme,GAEnC,OAAOA,EAAMle,QAAS64B,IAAU94B,IAI1Bw1B,GAIRwC,uBAAwB,SAAWxC,EAAOH,EAAQyC,GAEjD,IAAIiB,EAAYjB,EAEZtY,EAAS,GAETwZ,GAAW,EACXC,GAAW,EACXC,GAAW,EAgDf,OA9CA1D,EAAMxZ,QAAS,SAAW9G,GAOzB,GALKmgB,EAAO1V,IAAIqZ,EAAS3D,EAAO1V,EAAE6V,MAAMv1B,QAASiV,IAC5CmgB,EAAOzV,IAAIqZ,EAAS5D,EAAOzV,EAAE4V,MAAMv1B,QAASiV,IAC5CmgB,EAAOW,IAAIkD,EAAS7D,EAAOW,EAAER,MAAMv1B,QAASiV,KAG/B,IAAb8jB,EAAiB,CAErB,IAAIG,EAAS9D,EAAO1V,EAAEH,OAAQwZ,GAC9BxZ,EAAO9mB,KAAMygC,GACbJ,EAAW,GAAMI,OAKjB3Z,EAAO9mB,KAAMqgC,EAAW,IAIzB,IAAkB,IAAbE,EAAiB,CAErB,IAAIG,EAAS/D,EAAOzV,EAAEJ,OAAQyZ,GAC9BzZ,EAAO9mB,KAAM0gC,GACbL,EAAW,GAAMK,OAIjB5Z,EAAO9mB,KAAMqgC,EAAW,IAIzB,IAAkB,IAAbG,EAAiB,CAErB,IAAIG,EAAShE,EAAOW,EAAExW,OAAQ0Z,GAC9B1Z,EAAO9mB,KAAM2gC,GACbN,EAAW,GAAMM,OAIjB7Z,EAAO9mB,KAAMqgC,EAAW,MAMnBvZ,GAORyY,qBAAsB,SAAWlE,GAEhC,IAAM,IAAIz7B,EAAI,EAAGA,EAAIy7B,EAAMvU,OAAOhnB,OAAQF,IAAO,CAEhD,IAAIw/B,EAAe/D,EAAMvU,OAAQlnB,EAAI,GACjCghC,EAAavF,EAAMvU,OAAQlnB,GAAMw/B,EAEjCyB,EAAe7Q,KAAK8Q,IAAKF,GAE7B,GAAKC,GAAgB,IAAM,CAE1B,IAAIE,EAAkBF,EAAe,IAEjCG,EAAOJ,EAAaG,EACpBE,EAAY7B,EAAe4B,EAE3BE,EAAc7F,EAAMyB,MAAOl9B,EAAI,GAC/BuhC,EAAW9F,EAAMyB,MAAOl9B,GAAMshC,EAC9BE,EAAWD,EAAWJ,EACtBM,EAAWH,EAAcE,EAEzBE,EAAoB,GACpBC,EAAqB,GAEzB,MAAQF,EAAWhG,EAAMyB,MAAOl9B,GAE/B0hC,EAAkBthC,KAAMqhC,GACxBA,GAAYD,EAEZG,EAAmBvhC,KAAMihC,GACzBA,GAAaD,EAId3F,EAAMyB,MAAQ0E,EAAQnG,EAAMyB,MAAOl9B,EAAG0hC,GACtCjG,EAAMvU,OAAS0a,EAAQnG,EAAMvU,OAAQlnB,EAAG2hC,OAa5C/gB,EAAWtgB,UAAY,CAEtB2b,YAAa2E,EAEbihB,YAAa,WAEZ,OAAO39B,KAAK49B,UAAW59B,KAAK69B,cAAgB,IAI7CC,eAAgB,WAEf,OAAO99B,KAAK49B,UAAW59B,KAAK69B,cAAgB,IAI7CE,eAAgB,WAEf,OAAO/9B,KAAKg+B,aAIbC,UAAW,SAAWhV,GAErBjpB,KAAK49B,UAAU1hC,KAAM+sB,GACrBjpB,KAAK69B,eAAiB,GAIvBK,SAAU,WAETl+B,KAAK49B,UAAUzc,MACfnhB,KAAK69B,eAAiB,GAIvBM,eAAgB,SAAWlC,EAAKp+B,GAE/BmC,KAAKg+B,YAAc/B,EACnBj8B,KAAKo+B,gBAAkBvgC,GAIxB2a,MAAO,SAAWD,GAEjBvY,KAAK69B,cAAgB,EAErB79B,KAAKq+B,SAAW,IAAInhB,EACpBld,KAAK49B,UAAY,GACjB59B,KAAKg+B,YAAc,GACnBh+B,KAAKo+B,gBAAkB,GAEvB,IAAIngB,EAAOje,KAEP6Y,EAAQN,EAAKM,MAAO,WAmCxB,OAjCAA,EAAM2G,QAAS,SAAW1G,EAAMhd,GAE/B,IAAIwiC,EAAexlB,EAAK+E,MAAO,aAC3B0gB,EAAazlB,EAAK+E,MAAO,aAE7B,IAAKygB,IAAgBC,EAArB,CAEA,IAAIC,EAAiB1lB,EAAK+E,MAAO,QAAUI,EAAK4f,cAAgB,gBAAiB,IAC7EY,EAAgB3lB,EAAK+E,MAAO,QAAYI,EAAK4f,cAAkB,8BAC/Da,EAAW5lB,EAAK+E,MAAO,SAAYI,EAAK4f,cAAgB,GAAM,MAE7DW,EAEJvgB,EAAK0gB,eAAgB7lB,EAAM0lB,GAEhBC,EAEXxgB,EAAK2gB,kBAAmB9lB,EAAM2lB,EAAe5lB,IAAU/c,IAE5C4iC,EAEXzgB,EAAKigB,WAEMplB,EAAK+E,MAAO,cAIvBI,EAAK4gB,2BAA4B/lB,MAM5B9Y,KAAKq+B,UAIbM,eAAgB,SAAW7lB,EAAM9Z,GAEhC,IAAI8/B,EAAW9/B,EAAU,GAAIka,OAAOP,QAAS,KAAM,IAAKA,QAAS,KAAM,IAEnEomB,EAAY//B,EAAU,GAAI6Z,MAAO,KAAM6C,IAAK,SAAW4O,GAE1D,OAAOA,EAAKpR,OAAOP,QAAS,KAAM,IAAKA,QAAS,KAAM,MAInDsQ,EAAO,CAAEprB,KAAMihC,GACfz+B,EAAQL,KAAKg/B,cAAeD,GAE5BE,EAAcj/B,KAAK89B,iBAGK,IAAvB99B,KAAK69B,cAET79B,KAAKq+B,SAASriB,IAAK8iB,EAAU7V,GAKxB6V,KAAYG,GAGE,aAAbH,EAEJG,EAAY9P,SAASjzB,KAAM+sB,QAEezU,IAA/ByqB,EAAaH,GAAWj+B,KAEnCo+B,EAAaH,GAAa,GAC1BG,EAAaH,GAAYG,EAAaH,GAAWj+B,IAAOo+B,EAAaH,IAIpD,KAAbz+B,EAAMQ,KAAYo+B,EAAaH,GAAYz+B,EAAMQ,IAAOooB,IAE9B,kBAAb5oB,EAAMQ,IAExBo+B,EAAaH,GAAa,GAC1BG,EAAaH,GAAYz+B,EAAMQ,IAAOooB,GAEd,iBAAb6V,IAEoBG,EAAaH,GAA1B,aAAbA,EAAoD,CAAE7V,GAC5BA,GAMR,kBAAb5oB,EAAMQ,KAAkBooB,EAAKpoB,GAAKR,EAAMQ,IAChC,KAAfR,EAAMxC,OAAcorB,EAAK1G,SAAWliB,EAAMxC,MAC3B,KAAfwC,EAAM2F,OAAcijB,EAAKxC,SAAWpmB,EAAM2F,MAE/ChG,KAAKi+B,UAAWhV,IAIjB+V,cAAe,SAAW3+B,GAEzB,IAAIQ,EAAKR,EAAO,GAEI,KAAfA,EAAO,KAEXQ,EAAKmV,KAAU3V,EAAO,IAEjBw2B,MAAOh2B,KAEXA,EAAKR,EAAO,KAMd,IAAIxC,EAAO,GAAImI,EAAO,GAStB,OAPK3F,EAAMrE,OAAS,IAEnB6B,EAAOwC,EAAO,GAAIsY,QAAS,WAAY,IACvC3S,EAAO3F,EAAO,IAIR,CAAEQ,GAAIA,EAAIhD,KAAMA,EAAMmI,KAAMA,IAIpC44B,kBAAmB,SAAW9lB,EAAM9Z,EAAUkgC,GAE7C,IAAIC,EAAWngC,EAAU,GAAI2Z,QAAS,KAAM,IAAKA,QAAS,KAAM,IAAKO,OACjEkmB,EAAYpgC,EAAU,GAAI2Z,QAAS,KAAM,IAAKA,QAAS,KAAM,IAAKO,OAKpD,YAAbimB,GAAwC,MAAdC,IAE9BA,EAAYF,EAAYvmB,QAAS,KAAM,IAAKA,QAAS,KAAM,IAAKO,QAIjE,IAAI+lB,EAAcj/B,KAAK89B,iBACnBuB,EAAaJ,EAAYphC,KAE7B,GAAoB,iBAAfwhC,EAAL,CAQA,GAAkB,MAAbF,EAAmB,CAEvB,IAAIG,EAAYF,EAAUvmB,MAAO,KAAMxZ,MAAO,GAC1CkgC,EAAOvpB,KAAUspB,EAAW,IAC5BE,EAAKxpB,KAAUspB,EAAW,IAE1BG,EAAOL,EAAUvmB,MAAO,KAAMxZ,MAAO,GAEzCogC,EAAOA,EAAK/jB,IAAK,SAAW4gB,GAE3B,OAAOA,EAAKpjB,OAAOP,QAAS,KAAM,MAInCwmB,EAAW,cACXC,EAAY,CAAEG,EAAMC,GACpBE,EAAQN,EAAWK,QAEcjrB,IAA5ByqB,EAAaE,KAEjBF,EAAaE,GAAa,IAOV,SAAbA,IAAsBF,EAAYp+B,GAAKu+B,GAGvCD,KAAYF,GAAe7pB,KAAe6pB,EAAaE,IAE3DF,EAAaE,GAAWjjC,KAAMkjC,GAIZ,MAAbD,EAAmBF,EAAaE,GAAaC,EAC7CH,EAAYr2B,EAAIw2B,EAItBp/B,KAAKm+B,eAAgBc,EAAaE,GAGhB,MAAbA,GAA+C,MAA3BC,EAAU//B,OAAS,KAE3C4/B,EAAYr2B,EAAI+2B,EAAkBP,SApDlCp/B,KAAK4/B,yBAA0B9mB,EAAMqmB,EAAUC,IA0DjDP,2BAA4B,SAAW/lB,GAEtC,IAAImmB,EAAcj/B,KAAK89B,iBAEvBmB,EAAYr2B,GAAKkQ,EAIU,MAAtBA,EAAKzZ,OAAS,KAElB4/B,EAAYr2B,EAAI+2B,EAAkBV,EAAYr2B,KAOhDg3B,yBAA0B,SAAW9mB,EAAMqmB,EAAUC,GAMpD,IAAIS,EAAQT,EAAUvmB,MAAO,MAAO6C,IAAK,SAAWokB,GAEnD,OAAOA,EAAK5mB,OAAOP,QAAS,MAAO,IAAKA,QAAS,KAAM,OAIpDonB,EAAgBF,EAAO,GACvBG,EAAiBH,EAAO,GACxBI,EAAiBJ,EAAO,GACxBK,EAAgBL,EAAO,GACvBM,EAAiBN,EAAO,GAG5B,OAASG,GAER,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,YACL,IAAK,SACL,IAAK,SACL,IAAK,cACJG,EAAiB/mB,KAAY+mB,GAC7B,MAED,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,kBACL,IAAK,eACL,IAAK,cACJA,EAAiBR,EAAkBQ,GACnC,MAKFngC,KAAK29B,cAAeoC,GAAkB,CAErC/5B,KAAQg6B,EACRI,MAASH,EACTI,KAAQH,EACR5hC,MAAS6hC,GAIVngC,KAAKm+B,eAAgBn+B,KAAK29B,cAAeoC,KAS3CpjB,EAAavgB,UAAY,CAExB2b,YAAa4E,EAEbnE,MAAO,SAAWqE,GAEjB,IAAIyjB,EAAS,IAAI1jB,EAAcC,GAC/ByjB,EAAOC,KAAM,IAEb,IAAIziB,EAAUwiB,EAAOE,YAErBv4B,QAAQw4B,IAAK,wCAA0C3iB,GAEvD,IAAIugB,EAAW,IAAInhB,EAEnB,OAAUld,KAAK0gC,aAAcJ,GAAW,CAEvC,IAAIrX,EAAOjpB,KAAK2gC,UAAWL,EAAQxiB,GACrB,OAATmL,GAAgBoV,EAASriB,IAAKiN,EAAKprB,KAAMorB,GAI/C,OAAOoV,GAKRqC,aAAc,SAAWJ,GAUxB,OAAKA,EAAOt3B,OAAS,KAAO,GAEhBs3B,EAAOM,YAAc,IAAM,IAAO,KAAWN,EAAOt3B,OAIxDs3B,EAAOM,YAAc,IAAM,IAAMN,EAAOt3B,QAOjD23B,UAAW,SAAWL,EAAQxiB,GAE7B,IAAImL,EAAO,GAGP4X,EAAc/iB,GAAW,KAASwiB,EAAOQ,YAAcR,EAAOE,YAC9DO,EAAkBjjB,GAAW,KAASwiB,EAAOQ,YAAcR,EAAOE,YAKlEQ,GAFoBljB,GAAW,KAASwiB,EAAOQ,YAAcR,EAAOE,YAE1DF,EAAOW,YACjBpjC,EAAOyiC,EAAOY,UAAWF,GAG7B,GAAmB,IAAdH,EAAkB,OAAO,KAI9B,IAFA,IAAIM,EAAe,GAETrlC,EAAI,EAAGA,EAAIilC,EAAejlC,IAEnCqlC,EAAajlC,KAAM8D,KAAKohC,cAAed,IAKxC,IAAIz/B,EAAKsgC,EAAanlC,OAAS,EAAImlC,EAAc,GAAM,GACnD5e,EAAW4e,EAAanlC,OAAS,EAAImlC,EAAc,GAAM,GACzD1a,EAAW0a,EAAanlC,OAAS,EAAImlC,EAAc,GAAM,GAI7DlY,EAAKoY,eAAqC,IAAlBN,GAAuBT,EAAOM,cAAgBC,EAEtE,MAAQA,EAAYP,EAAOM,YAAc,CAExC,IAAIU,EAAUthC,KAAK2gC,UAAWL,EAAQxiB,GAErB,OAAZwjB,GAAmBthC,KAAKuhC,aAAc1jC,EAAMorB,EAAMqY,GAWxD,OAPArY,EAAKkY,aAAeA,EAED,kBAAPtgC,IAAkBooB,EAAKpoB,GAAKA,GACtB,KAAb0hB,IAAkB0G,EAAK1G,SAAWA,GACrB,KAAbkE,IAAkBwC,EAAKxC,SAAWA,GACzB,KAAT5oB,IAAcorB,EAAKprB,KAAOA,GAExBorB,GAIRsY,aAAc,SAAW1jC,EAAMorB,EAAMqY,GAGpC,IAAgC,IAA3BA,EAAQD,eAA0B,CAEtC,IAAI/iC,EAAQgjC,EAAQH,aAAc,GAE7B/rB,KAAe9W,IAEnB2qB,EAAMqY,EAAQzjC,MAASyjC,EAEvBA,EAAQ14B,EAAItK,GAIZ2qB,EAAMqY,EAAQzjC,MAASS,OAIlB,GAAc,gBAATT,GAA2C,MAAjByjC,EAAQzjC,KAAe,CAE5D,IAAI8jB,EAAQ,GAEZ2f,EAAQH,aAAa3hB,QAAS,SAAWxgB,EAAUlD,GAGvC,IAANA,GAAU6lB,EAAMzlB,KAAM8C,UAIFwV,IAArByU,EAAK9M,cAET8M,EAAK9M,YAAc,IAIpB8M,EAAK9M,YAAYjgB,KAAMylB,QAEjB,GAAsB,iBAAjB2f,EAAQzjC,KAA0B,CAE7C,IAAI2jC,EAAO5G,KAAa0G,GAExBE,EAAKhiB,QAAS,SAAW5gB,GAExBqqB,EAAMrqB,GAAQ0iC,EAAS1iC,UAIlB,GAAc,iBAATf,GAA4C,MAAjByjC,EAAQzjC,KAAe,CAE7D,IAIIsiC,EAJAJ,EAAgBuB,EAAQH,aAAc,GACtCnB,EAAiBsB,EAAQH,aAAc,GACvClB,EAAiBqB,EAAQH,aAAc,GACvCjB,EAAgBoB,EAAQH,aAAc,GAGD,IAApCpB,EAAct8B,QAAS,UAAiBs8B,EAAgBA,EAAcpnB,QAAS,OAAQ,SAClD,IAArCqnB,EAAev8B,QAAS,UAAiBu8B,EAAiBA,EAAernB,QAAS,OAAQ,SAI9FwnB,EAFuB,UAAnBH,GAAiD,aAAnBA,GAAoD,WAAnBA,GAAkD,aAAnBA,GAAsE,IAArCA,EAAev8B,QAAS,QAE1I,CAChB69B,EAAQH,aAAc,GACtBG,EAAQH,aAAc,GACtBG,EAAQH,aAAc,IAKNG,EAAQH,aAAc,GAKxClY,EAAM8W,GAAkB,CAEvB/5B,KAAQg6B,EACRI,MAASH,EACTI,KAAQH,EACR5hC,MAAS6hC,aAI0B3rB,IAAzByU,EAAMqY,EAAQzjC,MAEE,kBAAfyjC,EAAQzgC,IAEnBooB,EAAMqY,EAAQzjC,MAAS,GACvBorB,EAAMqY,EAAQzjC,MAAQyjC,EAAQzgC,IAAOygC,GAIrCrY,EAAMqY,EAAQzjC,MAASyjC,EAMF,aAAjBA,EAAQzjC,MAELuX,KAAe6T,EAAMqY,EAAQzjC,SAEnCorB,EAAMqY,EAAQzjC,MAAS,CAAEorB,EAAMqY,EAAQzjC,QAIxCorB,EAAMqY,EAAQzjC,MAAO3B,KAAMolC,SAEuB9sB,IAAvCyU,EAAMqY,EAAQzjC,MAAQyjC,EAAQzgC,MAEzCooB,EAAMqY,EAAQzjC,MAAQyjC,EAAQzgC,IAAOygC,IAQxCF,cAAe,SAAWd,GAEzB,IAAIt6B,EAAOs6B,EAAOY,UAAW,GAE7B,OAASl7B,GAER,IAAK,IACJ,OAAOs6B,EAAOmB,aAEf,IAAK,IACJ,OAAOnB,EAAOoB,aAEf,IAAK,IACJ,OAAOpB,EAAOqB,aAEf,IAAK,IACJ,OAAOrB,EAAOsB,WAEf,IAAK,IACJ,OAAOtB,EAAOuB,WAEf,IAAK,IACJ,IAAI7lC,EAASskC,EAAOE,YACpB,OAAOF,EAAOwB,eAAgB9lC,GAE/B,IAAK,IACAA,EAASskC,EAAOE,YACpB,OAAOF,EAAOY,UAAWllC,GAE1B,IAAK,IACJ,OAAOskC,EAAOyB,WAEf,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAEJ,IAAIC,EAAc1B,EAAOE,YACrByB,EAAW3B,EAAOE,YAClB0B,EAAmB5B,EAAOE,YAE9B,GAAkB,IAAbyB,EAEJ,OAASj8B,GAER,IAAK,IACL,IAAK,IACJ,OAAOs6B,EAAO6B,gBAAiBH,GAEhC,IAAK,IACJ,OAAO1B,EAAO8B,gBAAiBJ,GAEhC,IAAK,IACJ,OAAO1B,EAAO+B,gBAAiBL,GAEhC,IAAK,IACJ,OAAO1B,EAAOgC,cAAeN,GAE9B,IAAK,IACJ,OAAO1B,EAAOiC,cAAeP,GAMX,qBAATQ,MAEXv6B,QAAQI,MAAO,qHAIhB,IAAIo6B,EAAU,IAAID,KAAKE,QAAS,IAAI9gB,WAAY0e,EAAOwB,eAAgBI,KACnES,EAAU,IAAI/lB,EAAc6lB,EAAQG,aAAa/lB,QAErD,OAAS7W,GAER,IAAK,IACL,IAAK,IACJ,OAAO28B,EAAQR,gBAAiBH,GAEjC,IAAK,IACJ,OAAOW,EAAQP,gBAAiBJ,GAEjC,IAAK,IACJ,OAAOW,EAAQN,gBAAiBL,GAEjC,IAAK,IACJ,OAAOW,EAAQL,cAAeN,GAE/B,IAAK,IACJ,OAAOW,EAAQJ,cAAeP,GAIjC,QACC,MAAM,IAAIvnB,MAAO,0CAA4CzU,MAgBjE4W,EAAaxgB,UAAY,CAExB2b,YAAa6E,EAEbgkB,UAAW,WAEV,OAAO5gC,KAAKid,QAIbjU,KAAM,WAEL,OAAOhJ,KAAK+c,GAAGF,OAAOQ,YAIvBkjB,KAAM,SAAWvkC,GAEhBgE,KAAKid,QAAUjhB,GAOhBylC,WAAY,WAEX,OAAmC,KAAR,EAAlBzhC,KAAKihC,aAIfkB,gBAAiB,SAAWn5B,GAI3B,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAKyhC,cAId,OAAO74B,GAIRq4B,SAAU,WAET,IAAI3iC,EAAQ0B,KAAK+c,GAAGkkB,SAAUjhC,KAAKid,QAEnC,OADAjd,KAAKid,QAAU,EACR3e,GAIRyjC,SAAU,WAET,IAAIzjC,EAAQ0B,KAAK+c,GAAGglB,SAAU/hC,KAAKid,OAAQjd,KAAK8c,cAEhD,OADA9c,KAAKid,QAAU,EACR3e,GAIRsjC,SAAU,WAET,IAAItjC,EAAQ0B,KAAK+c,GAAG6kB,SAAU5hC,KAAKid,OAAQjd,KAAK8c,cAEhD,OADA9c,KAAKid,QAAU,EACR3e,GAIRgkC,cAAe,SAAWt5B,GAIzB,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK4hC,YAId,OAAOh5B,GAIR43B,UAAW,WAEV,IAAIliC,EAAQ0B,KAAK+c,GAAGyjB,UAAWxgC,KAAKid,OAAQjd,KAAK8c,cAEjD,OADA9c,KAAKid,QAAU,EACR3e,GASRujC,SAAU,WAET,IAAIgB,EAAKC,EAeT,OAbK9iC,KAAK8c,cAET+lB,EAAM7iC,KAAKwgC,YACXsC,EAAO9iC,KAAKwgC,cAIZsC,EAAO9iC,KAAKwgC,YACZqC,EAAM7iC,KAAKwgC,aAKA,WAAPsC,GAEJA,EAAgB,YAAPA,EACTD,EAAc,YAANA,EAEK,aAARA,IAAqBC,EAASA,EAAO,EAAM,YAEhDD,EAAQA,EAAM,EAAM,aAEF,WAAPC,EAAqBD,IAInB,WAAPC,EAAqBD,GAI7BN,cAAe,SAAWv5B,GAIzB,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK6hC,YAId,OAAOj5B,GAKRk4B,UAAW,WAEV,IAAI+B,EAAKC,EAcT,OAZK9iC,KAAK8c,cAET+lB,EAAM7iC,KAAKwgC,YACXsC,EAAO9iC,KAAKwgC,cAIZsC,EAAO9iC,KAAKwgC,YACZqC,EAAM7iC,KAAKwgC,aAIE,WAAPsC,EAAqBD,GAI7BlB,WAAY,WAEX,IAAIrjC,EAAQ0B,KAAK+c,GAAG4kB,WAAY3hC,KAAKid,OAAQjd,KAAK8c,cAElD,OADA9c,KAAKid,QAAU,EACR3e,GAIR+jC,gBAAiB,SAAWr5B,GAI3B,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK2hC,cAId,OAAO/4B,GAIR84B,WAAY,WAEX,IAAIpjC,EAAQ0B,KAAK+c,GAAG2kB,WAAY1hC,KAAKid,OAAQjd,KAAK8c,cAElD,OADA9c,KAAKid,QAAU,EACR3e,GAIR8jC,gBAAiB,SAAWp5B,GAI3B,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK0hC,cAId,OAAO94B,GAIRk5B,eAAgB,SAAW94B,GAE1B,IAAI1K,EAAQ0B,KAAK+c,GAAGF,OAAOxd,MAAOW,KAAKid,OAAQjd,KAAKid,OAASjU,GAE7D,OADAhJ,KAAKid,QAAUjU,EACR1K,GAIR4iC,UAAW,SAAWl4B,GAKrB,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAG9M,GAAMkE,KAAKihC,WAIf,IAAI8B,EAAWn6B,EAAEnF,QAAS,GAG1B,OAFKs/B,GAAY,IAAIn6B,EAAIA,EAAEvJ,MAAO,EAAG0jC,IAE9BvvB,QAAkBwvB,WAAY,IAAIphB,WAAYhZ,MAUvDsU,EAAQ9gB,UAAY,CAEnB2b,YAAamF,EAEblB,IAAK,SAAWpd,EAAKq9B,GAEpBj8B,KAAMpB,GAAQq9B,IAmEhB,IAAIgH,EAAY,GAGhB,SAAS9O,EAASH,EAAoBV,EAAcS,EAAamP,GAEhE,IAAI1/B,EAEJ,OAAS0/B,EAAWtR,aAEnB,IAAK,kBACJpuB,EAAQwwB,EACR,MACD,IAAK,YACJxwB,EAAQ8vB,EACR,MACD,IAAK,YACJ9vB,EAAQuwB,EACR,MACD,IAAK,UACJvwB,EAAQ0/B,EAAW9b,QAAS,GAC5B,MACD,QACCnf,QAAQuZ,KAAM,mDAAqD0hB,EAAWtR,aAI9C,kBAA7BsR,EAAWxN,gBAAoClyB,EAAQ0/B,EAAW9b,QAAS5jB,IAEhF,IAAI+7B,EAAO/7B,EAAQ0/B,EAAWlN,SAC1BwJ,EAAKD,EAAO2D,EAAWlN,SAE3B,OAAO32B,EAAO4jC,EAAWC,EAAWrmB,OAAQ0iB,EAAMC,GAInD,IAAI2D,EAAY,IAAI3vB,QAChB4vB,EAAU,IAAI5vB,SAKlB,SAAS+V,EAAmBJ,GAE3B,IAAIka,EAAgB,IAAI7vB,QACpB8vB,EAAgB,IAAI9vB,QACpB+vB,EAAa,IAAI/vB,QACjBgwB,EAAiB,IAAIhwB,QAErBiwB,EAAY,IAAIjwB,QAChBkwB,EAAiB,IAAIlwB,QACrBmwB,EAAkB,IAAInwB,QACtBowB,EAAmB,IAAIpwB,QACvBqwB,EAAkB,IAAIrwB,QAEtBswB,EAAY,IAAItwB,QAChBuwB,EAAW,IAAIvwB,QAEfyZ,EAAgB9D,EAAc8D,YAAgB9D,EAAc8D,YAAc,EAI9E,GAFK9D,EAAcmE,aAAc+V,EAAcW,YAAaZ,EAAQhf,UAAW+E,EAAcmE,cAExFnE,EAAcqE,YAAc,CAEhC,IAAI7L,EAAQwH,EAAcqE,YAAY9R,IAAKlI,QAAW6Y,UACtD1K,EAAMzlB,KAAMitB,EAAcgE,YAC1BmW,EAAcW,sBAAuBd,EAAU/e,UAAWzC,IAI3D,GAAKwH,EAAcuE,SAAW,CAEzB/L,EAAQwH,EAAcuE,SAAShS,IAAKlI,QAAW6Y,UACnD1K,EAAMzlB,KAAMitB,EAAcgE,YAC1BoW,EAAWU,sBAAuBd,EAAU/e,UAAWzC,IAIxD,GAAKwH,EAAcyE,aAAe,CAE7BjM,EAAQwH,EAAcyE,aAAalS,IAAKlI,QAAW6Y,UACvD1K,EAAMzlB,KAAMitB,EAAcgE,YAC1BqW,EAAeS,sBAAuBd,EAAU/e,UAAWzC,IAIvDwH,EAAc2E,OAAQ2V,EAAU3V,MAAOsV,EAAQhf,UAAW+E,EAAc2E,QAGxE3E,EAAc6E,eAAgB2V,EAAgBK,YAAaZ,EAAQhf,UAAW+E,EAAc6E,gBAC5F7E,EAAc+E,cAAewV,EAAeM,YAAaZ,EAAQhf,UAAW+E,EAAc+E,eAC1F/E,EAAciF,gBAAiBwV,EAAiBI,YAAaZ,EAAQhf,UAAW+E,EAAciF,iBAC9FjF,EAAcmF,eAAgBuV,EAAgBG,YAAaZ,EAAQhf,UAAW+E,EAAcmF,gBAG5FnF,EAAcC,oBAAoB0a,EAAY3a,EAAcC,mBAGjE,IAAI8a,EAAOZ,EAActH,SAAUuH,GAAavH,SAAUwH,GACtDW,EAAa,IAAI3wB,QACrBswB,EAAUM,gBAAiBD,GAG3B,IACIE,EACAC,EACAC,EAOAC,EAVAC,EAAY,IAAIjxB,QAWpB,GANAixB,EAAUC,aAAcZ,GACxBS,EAAcE,EAAUE,WAAYF,GAAYzI,SAAU8H,GAC1DQ,EAAaH,EAAWQ,WAAYR,GAAanI,SAAUuI,GAC3DF,EAAOZ,EAGc,IAAhBxW,EAEJuX,EAAYL,EAAWnI,SAAUkI,GAAOlI,SAAUsI,GAAatI,SAAUqI,QAEnE,GAAqB,IAAhBpX,EAEXuX,EAAYL,EAAWnI,SAAUsI,GAAatI,SAAUkI,GAAOlI,SAAUqI,OAEnE,CAEN,IAAIO,GAAa,IAAIpxB,SAAgBiI,KAAMgoB,GAEvCoB,EAAqBP,EAAWtI,SAAU4I,EAAWD,WAAYC,IAErEJ,EAAYL,EAAWnI,SAAUkI,GAAOlI,SAAU6I,GAAqB7I,SAAUqI,GAKlF,IAAIS,EAAazB,EAAcrH,SAAU4H,GAAmB5H,SAAU6H,GAAkB7H,SAAUsH,GAAgBtH,SAAUuH,GAAavH,SAAUwH,GAAiBxH,SAAU6H,EAAgBc,WAAYd,IAAoB7H,SAAU2H,GAAkB3H,SAAU0H,GAAiB1H,SAAUyH,GAAYzH,SAAU0H,EAAeiB,WAAYjB,IAE5UqB,GAAmC,IAAIvxB,SAAgBkxB,aAAcI,GAErEE,EAAqBlB,EAAU9H,SAAU+I,GAK7C,OAJAhB,EAASW,aAAcM,GAEvBF,EAAaf,EAAS/H,SAAUwI,GAEzBM,EAMR,SAAS1X,EAAeuJ,GAEvBA,EAAQA,GAAS,EAEjB,IAAIsO,EAAQ,CACX,MACA,MACA,MACA,MACA,MACA,OAID,OAAe,IAAVtO,GAEJ1uB,QAAQuZ,KAAM,uGACPyjB,EAAO,IAIRA,EAAOtO,GAMf,SAASgJ,EAAkBrhC,GAE1B,IAAIqjB,EAAQrjB,EAAMua,MAAO,KAAM6C,IAAK,SAAWugB,GAE9C,OAAO7iB,KAAY6iB,KAIpB,OAAOta,EAIR,SAASrE,EAA4BT,EAAQ0iB,EAAMC,GAKlD,YAHchrB,IAAT+qB,IAAqBA,EAAO,QACrB/qB,IAAPgrB,IAAmBA,EAAK3iB,EAAOQ,YAE7B7J,QAAkBwvB,WAAY,IAAIphB,WAAY/E,EAAQ0iB,EAAMC,IAIpE,SAASE,EAAQ92B,EAAGwN,GAEnB,IAAM,IAAIta,EAAI,EAAGkB,EAAI4L,EAAE5M,OAAQyB,EAAI2Y,EAAEpa,OAAQF,EAAI2B,EAAG3B,IAAMkB,IAEzD4L,EAAG5L,GAAMoZ,EAAGta,GAMd,SAASuD,EAAOuJ,EAAGwN,EAAGmpB,EAAMC,GAE3B,IAAM,IAAI1jC,EAAIyjC,EAAMviC,EAAI,EAAGlB,EAAI0jC,EAAI1jC,IAAMkB,IAExC4L,EAAG5L,GAAMoZ,EAAGta,GAIb,OAAO8M,EAKR,SAAS80B,EAAQwH,EAAI1hC,EAAO2hC,GAE3B,OAAOD,EAAG7lC,MAAO,EAAGmE,GAAQoX,OAAQuqB,GAAKvqB,OAAQsqB,EAAG7lC,MAAOmE,IAI5D,OAAO6Y,EAhhIY,GCvBpB,IAAI+oB,GAAM,WAAgB,IAAArlC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBmF,YAAA,CAAaZ,MAAA,OAAAX,OAAA,OAAA+I,OAAA,IAAAu4B,OAAA,IAAAC,QAAA,MAAwE,CAAAvlC,EAAA,YAAAI,EAAA,UAAiCkF,IAAA,QAAAC,YAAA,CAAyBZ,MAAA,OAAAX,OAAA,UAAgC5D,EAAA,OAAAJ,EAAAwlC,GAAA,WAAAxlC,EAAAkC,GAAA,wBACrRujC,GAAe,6DCgBnBhyB,oBAAsB,SAAWzU,EAAQ0mC,GAExCzlC,KAAKjB,OAASA,EAEdiB,KAAKylC,gBAA8BjxB,IAAfixB,EAA6BA,EAAan8B,SAG9DtJ,KAAK0lC,SAAU,EAGf1lC,KAAK0uB,OAAS,IAAIlb,SAGlBxT,KAAK2lC,YAAc,EACnB3lC,KAAK4lC,YAAcC,IAGnB7lC,KAAK8lC,QAAU,EACf9lC,KAAK+lC,QAAUF,IAIf7lC,KAAKgmC,cAAgB,EACrBhmC,KAAKimC,cAAgB/Z,KAAKC,GAI1BnsB,KAAKkmC,iBAAoBL,IACzB7lC,KAAKmmC,gBAAkBN,IAIvB7lC,KAAKomC,eAAgB,EACrBpmC,KAAKqmC,cAAgB,IAIrBrmC,KAAKsmC,YAAa,EAClBtmC,KAAKumC,UAAY,EAGjBvmC,KAAKwmC,cAAe,EACpBxmC,KAAKymC,YAAc,EAGnBzmC,KAAK0mC,WAAY,EACjB1mC,KAAK2mC,SAAW,EAChB3mC,KAAK4mC,oBAAqB,EAC1B5mC,KAAK6mC,YAAc,EAInB7mC,KAAK8mC,YAAa,EAClB9mC,KAAK+mC,gBAAkB,EAGvB/mC,KAAKgnC,YAAa,EAGlBhnC,KAAKwhC,KAAO,CAAEyF,KAAM,GAAIC,GAAI,GAAIC,MAAO,GAAIC,OAAQ,IAGnDpnC,KAAKqnC,aAAe,CAAEJ,KAAMzzB,QAAYyzB,KAAMK,OAAQ9zB,QAAY8zB,OAAQH,MAAO3zB,QAAY2zB,OAG7FnnC,KAAKunC,QAAUvnC,KAAK0uB,OAAOnZ,QAC3BvV,KAAKwnC,UAAYxnC,KAAKjB,OAAO8N,SAAS0I,QACtCvV,KAAKynC,MAAQznC,KAAKjB,OAAO2oC,KAMzB1nC,KAAK2nC,cAAgB,WAEpB,OAAOC,EAAUC,KAIlB7nC,KAAK8nC,kBAAoB,WAExB,OAAOF,EAAUG,OAIlB/nC,KAAKgoC,UAAY,WAEhB5vB,EAAMmvB,QAAQ9rB,KAAMrD,EAAMsW,QAC1BtW,EAAMovB,UAAU/rB,KAAMrD,EAAMrZ,OAAO8N,UACnCuL,EAAMqvB,MAAQrvB,EAAMrZ,OAAO2oC,MAI5B1nC,KAAKioC,MAAQ,WAEZ7vB,EAAMsW,OAAOjT,KAAMrD,EAAMmvB,SACzBnvB,EAAMrZ,OAAO8N,SAAS4O,KAAMrD,EAAMovB,WAClCpvB,EAAMrZ,OAAO2oC,KAAOtvB,EAAMqvB,MAE1BrvB,EAAMrZ,OAAOmpC,yBACb9vB,EAAMpO,cAAem+B,GAErB/vB,EAAMgwB,SAENv0B,EAAQw0B,EAAMC,MAKftoC,KAAKooC,OAAS,WAEb,IAAInrB,EAAS,IAAIzJ,SAGb+0B,GAAO,IAAI/0B,SAAmBg1B,mBAAoBzpC,EAAO0pC,GAAI,IAAIj1B,SAAe,EAAG,EAAG,IACtFk1B,EAAcH,EAAKhzB,QAAQomB,UAE3BgN,EAAe,IAAIn1B,SACnBo1B,EAAiB,IAAIp1B,QAEzB,OAAO,WAEN,IAAI3G,EAAWuL,EAAMrZ,OAAO8N,SAkE5B,OAhEAoQ,EAAOxB,KAAM5O,GAAWg8B,IAAKzwB,EAAMsW,QAGnCzR,EAAO6rB,gBAAiBP,GAGxBX,EAAUmB,eAAgB9rB,GAErB7E,EAAM0uB,YAAcjzB,IAAUw0B,EAAMC,MAExCU,EAAYC,KAIbrB,EAAUG,OAASmB,EAAenB,MAClCH,EAAUC,KAAOqB,EAAerB,IAGhCD,EAAUG,MAAQ7b,KAAK9b,IAAKgI,EAAM8tB,gBAAiBha,KAAK3b,IAAK6H,EAAM+tB,gBAAiByB,EAAUG,QAG9FH,EAAUC,IAAM3b,KAAK9b,IAAKgI,EAAM4tB,cAAe9Z,KAAK3b,IAAK6H,EAAM6tB,cAAe2B,EAAUC,MAExFD,EAAUuB,WAGVvB,EAAUwB,QAAUtb,EAGpB8Z,EAAUwB,OAASld,KAAK9b,IAAKgI,EAAMutB,YAAazZ,KAAK3b,IAAK6H,EAAMwtB,YAAagC,EAAUwB,SAGvFhxB,EAAMsW,OAAO1S,IAAKqtB,GAElBpsB,EAAOqsB,iBAAkB1B,GAGzB3qB,EAAO6rB,gBAAiBJ,GAExB77B,EAAS4O,KAAMrD,EAAMsW,QAAS1S,IAAKiB,GAEnC7E,EAAMrZ,OAAO4vB,OAAQvW,EAAMsW,SAEE,IAAxBtW,EAAMguB,eAEV8C,EAAenB,OAAW,EAAI3vB,EAAMiuB,cACpC6C,EAAerB,KAAS,EAAIzvB,EAAMiuB,cAElCgD,EAAUE,eAAgB,EAAInxB,EAAMiuB,iBAIpC6C,EAAeppB,IAAK,EAAG,EAAG,GAE1BupB,EAAUvpB,IAAK,EAAG,EAAG,IAItBgO,EAAQ,KAMH0b,GACJb,EAAac,kBAAmBrxB,EAAMrZ,OAAO8N,UAAa68B,GAC1D,GAAM,EAAId,EAAee,IAAKvxB,EAAMrZ,OAAO68B,aAAiB8N,KAE5DtxB,EAAMpO,cAAem+B,GAErBQ,EAAaltB,KAAMrD,EAAMrZ,OAAO8N,UAChC+7B,EAAentB,KAAMrD,EAAMrZ,OAAO68B,YAClC4N,GAAc,GAEP,IAzFI,GAmGdxpC,KAAK4pC,QAAU,WAEdxxB,EAAMqtB,WAAWoE,oBAAqB,cAAeC,IAAe,GACpE1xB,EAAMqtB,WAAWoE,oBAAqB,YAAaE,GAAa,GAChE3xB,EAAMqtB,WAAWoE,oBAAqB,QAASG,GAAc,GAE7D5xB,EAAMqtB,WAAWoE,oBAAqB,aAAcI,GAAc,GAClE7xB,EAAMqtB,WAAWoE,oBAAqB,WAAYK,GAAY,GAC9D9xB,EAAMqtB,WAAWoE,oBAAqB,YAAaM,GAAa,GAEhE7gC,SAASugC,oBAAqB,YAAaO,GAAa,GACxD9gC,SAASugC,oBAAqB,UAAWQ,GAAW,GAEpDlrC,OAAO0qC,oBAAqB,UAAWS,GAAW,IAUnD,IAAIlyB,EAAQpY,KAERmoC,EAAc,CAAEniC,KAAM,UACtBukC,EAAa,CAAEvkC,KAAM,SACrBwkC,EAAW,CAAExkC,KAAM,OAEnBqiC,EAAQ,CAAEC,MAAQ,EAAGmC,OAAQ,EAAGC,MAAO,EAAGC,IAAK,EAAGC,aAAc,EAAGC,gBAAiB,GAEpFh3B,EAAQw0B,EAAMC,KAEdoB,EAAM,KAGN9B,EAAY,IAAIp0B,QAChB01B,EAAiB,IAAI11B,QAErBsa,EAAQ,EACRub,EAAY,IAAI71B,SAChBg2B,GAAc,EAEdsB,EAAc,IAAIt3B,SAClBu3B,EAAY,IAAIv3B,SAChBw3B,EAAc,IAAIx3B,SAElBy3B,EAAW,IAAIz3B,SACf03B,EAAS,IAAI13B,SACb23B,EAAW,IAAI33B,SAEf43B,EAAa,IAAI53B,SACjB63B,EAAW,IAAI73B,SACf83B,EAAa,IAAI93B,SAErB,SAASy1B,IAER,OAAO,EAAI/c,KAAKC,GAAK,GAAK,GAAK/T,EAAM2uB,gBAItC,SAASwE,IAER,OAAOrf,KAAKsf,IAAK,IAAMpzB,EAAMmuB,WAI9B,SAASyC,EAAY/c,GAEpBid,EAAenB,OAAS9b,EAIzB,SAASwf,EAAUxf,GAElBid,EAAerB,KAAO5b,EAIvB,IAAIyf,EAAU,WAEb,IAAIC,EAAI,IAAIn4B,SAEZ,OAAO,SAAkBqY,EAAU+f,GAElCD,EAAEE,oBAAqBD,EAAc,GACrCD,EAAEpC,gBAAkB1d,GAEpBwd,EAAUrtB,IAAK2vB,IATH,GAeVG,EAAQ,WAEX,IAAIH,EAAI,IAAIn4B,SAEZ,OAAO,SAAgBqY,EAAU+f,IAEE,IAA7BxzB,EAAMwuB,mBAEV+E,EAAEE,oBAAqBD,EAAc,IAIrCD,EAAEE,oBAAqBD,EAAc,GACrCD,EAAEI,aAAc3zB,EAAMrZ,OAAO0pC,GAAIkD,IAIlCA,EAAEpC,eAAgB1d,GAElBwd,EAAUrtB,IAAK2vB,IAnBL,GA0BRK,EAAM,WAET,IAAI/uB,EAAS,IAAIzJ,SAEjB,OAAO,SAAcy4B,EAAQC,GAE5B,IAAIrjC,EAAUuP,EAAMqtB,aAAen8B,SAAW8O,EAAMqtB,WAAWt9B,KAAOiQ,EAAMqtB,WAE5E,GAAKrtB,EAAMrZ,OAAOotC,oBAAsB,CAGvC,IAAIt/B,EAAWuL,EAAMrZ,OAAO8N,SAC5BoQ,EAAOxB,KAAM5O,GAAWg8B,IAAKzwB,EAAMsW,QACnC,IAAI0d,EAAiBnvB,EAAOjhB,SAG5BowC,GAAkBlgB,KAAKmgB,IAAOj0B,EAAMrZ,OAAOmsB,IAAM,EAAMgB,KAAKC,GAAK,KAGjEuf,EAAS,EAAIO,EAASG,EAAiBvjC,EAAQyjC,aAAcl0B,EAAMrZ,OAAOsqB,QAC1EyiB,EAAO,EAAII,EAASE,EAAiBvjC,EAAQyjC,aAAcl0B,EAAMrZ,OAAOsqB,aAE7DjR,EAAMrZ,OAAOwtC,sBAGxBb,EAASO,GAAW7zB,EAAMrZ,OAAOoS,MAAQiH,EAAMrZ,OAAOytC,MAASp0B,EAAMrZ,OAAO2oC,KAAO7+B,EAAQ4jC,YAAar0B,EAAMrZ,OAAOsqB,QACrHyiB,EAAOI,GAAW9zB,EAAMrZ,OAAO2tC,IAAMt0B,EAAMrZ,OAAOsO,QAAW+K,EAAMrZ,OAAO2oC,KAAO7+B,EAAQyjC,aAAcl0B,EAAMrZ,OAAOsqB,UAKpHphB,QAAQuZ,KAAM,gFACdpJ,EAAMsuB,WAAY,IAhCX,GAwCV,SAASiG,EAASC,GAEZx0B,EAAMrZ,OAAOotC,oBAEjBre,GAAS8e,EAEEx0B,EAAMrZ,OAAOwtC,sBAExBn0B,EAAMrZ,OAAO2oC,KAAOxb,KAAK9b,IAAKgI,EAAM0tB,QAAS5Z,KAAK3b,IAAK6H,EAAM2tB,QAAS3tB,EAAMrZ,OAAO2oC,KAAOkF,IAC1Fx0B,EAAMrZ,OAAOmpC,yBACbsB,GAAc,IAIdvhC,QAAQuZ,KAAM,uFACdpJ,EAAMkuB,YAAa,GAMrB,SAASuG,EAAUD,GAEbx0B,EAAMrZ,OAAOotC,oBAEjBre,GAAS8e,EAEEx0B,EAAMrZ,OAAOwtC,sBAExBn0B,EAAMrZ,OAAO2oC,KAAOxb,KAAK9b,IAAKgI,EAAM0tB,QAAS5Z,KAAK3b,IAAK6H,EAAM2tB,QAAS3tB,EAAMrZ,OAAO2oC,KAAOkF,IAC1Fx0B,EAAMrZ,OAAOmpC,yBACbsB,GAAc,IAIdvhC,QAAQuZ,KAAM,uFACdpJ,EAAMkuB,YAAa,GAUrB,SAASwG,EAAuBjjC,GAI/BihC,EAAYhrB,IAAKjW,EAAMkjC,QAASljC,EAAMmjC,SAIvC,SAASC,EAAsBpjC,GAI9BuhC,EAAWtrB,IAAKjW,EAAMkjC,QAASljC,EAAMmjC,SAItC,SAASE,EAAoBrjC,GAI5BohC,EAASnrB,IAAKjW,EAAMkjC,QAASljC,EAAMmjC,SAIpC,SAASG,EAAuBtjC,GAI/BkhC,EAAUjrB,IAAKjW,EAAMkjC,QAASljC,EAAMmjC,SAEpChC,EAAYoC,WAAYrC,EAAWD,GAAcvB,eAAgBnxB,EAAMquB,aAEvE,IAAI59B,EAAUuP,EAAMqtB,aAAen8B,SAAW8O,EAAMqtB,WAAWt9B,KAAOiQ,EAAMqtB,WAE5EuD,EAAY,EAAI9c,KAAKC,GAAK6e,EAAY7nB,EAAIta,EAAQyjC,cAElDb,EAAU,EAAIvf,KAAKC,GAAK6e,EAAY5nB,EAAIva,EAAQyjC,cAEhDxB,EAAYrvB,KAAMsvB,GAElB3yB,EAAMgwB,SAIP,SAASiF,EAAsBxjC,GAI9BwhC,EAASvrB,IAAKjW,EAAMkjC,QAASljC,EAAMmjC,SAEnC1B,EAAW8B,WAAY/B,EAAUD,GAE5BE,EAAWloB,EAAI,EAEnBupB,EAASpB,KAEED,EAAWloB,EAAI,GAE1BypB,EAAUtB,KAIXH,EAAW3vB,KAAM4vB,GAEjBjzB,EAAMgwB,SAIP,SAASkF,EAAoBzjC,GAI5BqhC,EAAOprB,IAAKjW,EAAMkjC,QAASljC,EAAMmjC,SAEjC7B,EAASiC,WAAYlC,EAAQD,GAAW1B,eAAgBnxB,EAAMuuB,UAE9DqF,EAAKb,EAAShoB,EAAGgoB,EAAS/nB,GAE1B6nB,EAASxvB,KAAMyvB,GAEf9yB,EAAMgwB,SAIP,SAASmF,EAAe1jC,IAMxB,SAAS2jC,EAAkB3jC,GAIrBA,EAAMqiC,OAAS,EAEnBW,EAAUtB,KAEC1hC,EAAMqiC,OAAS,GAE1BS,EAASpB,KAIVnzB,EAAMgwB,SAIP,SAASqF,EAAe5jC,GAIvB,IAAI6jC,GAAc,EAElB,OAAS7jC,EAAM8jC,SAEd,KAAKv1B,EAAMopB,KAAK0F,GACf8E,EAAK,EAAG5zB,EAAMyuB,aACd6G,GAAc,EACd,MAED,KAAKt1B,EAAMopB,KAAK4F,OACf4E,EAAK,GAAK5zB,EAAMyuB,aAChB6G,GAAc,EACd,MAED,KAAKt1B,EAAMopB,KAAKyF,KACf+E,EAAK5zB,EAAMyuB,YAAa,GACxB6G,GAAc,EACd,MAED,KAAKt1B,EAAMopB,KAAK2F,MACf6E,GAAO5zB,EAAMyuB,YAAa,GAC1B6G,GAAc,EACd,MAIGA,IAGJ7jC,EAAM+jC,iBAENx1B,EAAMgwB,UAOR,SAASyF,EAAwBhkC,GAIhCihC,EAAYhrB,IAAKjW,EAAMikC,QAAS,GAAIC,MAAOlkC,EAAMikC,QAAS,GAAIE,OAI/D,SAASC,EAA0BpkC,GAIlC,GAAKuO,EAAMkuB,WAAa,CAEvB,IAAI4H,EAAKrkC,EAAMikC,QAAS,GAAIC,MAAQlkC,EAAMikC,QAAS,GAAIC,MACnDI,EAAKtkC,EAAMikC,QAAS,GAAIE,MAAQnkC,EAAMikC,QAAS,GAAIE,MAEnDniB,EAAWK,KAAKkiB,KAAMF,EAAKA,EAAKC,EAAKA,GAEzC/C,EAAWtrB,IAAK,EAAG+L,GAIpB,GAAKzT,EAAMsuB,UAAY,CAEtB,IAAIvjB,EAAI,IAAQtZ,EAAMikC,QAAS,GAAIC,MAAQlkC,EAAMikC,QAAS,GAAIC,OAC1D3qB,EAAI,IAAQvZ,EAAMikC,QAAS,GAAIE,MAAQnkC,EAAMikC,QAAS,GAAIE,OAE9D/C,EAASnrB,IAAKqD,EAAGC,IAMnB,SAASirB,EAAuBxkC,GAI/BkhC,EAAUjrB,IAAKjW,EAAMikC,QAAS,GAAIC,MAAOlkC,EAAMikC,QAAS,GAAIE,OAE5DhD,EAAYoC,WAAYrC,EAAWD,GAAcvB,eAAgBnxB,EAAMquB,aAEvE,IAAI59B,EAAUuP,EAAMqtB,aAAen8B,SAAW8O,EAAMqtB,WAAWt9B,KAAOiQ,EAAMqtB,WAE5EuD,EAAY,EAAI9c,KAAKC,GAAK6e,EAAY7nB,EAAIta,EAAQyjC,cAElDb,EAAU,EAAIvf,KAAKC,GAAK6e,EAAY5nB,EAAIva,EAAQyjC,cAEhDxB,EAAYrvB,KAAMsvB,GAElB3yB,EAAMgwB,SAIP,SAASkG,EAAyBzkC,GAIjC,GAAKuO,EAAMkuB,WAAa,CAEvB,IAAI4H,EAAKrkC,EAAMikC,QAAS,GAAIC,MAAQlkC,EAAMikC,QAAS,GAAIC,MACnDI,EAAKtkC,EAAMikC,QAAS,GAAIE,MAAQnkC,EAAMikC,QAAS,GAAIE,MAEnDniB,EAAWK,KAAKkiB,KAAMF,EAAKA,EAAKC,EAAKA,GAEzC9C,EAASvrB,IAAK,EAAG+L,GAEjByf,EAAWxrB,IAAK,EAAGoM,KAAKsf,IAAKH,EAASjoB,EAAIgoB,EAAWhoB,EAAGhL,EAAMmuB,YAE9DoG,EAASrB,EAAWloB,GAEpBgoB,EAAW3vB,KAAM4vB,GAIlB,GAAKjzB,EAAMsuB,UAAY,CAEtB,IAAIvjB,EAAI,IAAQtZ,EAAMikC,QAAS,GAAIC,MAAQlkC,EAAMikC,QAAS,GAAIC,OAC1D3qB,EAAI,IAAQvZ,EAAMikC,QAAS,GAAIE,MAAQnkC,EAAMikC,QAAS,GAAIE,OAE9D9C,EAAOprB,IAAKqD,EAAGC,GAEf+nB,EAASiC,WAAYlC,EAAQD,GAAW1B,eAAgBnxB,EAAMuuB,UAE9DqF,EAAKb,EAAShoB,EAAGgoB,EAAS/nB,GAE1B6nB,EAASxvB,KAAMyvB,GAIhB9yB,EAAMgwB,SAIP,SAASmG,EAAgB1kC,IAUzB,SAASkgC,EAAalgC,GAErB,IAAuB,IAAlBuO,EAAMstB,QAAX,CAWA,OAPA77B,EAAM+jC,iBAKNx1B,EAAMqtB,WAAW+I,MAAQp2B,EAAMqtB,WAAW+I,QAAUrvC,OAAOqvC,QAElD3kC,EAAM4kC,QAEd,KAAKr2B,EAAMivB,aAAaJ,KAEvB,GAAKp9B,EAAM6kC,SAAW7kC,EAAM8kC,SAAW9kC,EAAM+kC,SAAW,CAEvD,IAAyB,IAApBx2B,EAAMsuB,UAAsB,OAEjCwG,EAAoBrjC,GAEpBgK,EAAQw0B,EAAMsC,QAER,CAEN,IAA4B,IAAvBvyB,EAAMouB,aAAyB,OAEpCsG,EAAuBjjC,GAEvBgK,EAAQw0B,EAAMoC,OAIf,MAED,KAAKryB,EAAMivB,aAAaC,OAEvB,IAA0B,IAArBlvB,EAAMkuB,WAAuB,OAElC2G,EAAsBpjC,GAEtBgK,EAAQw0B,EAAMqC,MAEd,MAED,KAAKtyB,EAAMivB,aAAaF,MAEvB,IAAyB,IAApB/uB,EAAMsuB,UAAsB,OAEjCwG,EAAoBrjC,GAEpBgK,EAAQw0B,EAAMsC,IAEd,MAIG92B,IAAUw0B,EAAMC,OAEpBh/B,SAASulC,iBAAkB,YAAazE,GAAa,GACrD9gC,SAASulC,iBAAkB,UAAWxE,GAAW,GAEjDjyB,EAAMpO,cAAeugC,KAMvB,SAASH,EAAavgC,GAErB,IAAuB,IAAlBuO,EAAMstB,QAIX,OAFA77B,EAAM+jC,iBAEG/5B,GAER,KAAKw0B,EAAMoC,OAEV,IAA4B,IAAvBryB,EAAMouB,aAAyB,OAEpC2G,EAAuBtjC,GAEvB,MAED,KAAKw+B,EAAMqC,MAEV,IAA0B,IAArBtyB,EAAMkuB,WAAuB,OAElC+G,EAAsBxjC,GAEtB,MAED,KAAKw+B,EAAMsC,IAEV,IAAyB,IAApBvyB,EAAMsuB,UAAsB,OAEjC4G,EAAoBzjC,GAEpB,OAMH,SAASwgC,EAAWxgC,IAEI,IAAlBuO,EAAMstB,UAEX6H,EAAe1jC,GAEfP,SAASugC,oBAAqB,YAAaO,GAAa,GACxD9gC,SAASugC,oBAAqB,UAAWQ,GAAW,GAEpDjyB,EAAMpO,cAAewgC,GAErB32B,EAAQw0B,EAAMC,MAIf,SAAS0B,EAAcngC,IAEC,IAAlBuO,EAAMstB,UAA0C,IAArBttB,EAAMkuB,YAA0BzyB,IAAUw0B,EAAMC,MAAQz0B,IAAUw0B,EAAMoC,SAExG5gC,EAAM+jC,iBACN/jC,EAAMzH,kBAENgW,EAAMpO,cAAeugC,GAErBiD,EAAkB3jC,GAElBuO,EAAMpO,cAAewgC,IAItB,SAASF,EAAWzgC,IAEI,IAAlBuO,EAAMstB,UAA0C,IAArBttB,EAAM4uB,aAA4C,IAApB5uB,EAAMsuB,WAEpE+G,EAAe5jC,GAIhB,SAASogC,EAAcpgC,GAEtB,IAAuB,IAAlBuO,EAAMstB,QAAX,CAIA,OAFA77B,EAAM+jC,iBAEG/jC,EAAMikC,QAAQ9xC,QAEtB,KAAK,EAEJ,IAA4B,IAAvBoc,EAAMouB,aAAyB,OAEpCqH,EAAwBhkC,GAExBgK,EAAQw0B,EAAMuC,aAEd,MAED,KAAK,EAEJ,IAA0B,IAArBxyB,EAAMkuB,aAA4C,IAApBluB,EAAMsuB,UAAsB,OAE/DuH,EAA0BpkC,GAE1BgK,EAAQw0B,EAAMwC,gBAEd,MAED,QAECh3B,EAAQw0B,EAAMC,KAIXz0B,IAAUw0B,EAAMC,MAEpBlwB,EAAMpO,cAAeugC,IAMvB,SAASJ,EAAatgC,GAErB,IAAuB,IAAlBuO,EAAMstB,QAKX,OAHA77B,EAAM+jC,iBACN/jC,EAAMzH,kBAEGyH,EAAMikC,QAAQ9xC,QAEtB,KAAK,EAEJ,IAA4B,IAAvBoc,EAAMouB,aAAyB,OACpC,GAAK3yB,IAAUw0B,EAAMuC,aAAe,OAEpCyD,EAAuBxkC,GAEvB,MAED,KAAK,EAEJ,IAA0B,IAArBuO,EAAMkuB,aAA4C,IAApBluB,EAAMsuB,UAAsB,OAC/D,GAAK7yB,IAAUw0B,EAAMwC,gBAAkB,OAEvCyD,EAAyBzkC,GAEzB,MAED,QAECgK,EAAQw0B,EAAMC,MAMjB,SAAS4B,EAAYrgC,IAEG,IAAlBuO,EAAMstB,UAEX6I,EAAgB1kC,GAEhBuO,EAAMpO,cAAewgC,GAErB32B,EAAQw0B,EAAMC,MAIf,SAASwB,GAAejgC,IAEA,IAAlBuO,EAAMstB,SAEX77B,EAAM+jC,iBAMPx1B,EAAMqtB,WAAWoJ,iBAAkB,cAAe/E,IAAe,GAEjE1xB,EAAMqtB,WAAWoJ,iBAAkB,YAAa9E,GAAa,GAC7D3xB,EAAMqtB,WAAWoJ,iBAAkB,QAAS7E,GAAc,GAE1D5xB,EAAMqtB,WAAWoJ,iBAAkB,aAAc5E,GAAc,GAC/D7xB,EAAMqtB,WAAWoJ,iBAAkB,WAAY3E,GAAY,GAC3D9xB,EAAMqtB,WAAWoJ,iBAAkB,YAAa1E,GAAa,GAE7DhrC,OAAO0vC,iBAAkB,UAAWvE,GAAW,GAI/CtqC,KAAKooC,UAIN50B,oBAAoBpX,UAAY0yC,KAAet7B,QAAsBpX,WACrEoX,oBAAoBpX,UAAU2b,YAAcvE,oBAE5Cu7B,KAAyBv7B,oBAAoBpX,UAAW,CAEvD4yC,OAAQ,CAEP9wC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,4DACPxhB,KAAK0uB,SAQdugB,OAAQ,CAEP/wC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,+EACLxhB,KAAKsmC,YAIfxmB,IAAK,SAAWxhB,GAEf2J,QAAQuZ,KAAM,8EACdxhB,KAAKsmC,YAAehoC,IAMtB4wC,SAAU,CAEThxC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,mFACLxhB,KAAKwmC,cAIf1mB,IAAK,SAAWxhB,GAEf2J,QAAQuZ,KAAM,kFACdxhB,KAAKwmC,cAAiBloC,IAMxB6wC,MAAO,CAENjxC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,6EACLxhB,KAAK0mC,WAIf5mB,IAAK,SAAWxhB,GAEf2J,QAAQuZ,KAAM,4EACdxhB,KAAK0mC,WAAcpoC,IAMrB8wC,OAAQ,CAEPlxC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,+EACLxhB,KAAKgnC,YAIflnB,IAAK,SAAWxhB,GAEf2J,QAAQuZ,KAAM,8EACdxhB,KAAKgnC,YAAe1oC,IAMtB+wC,aAAc,CAEbnxC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,wFACLxhB,KAAKomC,eAIftmB,IAAK,SAAWxhB,GAEf2J,QAAQuZ,KAAM,uFACdxhB,KAAKomC,eAAkB9nC,IAMzBgxC,qBAAsB,CAErBpxC,IAAK,WAGJ,OADA+J,QAAQuZ,KAAM,4FACPxhB,KAAKqmC,eAIbvmB,IAAK,SAAWxhB,GAEf2J,QAAQuZ,KAAM,4FACdxhB,KAAKqmC,cAAgB/nC,MCniCxBkV,gBAAoB,WAGnB,IAAIC,EAAiB,gBAEjBC,EAA2B,WAE3BC,EAAuB,WAE3B,SAASC,IAER,IAAIC,EAAQ,CACXC,QAAS,GACT/U,OAAQ,GAERgV,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,IAAK,GAELC,kBAAmB,GAEnBC,YAAa,SAAWvW,EAAMwW,GAI7B,GAAKrU,KAAKjB,SAA0C,IAAhCiB,KAAKjB,OAAOsV,gBAI/B,OAFArU,KAAKjB,OAAOlB,KAAOA,OACnBmC,KAAKjB,OAAOsV,iBAAwC,IAApBA,GAKjC,IAAIC,EAAqBtU,KAAKjB,QAAiD,oBAAhCiB,KAAKjB,OAAOwV,gBAAiCvU,KAAKjB,OAAOwV,uBAAoBC,EA8H5H,GA5HKxU,KAAKjB,QAA2C,oBAA1BiB,KAAKjB,OAAO0V,WAEtCzU,KAAKjB,OAAO0V,WAAW,GAIxBzU,KAAKjB,OAAS,CACblB,KAAMA,GAAQ,GACdwW,iBAAuC,IAApBA,EAEnBK,SAAU,CACTX,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,IAAK,IAENS,UAAW,GACXC,QAAQ,EAERC,cAAe,SAAWhX,EAAMiX,GAE/B,IAAIC,EAAW/U,KAAKyU,WAAW,GAI1BM,IAAcA,EAASC,WAAaD,EAASE,YAAc,IAE/DjV,KAAK2U,UAAUzX,OAAQ6X,EAASvR,MAAO,GAIxC,IAAI0R,EAAW,CACd1R,MAAOxD,KAAK2U,UAAU3Y,OACtB6B,KAAMA,GAAQ,GACdsX,OAAUC,KAAeN,IAAeA,EAAU9Y,OAAS,EAAI8Y,EAAWA,EAAU9Y,OAAS,GAAM,GACnG4Y,YAAuBJ,IAAbO,EAAyBA,EAASH,OAAS5U,KAAK4U,OAC1DS,gBAA2Bb,IAAbO,EAAyBA,EAASO,SAAW,EAC3DA,UAAY,EACZL,YAAc,EACdD,WAAW,EAEXO,MAAO,SAAW/R,GAEjB,IAAIgS,EAAS,CACZhS,MAA0B,kBAAVA,EAAqBA,EAAQxD,KAAKwD,MAClD3F,KAAMmC,KAAKnC,KACXsX,OAAQnV,KAAKmV,OACbP,OAAQ5U,KAAK4U,OACbS,WAAY,EACZC,UAAY,EACZL,YAAc,EACdD,WAAW,GAGZ,OADAQ,EAAOD,MAAQvV,KAAKuV,MAAM1W,KAAM2W,GACzBA,IAOT,OAFAxV,KAAK2U,UAAUzY,KAAMgZ,GAEdA,GAIRX,gBAAiB,WAEhB,GAAKvU,KAAK2U,UAAU3Y,OAAS,EAE5B,OAAOgE,KAAK2U,UAAW3U,KAAK2U,UAAU3Y,OAAS,IAQjDyY,UAAW,SAAWgB,GAErB,IAAIC,EAAoB1V,KAAKuU,kBAU7B,GATKmB,IAAsD,IAAjCA,EAAkBJ,WAE3CI,EAAkBJ,SAAWtV,KAAK0U,SAASX,SAAS/X,OAAS,EAC7D0Z,EAAkBT,WAAaS,EAAkBJ,SAAWI,EAAkBL,WAC9EK,EAAkBV,WAAY,GAK1BS,GAAOzV,KAAK2U,UAAU3Y,OAAS,EAEnC,IAAM,IAAI2Z,EAAK3V,KAAK2U,UAAU3Y,OAAS,EAAG2Z,GAAM,EAAGA,IAE7C3V,KAAK2U,UAAWgB,GAAKV,YAAc,GAEvCjV,KAAK2U,UAAUzX,OAAQyY,EAAI,GAkB9B,OATKF,GAAiC,IAA1BzV,KAAK2U,UAAU3Y,QAE1BgE,KAAK2U,UAAUzY,KAAM,CACpB2B,KAAM,GACN+W,OAAQ5U,KAAK4U,SAKRc,IAWJpB,GAAoBA,EAAiBzW,MAA0C,oBAA3ByW,EAAiBiB,MAAuB,CAEhG,IAAIK,EAAWtB,EAAiBiB,MAAO,GACvCK,EAASZ,WAAY,EACrBhV,KAAKjB,OAAO4V,UAAUzY,KAAM0Z,GAI7B5V,KAAK8T,QAAQ5X,KAAM8D,KAAKjB,SAIzB8W,SAAU,WAEJ7V,KAAKjB,QAA2C,oBAA1BiB,KAAKjB,OAAO0V,WAEtCzU,KAAKjB,OAAO0V,WAAW,IAMzBqB,iBAAkB,SAAWxX,EAAOyX,GAEnC,IAAIvS,EAAQwS,KAAU1X,EAAO,IAC7B,OAAsD,GAA7CkF,GAAS,EAAIA,EAAQ,EAAIA,EAAQuS,EAAM,IAIjDE,iBAAkB,SAAW3X,EAAOyX,GAEnC,IAAIvS,EAAQwS,KAAU1X,EAAO,IAC7B,OAAsD,GAA7CkF,GAAS,EAAIA,EAAQ,EAAIA,EAAQuS,EAAM,IAIjDG,aAAc,SAAW5X,EAAOyX,GAE/B,IAAIvS,EAAQwS,KAAU1X,EAAO,IAC7B,OAAsD,GAA7CkF,GAAS,EAAIA,EAAQ,EAAIA,EAAQuS,EAAM,IAIjDI,UAAW,SAAWvN,EAAGwN,EAAGzY,GAE3B,IAAI+D,EAAM1B,KAAK+T,SACXsC,EAAMrW,KAAKjB,OAAO2V,SAASX,SAE/BsC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IAC/CyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IAC/CC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIhD2Y,eAAgB,SAAW1N,GAE1B,IAAIlH,EAAM1B,KAAK+T,SACXsC,EAAMrW,KAAKjB,OAAO2V,SAASX,SAE/BsC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,KAIhD2N,cAAe,SAAW3N,GAEzB,IAAIlH,EAAM1B,KAAK+T,SACXsC,EAAMrW,KAAKjB,OAAO2V,SAASX,SAE/BsC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,KAIhD4N,UAAW,SAAW5N,EAAGwN,EAAGzY,GAE3B,IAAI+D,EAAM1B,KAAKgU,QACXqC,EAAMrW,KAAKjB,OAAO2V,SAASV,QAE/BqC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IAC/CyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IAC/CC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIhD8Y,SAAU,SAAW7N,EAAGwN,EAAGzY,GAE1B,IAAI+D,EAAM1B,KAAKiU,OACXoC,EAAMrW,KAAKjB,OAAO2V,SAAST,OAE/BoC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IAC/CyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IAC/CC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIhD+Y,MAAO,SAAW9N,EAAGwN,EAAGzY,GAEvB,IAAI+D,EAAM1B,KAAKkU,IACXmC,EAAMrW,KAAKjB,OAAO2V,SAASR,IAE/BmC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,IACjCyN,EAAIna,KAAMwF,EAAK0U,EAAI,GAAK1U,EAAK0U,EAAI,IACjCC,EAAIna,KAAMwF,EAAK/D,EAAI,GAAK+D,EAAK/D,EAAI,KAIlCgZ,UAAW,SAAW/N,GAErB,IAAIlH,EAAM1B,KAAKkU,IACXmC,EAAMrW,KAAKjB,OAAO2V,SAASR,IAE/BmC,EAAIna,KAAMwF,EAAKkH,EAAI,GAAKlH,EAAKkH,EAAI,KAIlCgO,QAAS,SAAWhO,EAAGwN,EAAGzY,EAAGkZ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEhD,IAAIC,EAAOnX,KAAK+T,SAAS/X,OAErBob,EAAKpX,KAAK8V,iBAAkBlN,EAAGuO,GAC/BE,EAAKrX,KAAK8V,iBAAkBM,EAAGe,GAC/BG,EAAKtX,KAAK8V,iBAAkBnY,EAAGwZ,GAInC,GAFAnX,KAAKmW,UAAWiB,EAAIC,EAAIC,QAEZ9C,IAAPqC,GAA2B,KAAPA,EAAY,CAEpC,IAAIU,EAAQvX,KAAKkU,IAAIlY,OACrBob,EAAKpX,KAAKkW,aAAcW,EAAIU,GAC5BF,EAAKrX,KAAKkW,aAAcY,EAAIS,GAC5BD,EAAKtX,KAAKkW,aAAca,EAAIQ,GAC5BvX,KAAK0W,MAAOU,EAAIC,EAAIC,GAIrB,QAAY9C,IAAPwC,GAA2B,KAAPA,EAAY,CAGpC,IAAIQ,EAAOxX,KAAKgU,QAAQhY,OACxBob,EAAKpX,KAAKiW,iBAAkBe,EAAIQ,GAEhCH,EAAKL,IAAOC,EAAKG,EAAKpX,KAAKiW,iBAAkBgB,EAAIO,GACjDF,EAAKN,IAAOE,EAAKE,EAAKpX,KAAKiW,iBAAkBiB,EAAIM,GAEjDxX,KAAKwW,UAAWY,EAAIC,EAAIC,GAIpBtX,KAAKiU,OAAOjY,OAAS,GAEzBgE,KAAKyW,SAAUW,EAAIC,EAAIC,IAMzBG,iBAAkB,SAAW1D,GAE5B/T,KAAKjB,OAAO2V,SAAS1O,KAAO,SAI5B,IAFA,IAAImR,EAAOnX,KAAK+T,SAAS/X,OAEf0b,EAAK,EAAGja,EAAIsW,EAAS/X,OAAQ0b,EAAKja,EAAGia,IAE9C1X,KAAKsW,eAAgBtW,KAAK8V,iBAAkB/B,EAAU2D,GAAMP,KAM9DQ,gBAAiB,SAAW5D,EAAUG,GAErClU,KAAKjB,OAAO2V,SAAS1O,KAAO,OAK5B,IAHA,IAAImR,EAAOnX,KAAK+T,SAAS/X,OACrBub,EAAQvX,KAAKkU,IAAIlY,OAEX0b,EAAK,EAAGja,EAAIsW,EAAS/X,OAAQ0b,EAAKja,EAAGia,IAE9C1X,KAAKuW,cAAevW,KAAK8V,iBAAkB/B,EAAU2D,GAAMP,IAItD,IAAIS,EAAM,EAAhB,IAAmBna,EAAIyW,EAAIlY,OAAQ4b,EAAMna,EAAGma,IAE3C5X,KAAK2W,UAAW3W,KAAKkW,aAAchC,EAAK0D,GAAOL,MAUlD,OAFA1D,EAAMO,YAAa,IAAI,GAEhBP,EAMR,SAASgE,EAAWC,GAEnB9X,KAAK8X,aAAwBtD,IAAZsD,EAA0BA,EAAUtE,QAErDxT,KAAK2U,UAAY,KA0alB,OAtaAkD,EAAUzb,UAAY,CAErB2b,YAAaF,EAEbG,KAAM,SAAW9Q,EAAK+Q,EAAQC,EAAYC,GAEzC,IAAIC,EAAQpY,KAERqY,EAAS,IAAI7E,QAAkB4E,EAAMN,SACzCO,EAAOC,QAAStY,KAAK0P,MACrB2I,EAAOL,KAAM9Q,EAAK,SAAWqR,GAE5BN,EAAQG,EAAMI,MAAOD,KAEnBL,EAAYC,IAIhBG,QAAS,SAAWha,GAInB,OAFA0B,KAAK0P,KAAOpR,EAEL0B,MAIRyY,aAAc,SAAW9D,GAIxB,OAFA3U,KAAK2U,UAAYA,EAEV3U,MAIRwY,MAAO,SAAWD,GAEjBtQ,QAAQyQ,KAAM,aAEd,IAAI7E,EAAQ,IAAID,GAEkB,IAA7B2E,EAAK9U,QAAS,UAGlB8U,EAAOA,EAAKI,QAAS,QAAS,QAIG,IAA7BJ,EAAK9U,QAAS,UAGlB8U,EAAOA,EAAKI,QAAS,QAAS,KAY/B,IARA,IAAIC,EAAQL,EAAKM,MAAO,MACpBC,EAAO,GAAIC,EAAgB,GAC3BC,EAAa,EACbnc,EAAS,GAGToc,EAAoC,mBAAhB,GAAGA,SAEjBnd,EAAI,EAAG2B,EAAImb,EAAM5c,OAAQF,EAAI2B,EAAG3B,IAQzC,GANAgd,EAAOF,EAAO9c,GAEdgd,EAAOG,EAAWH,EAAKG,WAAaH,EAAKI,OAEzCF,EAAaF,EAAK9c,OAEE,IAAfgd,IAELD,EAAgBD,EAAKK,OAAQ,GAGN,MAAlBJ,GAEL,GAAuB,MAAlBA,EAAwB,CAE5B,IAAIvd,EAAOsd,EAAKD,MAAO,OAEvB,OAASrd,EAAM,IAEd,IAAK,IACJqY,EAAME,SAAS7X,KACdkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAEE,IAAhBA,EAAKQ,QAET6X,EAAMI,OAAO/X,KACZkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAKpB,MACD,IAAK,KACJqY,EAAMG,QAAQ9X,KACbkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAEnB,MACD,IAAK,KACJqY,EAAMK,IAAIhY,KACTkd,KAAY5d,EAAM,IAClB4d,KAAY5d,EAAM,KAEnB,YAII,GAAuB,MAAlBud,EAAwB,CAQnC,IANA,IAAIM,EAAWP,EAAKQ,OAAQ,GAAIJ,OAC5BK,EAAaF,EAASR,MAAO,OAC7BW,EAAe,GAITxc,EAAI,EAAGyc,EAAKF,EAAWvd,OAAQgB,EAAIyc,EAAIzc,IAAO,CAEvD,IAAI0c,EAASH,EAAYvc,GAEzB,GAAK0c,EAAO1d,OAAS,EAAI,CAExB,IAAI2d,EAAcD,EAAOb,MAAO,KAChCW,EAAatd,KAAMyd,IAQrB,IAAIC,EAAKJ,EAAc,GAEvB,IAAUxc,EAAI,EAAGyc,EAAKD,EAAaxd,OAAS,EAAGgB,EAAIyc,EAAIzc,IAAO,CAE7D,IAAI6c,EAAKL,EAAcxc,GACnB8c,EAAKN,EAAcxc,EAAI,GAE3B6W,EAAM+C,QACLgD,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,UAKlB,GAAuB,MAAlBf,EAAwB,CAEnC,IAAIgB,EAAYjB,EAAKkB,UAAW,GAAId,OAAOL,MAAO,KAC9CoB,EAAe,GAAIC,EAAU,GAEjC,IAA+B,IAA1BpB,EAAKrV,QAAS,KAElBwW,EAAeF,OAIf,IAAM,IAAII,EAAK,EAAGC,EAAOL,EAAU/d,OAAQme,EAAKC,EAAMD,IAAQ,CAE7D,IAAIE,EAAQN,EAAWI,GAAKtB,MAAO,KAEf,KAAfwB,EAAO,IAAaJ,EAAa/d,KAAMme,EAAO,IAC/B,KAAfA,EAAO,IAAaH,EAAQhe,KAAMme,EAAO,IAKhDxG,EAAM8D,gBAAiBsC,EAAcC,QAE/B,GAAuB,MAAlBnB,EAAwB,CAE/BM,EAAWP,EAAKQ,OAAQ,GAAIJ,OAAhC,IACIoB,EAAYjB,EAASR,MAAO,KAEhChF,EAAM4D,iBAAkB6C,QAElB,GAAkD,QAA3Czd,EAAS4W,EAAe8G,KAAMzB,IAAoB,CAQ/D,IAAIjb,GAAS,IAAMhB,EAAQ,GAAIyc,OAAQ,GAAIJ,QAASI,OAAQ,GAE5DzF,EAAMO,YAAavW,QAEb,GAAK8V,EAAqB6G,KAAM1B,GAItCjF,EAAM9U,OAAO8V,cAAeiE,EAAKkB,UAAW,GAAId,OAAQrF,EAAMM,wBAExD,GAAKT,EAAyB8G,KAAM1B,GAI1CjF,EAAMM,kBAAkBjY,KAAM4c,EAAKkB,UAAW,GAAId,YAE5C,IAAuB,MAAlBH,EAsCL,CAGN,GAAc,OAATD,EAAgB,SAErB,MAAM,IAAI2B,MAAO,sCAAwC3B,EAAO,KAnBhE,GAtBAjc,EAASic,EAAKD,MAAO,KAsBhBhc,EAAOb,OAAS,EAAI,CAExB,IAAIsC,EAAQzB,EAAQ,GAAIqc,OAAOwB,cAC/B7G,EAAM9U,OAAO6V,OAAqB,MAAVtW,GAA2B,QAAVA,OAKzCuV,EAAM9U,OAAO6V,QAAS,EAGvB,IAAIM,EAAWrB,EAAM9U,OAAOwV,kBACvBW,IAAWA,EAASN,OAASf,EAAM9U,OAAO6V,QAajDf,EAAMgC,WAEN,IAAI8E,EAAY,IAAInH,QACpBmH,EAAUxG,kBAAoB,GAAGyG,OAAQ/G,EAAMM,mBAE/C,IAAUrY,EAAI,EAAG2B,EAAIoW,EAAMC,QAAQ9X,OAAQF,EAAI2B,EAAG3B,IAAO,CAExD,IAAIiD,EAAS8U,EAAMC,QAAShY,GACxB4Y,EAAW3V,EAAO2V,SAClBC,EAAY5V,EAAO4V,UACnBkG,EAA6B,SAAlBnG,EAAS1O,KACpB8U,EAA+B,WAAlBpG,EAAS1O,KACtB+U,GAAkB,EAGtB,GAAkC,IAA7BrG,EAASX,SAAS/X,OAAvB,CAEA,IAAIgf,EAAiB,IAAIxH,QAEzBwH,EAAeC,aAAc,WAAY,IAAIzH,QAA8BkB,EAASX,SAAU,IAEzFW,EAASV,QAAQhY,OAAS,EAE9Bgf,EAAeC,aAAc,SAAU,IAAIzH,QAA8BkB,EAASV,QAAS,IAI3FgH,EAAeE,uBAIXxG,EAAST,OAAOjY,OAAS,IAE7B+e,GAAkB,EAClBC,EAAeC,aAAc,QAAS,IAAIzH,QAA8BkB,EAAST,OAAQ,KAIrFS,EAASR,IAAIlY,OAAS,GAE1Bgf,EAAeC,aAAc,KAAM,IAAIzH,QAA8BkB,EAASR,IAAK,IAQpF,IAFA,IA8DIiH,EA9DAC,EAAmB,GAEbzF,EAAK,EAAG0F,EAAQ1G,EAAU3Y,OAAQ2Z,EAAK0F,EAAO1F,IAAQ,CAE/D,IAAI2F,EAAiB3G,EAAWgB,GAC5BT,OAAWV,EAEf,GAAwB,OAAnBxU,KAAK2U,UAKT,GAHAO,EAAWlV,KAAK2U,UAAUhW,OAAQ2c,EAAezd,OAG5Cgd,IAAU3F,GAAgBA,aAAoB1B,SAQ5C,GAAKsH,GAAY5F,KAAgBA,aAAoB1B,SAAyB,CAEpF,IAAI+H,EAAiB,IAAI/H,QAAsB,CAAExK,KAAM,GAAIwS,iBAAiB,IAC5EhI,QAAepX,UAAUqf,KAAKnf,KAAMif,EAAgBrG,GACpDqG,EAAepZ,MAAMsZ,KAAMvG,EAAS/S,OACpCoZ,EAAeG,IAAMxG,EAASwG,IAC9BH,EAAeI,QAAS,EACxBzG,EAAWqG,OAfmE,CAE9E,IAAIK,EAAe,IAAIpI,QACvBA,QAAepX,UAAUqf,KAAKnf,KAAMsf,EAAc1G,GAClD0G,EAAazZ,MAAMsZ,KAAMvG,EAAS/S,OAClCyZ,EAAaD,QAAS,EACtBzG,EAAW0G,EAeN1G,IAILA,EAFI2F,EAEO,IAAIrH,QAEJsH,EAEA,IAAItH,QAAsB,CAAExK,KAAM,EAAGwS,iBAAiB,IAItD,IAAIhI,QAIhB0B,EAASrX,KAAOyd,EAAezd,MAIhCqX,EAAS2G,aAAcP,EAAe1G,OACtCM,EAAS4G,aAAef,EAAkBvH,SAAqBA,QAE/D4H,EAAiBlf,KAAMgZ,GAQxB,GAAKkG,EAAiBpf,OAAS,EAAI,CAElC,IAAU2Z,EAAK,EAAG0F,EAAQ1G,EAAU3Y,OAAQ2Z,EAAK0F,EAAO1F,IAAQ,CAE3D2F,EAAiB3G,EAAWgB,GAChCqF,EAAee,SAAUT,EAAejG,WAAYiG,EAAerG,WAAYU,GAM/EwF,EAFIN,EAEG,IAAIrH,QAAoBwH,EAAgBI,GAEpCN,EAEJ,IAAItH,QAAcwH,EAAgBI,GAIlC,IAAI5H,QAAYwH,EAAgBI,QAQvCD,EAFIN,EAEG,IAAIrH,QAAoBwH,EAAgBI,EAAkB,IAEtDN,EAEJ,IAAItH,QAAcwH,EAAgBI,EAAkB,IAIpD,IAAI5H,QAAYwH,EAAgBI,EAAkB,IAM3DD,EAAKtd,KAAOkB,EAAOlB,KAEnB8c,EAAUqB,IAAKb,IAMhB,OAFAlT,QAAQgU,QAAS,aAEVtB,IAMF9C,EAtxBY,GCiBpBrE,gBAAoB,WAEnB,IAAI0I,EACAC,EACAC,EAEJ,SAASC,EAAWvE,GAEnB9X,KAAK8X,aAAwBtD,IAAZsD,EAA0BA,EAAUtE,QAoGtD,SAAS8I,EAAeC,GAEvBvc,KAAKuc,cAAgBA,EAk2CtB,SAASC,KA6zBT,SAASC,KAukBT,SAASC,KAkVT,SAASC,KAwUT,SAASC,EAAcC,EAAQC,GAE9B9c,KAAK+c,GAAK,IAAIC,SAAUH,GACxB7c,KAAKid,OAAS,EACdjd,KAAK8c,kBAAkCtI,IAAjBsI,GAA+BA,EAmPtD,SAASI,KAgBT,SAASC,EAAmBN,GAE3B,IAAIO,EAAU,yBAEd,OAAOP,EAAOQ,YAAcD,EAAQphB,QAAUohB,IAAYE,EAA4BT,EAAQ,EAAGO,EAAQphB,QAI1G,SAASuhB,EAAkBhF,GAE1B,IAAI6E,EAAU,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,MAE9GI,EAAS,EAEb,SAASC,EAAMR,GAEd,IAAIpgB,EAAS0b,EAAM0E,EAAS,GAG5B,OAFA1E,EAAOA,EAAKlZ,MAAOme,EAASP,GAC5BO,IACO3gB,EAIR,IAAM,IAAIf,EAAI,EAAGA,EAAIshB,EAAQphB,SAAWF,EAAI,CAE3C,IAAI4hB,EAAMD,EAAM,GAChB,GAAKC,IAAQN,EAASthB,GAErB,OAAO,EAMT,OAAO,EAIR,SAAS6hB,EAAepF,GAEvB,IAAIqF,EAAgB,oBAChBC,EAAQtF,EAAKsF,MAAOD,GACxB,GAAKC,EAAQ,CAEZ,IAAIC,EAAU9H,KAAU6H,EAAO,IAC/B,OAAOC,EAGR,MAAM,IAAIrD,MAAO,uEAKlB,SAASsD,EAAyBrF,GAEjC,OAAOA,EAAO,WAhyHf2D,EAAUjgB,UAAY,CAErB2b,YAAasE,EAEb2B,YAAa,YAEbhG,KAAM,SAAW9Q,EAAK+Q,EAAQC,EAAYC,GAEzC,IAAI8F,EAAOje,KAEP0P,OAAuB8E,IAAdyJ,EAAKvO,KAAuB8D,QAAkB0K,eAAgBhX,GAAQ+W,EAAKvO,KAEpF2I,EAAS,IAAI7E,QAAkBxT,KAAK8X,SACxCO,EAAOC,QAAS2F,EAAKvO,MACrB2I,EAAO8F,gBAAiB,eAExB9F,EAAOL,KAAM9Q,EAAK,SAAW2V,GAE5B,IAEC5E,EAAQgG,EAAKzF,MAAOqE,EAAQnN,IAE3B,MAAQrH,GAET+V,WAAY,WAENjG,GAAUA,EAAS9P,GAExB4V,EAAKnG,QAAQuG,UAAWnX,IAEtB,KAIFgR,EAAYC,IAIhBG,QAAS,SAAWha,GAGnB,OADA0B,KAAK0P,KAAOpR,EACL0B,MAIRse,gBAAiB,SAAWhgB,GAG3B,OADA0B,KAAKue,aAAejgB,EACb0B,MAIRwe,eAAgB,SAAWlgB,GAG1B,OADA0B,KAAKge,YAAc1f,EACZ0B,MAIRwY,MAAO,SAAWiG,EAAW/O,GAE5B,GAAKyN,EAAmBsB,GAEvBvC,GAAU,IAAIS,GAAenE,MAAOiG,OAE9B,CAEN,IAAIC,EAAUpB,EAA4BmB,GAE1C,IAAOlB,EAAkBmB,GAExB,MAAM,IAAIjE,MAAO,oCAIlB,GAAKkD,EAAee,GAAY,IAE/B,MAAM,IAAIjE,MAAO,4DAA8DkD,EAAee,IAI/FxC,GAAU,IAAIQ,GAAalE,MAAOkG,GAMnC,IAAInC,EAAgB,IAAI/I,SAAqBxT,KAAK8X,SAAUQ,QAAStY,KAAKue,cAAgB7O,GAAO8O,eAAgBxe,KAAKge,aAEtH,OAAO,IAAI1B,EAAeC,GAAgB/D,MAAO0D,KAanDI,EAAclgB,UAAY,CAEzB2b,YAAauE,EAEb9D,MAAO,WAEN2D,EAAcnc,KAAK2e,mBAEnB,IAAIC,EAAS5e,KAAK6e,cACdzP,EAAWpP,KAAK8e,cAAeF,GAC/BjK,EAAY3U,KAAK+e,eAAgB3P,GACjC4P,EAAYhf,KAAKif,iBACjBC,GAAc,IAAI1C,GAAiBhE,MAAOwG,GAI9C,OAFAhf,KAAKmf,WAAYH,EAAWE,EAAavK,GAElCyH,GAMRuC,iBAAkB,WAEjB,IAAIS,EAAgB,IAAIC,GAAAzW,EAExB,GAAK,gBAAiBsT,EAAU,CAE/B,IAAIoD,EAAiBpD,EAAQqD,YAAYpD,YAEzCmD,EAAeE,QAAS,SAAWC,GAElC,IAAIC,EAASD,EAAe,GACxBE,EAAOF,EAAe,GACtBG,EAAeH,EAAe,GAE3BL,EAAcS,IAAKH,IAEzBN,EAAcU,IAAKJ,EAAQ,CAC1BK,QAAS,GACTC,SAAU,KAKZ,IAAIC,EAAqB,CAAEC,GAAIP,EAAMC,aAAcA,GACnDR,EAAclhB,IAAKwhB,GAASK,QAAQ7jB,KAAM+jB,GAEnCb,EAAcS,IAAKF,IAEzBP,EAAcU,IAAKH,EAAM,CACxBI,QAAS,GACTC,SAAU,KAKZ,IAAIG,EAAoB,CAAED,GAAIR,EAAQE,aAAcA,GACpDR,EAAclhB,IAAKyhB,GAAOK,SAAS9jB,KAAMikB,KAM3C,OAAOf,GAORP,YAAa,WAEZ,IAAID,EAAS,GACTwB,EAAQ,GAEZ,GAAK,UAAWlE,EAAQmE,QAAU,CAEjC,IAAIC,EAAapE,EAAQmE,QAAQE,MAEjC,IAAM,IAAIC,KAAUF,EAAa,CAEhC,IAAIG,EAAYH,EAAYE,GAExB3f,EAAKmV,KAAUwK,GAKnB,GAHA5B,EAAQ/d,GAAO4f,EAAUC,kBAAoBD,EAAUE,SAGlD,YAAaF,EAAY,CAE7B,IAAIG,EAAuBH,EAAUI,mBAAmBC,aAAmBL,EAAUI,QAAQxD,WAAa,EACtG0D,EAA+C,kBAAtBN,EAAUI,SAAkD,KAAtBJ,EAAUI,QAE7E,GAAKD,GAAsBG,EAAgB,CAE1C,IAAIC,EAAQhhB,KAAKihB,WAAYX,EAAYE,IAEzCJ,EAAOK,EAAUC,kBAAoBD,EAAUE,UAAaK,KAUhE,IAAM,IAAIngB,KAAM+d,EAAS,CAExB,IAAIsC,EAAWtC,EAAQ/d,QAEI2T,IAAtB4L,EAAOc,GAA2BtC,EAAQ/d,GAAOuf,EAAOc,GACxDtC,EAAQ/d,GAAO+d,EAAQ/d,GAAKgY,MAAO,MAAOsI,MAIhD,OAAOvC,GAKRqC,WAAY,SAAWR,GAEtB,IAIIza,EAJAob,EAAUX,EAAUI,QACpBQ,EAAWZ,EAAUC,kBAAoBD,EAAUE,SACnDW,EAAYD,EAAShiB,MAAOgiB,EAASE,YAAa,KAAQ,GAAI7G,cAIlE,OAAS4G,GAER,IAAK,MAEJtb,EAAO,YACP,MAED,IAAK,MACL,IAAK,OAEJA,EAAO,aACP,MAED,IAAK,MAEJA,EAAO,YACP,MAED,IAAK,MAEJA,EAAO,aACP,MAED,IAAK,MAEJ,GAAgC,oBAApBwN,gBAGX,YADAvL,QAAQuZ,KAAM,+DAKd,GAA6C,OAAxChO,QAAaiO,SAASvjB,IAAK,QAAoB,CAEnD,IAAIwjB,EAAY,IAAIlO,gBACpBkO,EAAUpJ,QAAStY,KAAKuc,cAAc7M,MAEtC8D,QAAaiO,SAASzF,IAAK,UAAW0F,GAIvC1b,EAAO,YACP,MAIF,QAGC,YADAiC,QAAQuZ,KAAM,0BAA4BF,EAAY,uBAKxD,GAAwB,kBAAZF,EAEX,MAAO,QAAUpb,EAAO,WAAaob,EAIrC,IAAIO,EAAQ,IAAIC,WAAYR,GAC5B,OAAOjiB,OAAO0iB,IAAIC,gBAAiB,IAAIC,KAAM,CAAEJ,GAAS,CAAE3b,KAAMA,MASlE8Y,cAAe,SAAWF,GAEzB,IAAIoD,EAAa,IAAI3C,GAAAzW,EAErB,GAAK,YAAasT,EAAQmE,QAAU,CAEnC,IAAI4B,EAAe/F,EAAQmE,QAAQ6B,QACnC,IAAM,IAAI1B,KAAUyB,EAAe,CAElC,IAAIE,EAAUniB,KAAKoiB,aAAcH,EAAczB,GAAU5B,GACzDoD,EAAWlC,IAAK9J,KAAUwK,GAAU2B,IAMtC,OAAOH,GAKRI,aAAc,SAAWC,EAAazD,GAErC,IAAIuD,EAAUniB,KAAKsiB,YAAaD,EAAazD,GAE7CuD,EAAQjC,GAAKmC,EAAYxhB,GAEzBshB,EAAQtkB,KAAOwkB,EAAYE,SAE3B,IAAIC,EAAYH,EAAYI,UACxBC,EAAYL,EAAYM,UAExBC,OAAuBpO,IAAdgO,EAA0BA,EAAUlkB,MAAQ,EACrDukB,OAAuBrO,IAAdkO,EAA0BA,EAAUpkB,MAAQ,EAQzD,GAHA6jB,EAAQW,MAAmB,IAAXF,EAAepP,QAAuBA,QACtD2O,EAAQY,MAAmB,IAAXF,EAAerP,QAAuBA,QAEjD,YAAa6O,EAAc,CAE/B,IAAIW,EAASX,EAAYY,QAAQ3kB,MAEjC6jB,EAAQe,OAAOC,EAAIH,EAAQ,GAC3Bb,EAAQe,OAAOE,EAAIJ,EAAQ,GAI5B,OAAOb,GAKRG,YAAa,SAAWD,EAAazD,GAEpC,IAAIyC,EAkBAc,EAhBAkB,EAAcrjB,KAAKuc,cAAc7M,KAEjCsQ,EAAW7D,EAAYje,IAAKmkB,EAAYxhB,IAAKmf,cAE/BxL,IAAbwL,GAA0BA,EAAShkB,OAAS,QAAoCwY,IAA/BoK,EAAQoB,EAAU,GAAIE,MAE3EmB,EAAWzC,EAAQoB,EAAU,GAAIE,IAEI,IAAhCmB,EAAS5d,QAAS,UAAmD,IAAhC4d,EAAS5d,QAAS,UAE3DzD,KAAKuc,cAAcjE,aAAS9D,IAQ9B,IAAI8M,EAAYe,EAAYiB,SAASjkB,OAAS,GAAIqb,cAElD,GAAmB,QAAd4G,EAAsB,CAE1B,IAAIjJ,EAAS7E,QAAaiO,SAASvjB,IAAK,QAExB,OAAXma,GAEJpQ,QAAQuZ,KAAM,yEAA0EH,GACxFc,EAAU,IAAI3O,UAId2O,EAAU9J,EAAOL,KAAMqJ,OAIC,QAAdC,GAEXrZ,QAAQuZ,KAAM,oFAAqFH,GACnGc,EAAU,IAAI3O,UAId2O,EAAUniB,KAAKuc,cAAcvE,KAAMqJ,GAMpC,OAFArhB,KAAKuc,cAAcjE,QAAS+K,GAErBlB,GAKRpD,eAAgB,SAAWiD,GAE1B,IAAIuB,EAAc,IAAIlE,GAAAzW,EAEtB,GAAK,aAAcsT,EAAQmE,QAAU,CAEpC,IAAImD,EAAgBtH,EAAQmE,QAAQoD,SAEpC,IAAM,IAAIjD,KAAUgD,EAAgB,CAEnC,IAAItO,EAAWlV,KAAK0jB,cAAeF,EAAehD,GAAUwB,GAE1C,OAAb9M,GAAoBqO,EAAYzD,IAAK9J,KAAUwK,GAAUtL,IAMhE,OAAOqO,GAORG,cAAe,SAAWC,EAAc3B,GAEvC,IAAI9B,EAAKyD,EAAa9iB,GAClBhD,EAAO8lB,EAAapB,SACpBvc,EAAO2d,EAAaC,aAUxB,GAPqB,WAAhBznB,OAAA0nB,GAAA,KAAA1nB,CAAO6J,KAEXA,EAAOA,EAAK1H,QAKN6d,EAAY0D,IAAKK,GAAO,OAAO,KAEtC,IAEIhL,EAFA4O,EAAa9jB,KAAK+jB,gBAAiBJ,EAAc3B,EAAY9B,GAIjE,OAASla,EAAK0U,eAEb,IAAK,QACJxF,EAAW,IAAI1B,QACf,MACD,IAAK,UACJ0B,EAAW,IAAI1B,QACf,MACD,QACCvL,QAAQuZ,KAAM,gFAAiFxb,GAC/FkP,EAAW,IAAI1B,QACf,MAOF,OAHA0B,EAAS8O,UAAWF,GACpB5O,EAASrX,KAAOA,EAETqX,GAMR6O,gBAAiB,SAAWJ,EAAc3B,EAAY9B,GAErD,IAAI4D,EAAa,GAEZH,EAAaM,aAEjBH,EAAWI,UAAYP,EAAaM,WAAW3lB,OAG3CqlB,EAAaQ,QAEjBL,EAAW3hB,OAAQ,IAAIqR,SAAc4Q,UAAWT,EAAaQ,QAAQ7lB,OAE1DqlB,EAAaU,cAAmD,UAAnCV,EAAaU,aAAare,OAGlE8d,EAAW3hB,OAAQ,IAAIqR,SAAc4Q,UAAWT,EAAaU,aAAa/lB,QAItEqlB,EAAaW,qBAEjBR,EAAWS,kBAAoBZ,EAAaW,mBAAmBhmB,OAI3DqlB,EAAaa,SAEjBV,EAAWW,UAAW,IAAIjR,SAAc4Q,UAAWT,EAAaa,SAASlmB,OAE9DqlB,EAAae,eAAqD,UAApCf,EAAae,cAAc1e,OAGpE8d,EAAWW,UAAW,IAAIjR,SAAc4Q,UAAWT,EAAae,cAAcpmB,QAI1EqlB,EAAagB,iBAEjBb,EAAWc,kBAAoBxL,KAAYuK,EAAagB,eAAermB,QAInEqlB,EAAakB,UAEjBf,EAAWgB,QAAU1L,KAAYuK,EAAakB,QAAQvmB,QAIlDwlB,EAAWgB,QAAU,IAEzBhB,EAAWiB,aAAc,GAIrBpB,EAAaqB,mBAEjBlB,EAAWmB,aAAetB,EAAaqB,iBAAiB1mB,OAIpDqlB,EAAauB,YAEjBpB,EAAWqB,UAAYxB,EAAauB,UAAU5mB,OAI1CqlB,EAAayB,SAEjBtB,EAAWuB,UAAW,IAAI7R,SAAc4Q,UAAWT,EAAayB,SAAS9mB,OAE9DqlB,EAAa2B,eAAqD,UAApC3B,EAAa2B,cAActf,OAGpE8d,EAAWuB,UAAW,IAAI7R,SAAc4Q,UAAWT,EAAa2B,cAAchnB,QAI/E,IAAI2f,EAAOje,KA2DX,OA1DAmc,EAAYje,IAAKgiB,GAAKF,SAASR,QAAS,SAAW+F,GAElD,IAAIvf,EAAOuf,EAAM3F,aAEjB,OAAS5Z,GAER,IAAK,OACJ8d,EAAW0B,QAAUvH,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACxD,MAED,IAAK,kBACJ4D,EAAW4B,MAAQzH,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACtD,MAED,IAAK,eACL,IAAK,qBACJ4D,EAAWpI,IAAMuC,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACpD,MAED,IAAK,oBACJ4D,EAAW6B,gBAAkB1H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAChE,MAED,IAAK,gBACJ4D,EAAW8B,YAAc3H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAC5D,MAED,IAAK,YACL,IAAK,sBACJ4D,EAAW+B,UAAY5H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAC1D,MAED,IAAK,kBACJ4D,EAAWgC,OAAS7H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACvD4D,EAAWgC,OAAOC,QAAUvS,QAC5B,MAED,IAAK,gBACJsQ,EAAWkC,YAAc/H,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IAC5D,MAED,IAAK,mBACJ4D,EAAWmC,SAAWhI,EAAKwH,WAAYzD,EAAYuD,EAAMrF,IACzD4D,EAAWiB,aAAc,EACzB,MAED,IAAK,eACL,IAAK,oBACL,IAAK,iBACL,IAAK,0BACL,QACC9c,QAAQuZ,KAAM,0EAA2Exb,GACzF,SAMI8d,GAKR2B,WAAY,SAAWzD,EAAYnhB,GAUlC,MAPK,mBAAoBqb,EAAQmE,SAAWxf,KAAMqb,EAAQmE,QAAQ6F,iBAEjEje,QAAQuZ,KAAM,oGACd3gB,EAAKsb,EAAYje,IAAK2C,GAAKmf,SAAU,GAAIE,IAInC8B,EAAW9jB,IAAK2C,IAOxBoe,eAAgB,WAEf,IAAIkH,EAAY,GACZC,EAAe,GAEnB,GAAK,aAAclK,EAAQmE,QAAU,CAEpC,IAAIgG,EAAgBnK,EAAQmE,QAAQiG,SAEpC,IAAM,IAAI9F,KAAU6F,EAAgB,CAEnC,IAAIE,EAAeF,EAAe7F,GAE9BgG,EAAgBrK,EAAYje,IAAK8X,KAAUwK,IAE/C,GAA+B,SAA1B+F,EAAaE,SAAsB,CAEvC,IAAIC,EAAW1mB,KAAK2mB,cAAeH,EAAeH,GAClDK,EAASxG,GAAKM,EAETgG,EAAczG,QAAQ/jB,OAAS,GAAIiM,QAAQuZ,KAAM,kFACtDkF,EAASE,WAAaJ,EAAczG,QAAS,GAAIG,GAEjDiG,EAAW3F,GAAWkG,OAEhB,GAA+B,eAA1BH,EAAaE,SAA4B,CAEpD,IAAII,EAAc,CACjBhmB,GAAI2f,GAGLqG,EAAYC,WAAa9mB,KAAK+mB,kBAAmBP,EAAeH,GAChEQ,EAAYhmB,GAAK2f,EAEZgG,EAAczG,QAAQ/jB,OAAS,GAAIiM,QAAQuZ,KAAM,sFAEtD4E,EAAc5F,GAAWqG,IAQ5B,MAAO,CAENV,UAAWA,EACXC,aAAcA,IAShBO,cAAe,SAAWH,EAAeQ,GAExC,IAAIC,EAAW,GA8Bf,OA5BAT,EAAcxG,SAASR,QAAS,SAAW+F,GAE1C,IAAI2B,EAAWF,EAAezB,EAAMrF,IAEpC,GAA2B,YAAtBgH,EAAST,SAAd,CAEA,IAAIU,EAAU,CAEbjH,GAAIqF,EAAMrF,GACVkH,QAAS,GACTC,QAAS,GACTC,eAAe,IAAI9T,SAAgB4Q,UAAW8C,EAASK,cAAc3e,IAMjE,YAAase,IAEjBC,EAAQC,QAAUF,EAASM,QAAQ5e,EACnCue,EAAQE,QAAUH,EAASO,QAAQ7e,GAIpCqe,EAAS/qB,KAAMirB,MAIT,CAENF,SAAUA,EACVS,MAAO,KAOTX,kBAAmB,SAAWP,EAAeQ,GAI5C,IAFA,IAAIW,EAAkB,GAEZ7rB,EAAI,EAAGA,EAAI0qB,EAAcxG,SAAShkB,OAAQF,IAAO,CAE1D,IAAIypB,EAAQiB,EAAcxG,SAAUlkB,GAEhC8rB,EAAkBZ,EAAezB,EAAMrF,IAEvC2H,EAAiB,CAEpBhqB,KAAM+pB,EAAgBrF,SACtBuF,cAAeF,EAAgBG,cAC/BlnB,GAAI+mB,EAAgB/mB,GACpBmnB,YAAaJ,EAAgBK,YAAYrf,GAI1C,GAAkC,sBAA7Bgf,EAAgBnB,SAAmC,OAExDoB,EAAeK,MAAQ/L,EAAYje,IAAK8X,KAAUuP,EAAMrF,KAAOF,SAASmI,OAAQ,SAAW5C,GAE1F,YAA8B/Q,IAAvB+Q,EAAM3F,eAET,GAAIM,GAETyH,EAAgBzrB,KAAM2rB,GAIvB,OAAOF,GAKRxI,WAAY,SAAWH,EAAWE,EAAaqE,GAE9CnH,EAAa,IAAI5I,QAEjB,IAAI4U,EAAWpoB,KAAKqoB,YAAarJ,EAAUmH,UAAWjH,EAAaqE,GAE/D+E,EAAapM,EAAQmE,QAAQkI,MAE7BtK,EAAOje,KACXooB,EAAS5I,QAAS,SAAWze,GAE5B,IAAIynB,EAAYF,EAAYvnB,EAAMmf,IAClCjC,EAAKwK,oBAAqB1nB,EAAOynB,GAEjC,IAAIE,EAAoBvM,EAAYje,IAAK6C,EAAMmf,IAAKH,QAEpD2I,EAAkBlJ,QAAS,SAAWmJ,GAErC,IAAIC,EAASR,EAASlqB,IAAKyqB,EAAWzI,SACtB1L,IAAXoU,GAAuBA,EAAO5M,IAAKjb,KAInB,OAAjBA,EAAM6nB,QAEVxM,EAAWJ,IAAKjb,KAOlBf,KAAK6oB,aAAc7J,EAAUmH,UAAWjH,EAAakJ,GAErDpoB,KAAK8oB,qBAEL9oB,KAAK+oB,sBAEL3M,EAAW4M,SAAU,SAAWC,GAE/B,GAAKA,EAAKC,SAASC,cAAgB,CAE7BF,EAAKL,SAASK,EAAKC,SAASC,cAAcC,kBAAoBH,EAAKL,OAAOS,QAE/E,IAAIC,EAAYC,EAAmBN,EAAKC,SAASC,eAEjDF,EAAKO,YAAaF,MAMpB,IAAIG,GAAa,IAAIhN,GAAkBjE,QAGH,IAA/B4D,EAAW4D,SAAShkB,QAAgBogB,EAAW4D,SAAU,GAAI0J,UAEjEtN,EAAW4D,SAAU,GAAIyJ,WAAaA,EACtCrN,EAAaA,EAAW4D,SAAU,IAInC5D,EAAWqN,WAAaA,GAKzBpB,YAAa,SAAWlC,EAAWjH,EAAaqE,GAE/C,IAAI6E,EAAW,IAAI/I,GAAAzW,EACf0f,EAAapM,EAAQmE,QAAQkI,MAEjC,IAAM,IAAI/H,KAAU8H,EAAa,CAEhC,IAAIznB,EAAKmV,KAAUwK,GACfyI,EAAOX,EAAY9H,GACnBgG,EAAgBrK,EAAYje,IAAK2C,GAEjCE,EAAQf,KAAK2pB,cAAenD,EAAeL,EAAWtlB,EAAIooB,EAAK1G,UAEnE,IAAOxhB,EAAQ,CAEd,OAASkoB,EAAKxC,UAEb,IAAK,SACJ1lB,EAAQf,KAAK4pB,aAAcpD,GAC3B,MACD,IAAK,QACJzlB,EAAQf,KAAK6pB,YAAarD,GAC1B,MACD,IAAK,OACJzlB,EAAQf,KAAK8pB,WAAYtD,EAAetH,EAAaqE,GACrD,MACD,IAAK,aACJxiB,EAAQf,KAAK+pB,YAAavD,EAAetH,GACzC,MACD,IAAK,WACL,IAAK,OACJne,EAAQ,IAAIyS,QACZ,MACD,IAAK,OACL,QACCzS,EAAQ,IAAIyS,QACZ,MAIFzS,EAAMlD,KAAO2V,QAAsBwW,iBAAkBf,EAAK1G,UAC1DxhB,EAAMmf,GAAKrf,EAIZb,KAAKiqB,iBAAkBlpB,EAAOkoB,GAC9Bb,EAAStI,IAAKjf,EAAIE,GAInB,OAAOqnB,GAIRuB,cAAe,SAAWnD,EAAeL,EAAWtlB,EAAIhD,GAEvD,IAAIqsB,EAAO,KAuCX,OArCA1D,EAAczG,QAAQP,QAAS,SAAWoJ,GAEzC,IAAM,IAAI1I,KAAMiG,EAAY,CAE3B,IAAIO,EAAWP,EAAWjG,GAE1BwG,EAASO,SAASzH,QAAS,SAAW2H,EAASrrB,GAE9C,GAAKqrB,EAAQjH,KAAO0I,EAAO1I,GAAK,CAE/B,IAAIiK,EAAUD,EACdA,EAAO,IAAI1W,QAEX0W,EAAKE,YAAY3O,KAAM0L,EAAQG,eAG/B4C,EAAKrsB,KAAO2V,QAAsBwW,iBAAkBnsB,GACpDqsB,EAAKhK,GAAKrf,EAEV6lB,EAASgB,MAAO5rB,GAAMouB,EAIL,OAAZC,GAEJD,EAAKlO,IAAKmO,SAYRD,GAKRN,aAAc,SAAWpD,GAExB,IAAIzlB,EACAspB,EAcJ,GAZA7D,EAAcxG,SAASR,QAAS,SAAW+F,GAE1C,IAAI+E,EAAOpO,EAAQmE,QAAQkK,cAAehF,EAAMrF,SAElC1L,IAAT8V,IAEJD,EAAkBC,UAMK9V,IAApB6V,EAEJtpB,EAAQ,IAAIyS,YAEN,CAEN,IAAIxN,EAAO,OACmCwO,IAAzC6V,EAAgBG,sBAAqF,IAA/CH,EAAgBG,qBAAqBlsB,QAE/F0H,EAAO,GAIR,IAAIykB,EAAoB,OACWjW,IAA9B6V,EAAgBK,YAEpBD,EAAoBJ,EAAgBK,UAAUpsB,MAAQ,KAIvD,IAAIqsB,EAAmB,SACWnW,IAA7B6V,EAAgBO,WAEpBD,EAAmBN,EAAgBO,SAAStsB,MAAQ,KAKrD,IAAIoG,EAAQvF,OAAO0rB,WACf9mB,EAAS5E,OAAO2rB,iBAEiBtW,IAAhC6V,EAAgBU,kBAA8DvW,IAAjC6V,EAAgBW,eAEjEtmB,EAAQ2lB,EAAgBU,YAAYzsB,MACpCyF,EAASsmB,EAAgBW,aAAa1sB,OAIvC,IAAI2sB,EAASvmB,EAAQX,EAEjBmnB,EAAM,QAC2B1W,IAAhC6V,EAAgBc,cAEpBD,EAAMb,EAAgBc,YAAY7sB,OAInC,IAAI8sB,EAAcf,EAAgBgB,YAAchB,EAAgBgB,YAAY/sB,MAAQ,KAEpF,OAAS0H,GAER,KAAK,EACJjF,EAAQ,IAAIyS,QAAyB0X,EAAKD,EAAQR,EAAmBE,GAChD,OAAhBS,GAAuBrqB,EAAMuqB,eAAgBF,GAClD,MAED,KAAK,EACJrqB,EAAQ,IAAIyS,SAA4B9O,EAAQ,EAAGA,EAAQ,EAAGX,EAAS,GAAKA,EAAS,EAAG0mB,EAAmBE,GAC3G,MAED,QACC1iB,QAAQuZ,KAAM,wCAA0Cxb,EAAO,KAC/DjF,EAAQ,IAAIyS,QACZ,OAMH,OAAOzS,GAKR8oB,YAAa,SAAWrD,GAEvB,IAAIzlB,EACAwqB,EAcJ,GAZA/E,EAAcxG,SAASR,QAAS,SAAW+F,GAE1C,IAAI+E,EAAOpO,EAAQmE,QAAQkK,cAAehF,EAAMrF,SAElC1L,IAAT8V,IAEJiB,EAAiBjB,UAMK9V,IAAnB+W,EAEJxqB,EAAQ,IAAIyS,YAEN,CAEN,IAAIxN,EAKHA,OAFiCwO,IAA7B+W,EAAeC,UAEZ,EAIAD,EAAeC,UAAUltB,MAIjC,IAAI6D,EAAQ,cAEkBqS,IAAzB+W,EAAeE,QAEnBtpB,GAAQ,IAAIqR,SAAc4Q,UAAWmH,EAAeE,MAAMntB,QAI3D,IAAIotB,OAA2ClX,IAA7B+W,EAAeI,UAA4B,EAAIJ,EAAeI,UAAUrtB,MAAQ,SAGxDkW,IAArC+W,EAAeK,mBAA8E,IAA3CL,EAAeK,kBAAkBttB,QAEvFotB,EAAY,GAIb,IAAIG,EAAW,OAC2BrX,IAArC+W,EAAeO,oBAIlBD,OAF4CrX,IAAxC+W,EAAeQ,sBAAoF,IAA9CR,EAAeQ,qBAAqBztB,MAElF,EAIAitB,EAAeO,kBAAkBxtB,OAO9C,IAAI0tB,EAAQ,EAEZ,OAAShmB,GAER,KAAK,EACJjF,EAAQ,IAAIyS,QAAkBrR,EAAOupB,EAAWG,EAAUG,GAC1D,MAED,KAAK,EACJjrB,EAAQ,IAAIyS,QAAwBrR,EAAOupB,GAC3C,MAED,KAAK,EACJ,IAAIO,EAAQC,KAAKC,GAAK,OAEa3X,IAA9B+W,EAAea,aAEnBH,EAAQzY,QAAW6Y,SAAUd,EAAea,WAAW9tB,QAIxD,IAAIguB,EAAW,OACoB9X,IAA9B+W,EAAegB,aAKnBD,EAAW9Y,QAAW6Y,SAAUd,EAAegB,WAAWjuB,OAC1DguB,EAAWJ,KAAK9b,IAAKkc,EAAU,IAIhCvrB,EAAQ,IAAIyS,QAAiBrR,EAAOupB,EAAWG,EAAUI,EAAOK,EAAUN,GAC1E,MAED,QACC/jB,QAAQuZ,KAAM,uCAAyC+J,EAAeC,UAAUltB,MAAQ,uCACxFyC,EAAQ,IAAIyS,QAAkBrR,EAAOupB,GACrC,WAIkClX,IAA/B+W,EAAeiB,aAAkE,IAArCjB,EAAeiB,YAAYluB,QAE3EyC,EAAM0rB,YAAa,GAMrB,OAAO1rB,GAIR+oB,WAAY,SAAWtD,EAAetH,EAAaqE,GAElD,IAAIxiB,EACA2T,EAAW,KACXQ,EAAW,KACXP,EAAY,GA6DhB,OA1DA6R,EAAcxG,SAASR,QAAS,SAAW+F,GAErCrG,EAAYW,IAAK0F,EAAMrF,MAE3BxL,EAAWwK,EAAYhhB,IAAKqnB,EAAMrF,KAI9BqD,EAAY1D,IAAK0F,EAAMrF,KAE3BvL,EAAUzY,KAAMqnB,EAAYrlB,IAAKqnB,EAAMrF,OAMpCvL,EAAU3Y,OAAS,EAEvBkZ,EAAWP,EAEAA,EAAU3Y,OAAS,EAE9BkZ,EAAWP,EAAW,IAItBO,EAAW,IAAI1B,QAAyB,CAAErR,MAAO,WACjDwS,EAAUzY,KAAMgZ,IAIZ,UAAWR,EAASgY,YAExB/X,EAAU6K,QAAS,SAAWtK,GAE7BA,EAAS4G,aAAetI,WAMrBkB,EAASiY,cAEbhY,EAAU6K,QAAS,SAAWtK,GAE7BA,EAAS0X,UAAW,IAIrB7rB,EAAQ,IAAIyS,QAAmBkB,EAAUQ,GACzCnU,EAAM8rB,wBAIN9rB,EAAQ,IAAIyS,QAAYkB,EAAUQ,GAI5BnU,GAIRgpB,YAAa,SAAWvD,EAAetH,GAEtC,IAAIxK,EAAW8R,EAAcxG,SAAS8M,OAAQ,SAAWC,EAAKxH,GAI7D,OAFKrG,EAAYW,IAAK0F,EAAMrF,MAAO6M,EAAM7N,EAAYhhB,IAAKqnB,EAAMrF,KAEzD6M,GAEL,MAGC7X,EAAW,IAAI1B,QAAyB,CAAErR,MAAO,QAAU6qB,UAAW,IAC1E,OAAO,IAAIxZ,QAAYkB,EAAUQ,IAKlC+U,iBAAkB,SAAWlpB,EAAOynB,GAEnC,IAAIW,EAAgB,GAEf,gBAAiBX,IAAYW,EAAc8D,YAAcjX,KAAUwS,EAAU0E,YAAY5uB,QAE1D6qB,EAAcgE,WAA7C,kBAAmB3E,EAAuC4E,EAAe5E,EAAU6E,cAAc/uB,OACtE,MAE3B,oBAAqBkqB,IAAYW,EAAcmE,YAAc9E,EAAU+E,gBAAgBjvB,OAEvF,gBAAiBkqB,IAAYW,EAAcqE,YAAchF,EAAUiF,YAAYnvB,OAC/E,iBAAkBkqB,IAAYW,EAAcuE,SAAWlF,EAAUmF,aAAarvB,OAC9E,iBAAkBkqB,IAAYW,EAAcyE,aAAepF,EAAUqF,aAAavvB,OAElF,gBAAiBkqB,IAAYW,EAAc2E,MAAQtF,EAAUuF,YAAYzvB,OAEzE,kBAAmBkqB,IAAYW,EAAc6E,cAAgBxF,EAAUyF,cAAc3vB,OACrF,iBAAkBkqB,IAAYW,EAAc+E,aAAe1F,EAAU2F,aAAa7vB,OAElF,mBAAoBkqB,IAAYW,EAAciF,eAAiB5F,EAAU6F,eAAe/vB,OACxF,kBAAmBkqB,IAAYW,EAAcmF,cAAgB9F,EAAU+F,cAAcjwB,OAE1FyC,EAAMmoB,SAASC,cAAgBA,GAIhCV,oBAAqB,SAAW1nB,EAAOynB,GAEtC,GAAK,mBAAoBA,EAAY,CAEpC,IAAIxI,EAAW7D,EAAYje,IAAK6C,EAAMmf,IAAKF,SAE3CA,EAASR,QAAS,SAAW+F,GAE5B,GAA4B,mBAAvBA,EAAM3F,aAAoC,CAE9C,IAAI4O,EAAetS,EAAQmE,QAAQkI,MAAOhD,EAAMrF,IAEhD,GAAK,oBAAqBsO,EAAe,CAExC,IAAIC,EAAMD,EAAajB,gBAAgBjvB,WAGjBkW,IAAjBzT,EAAM2tB,QAEV3tB,EAAM2tB,OAAO7hB,SAASuX,UAAWqK,GACjCrS,EAAWJ,IAAKjb,EAAM2tB,SAItB3tB,EAAM4tB,QAAQ,IAAInb,UAAgB4Q,UAAWqK,UAcnD5F,aAAc,SAAW1C,EAAWjH,EAAakJ,GAEhD,IAAIwG,EAAe5uB,KAAK6uB,iBAExB,IAAM,IAAI3O,KAAMiG,EAAY,CAE3B,IAAIO,EAAWP,EAAWjG,GAEtBH,EAAU5D,EAAYje,IAAK8X,KAAU0Q,EAASxG,KAAOH,QAEzDA,EAAQP,QAAS,SAAWoJ,GAE3B,GAAK1J,EAAYW,IAAK+I,EAAO1I,IAAO,CAEnC,IAAIgI,EAAQU,EAAO1I,GACf4O,EAAmB3S,EAAYje,IAAKgqB,GAExC4G,EAAiB/O,QAAQP,QAAS,SAAWuP,GAE5C,GAAK3G,EAASvI,IAAKkP,EAAc7O,IAAO,CAEvC,IAAInf,EAAQqnB,EAASlqB,IAAK6wB,EAAc7O,IAExCnf,EAAMlC,KAAM,IAAI2U,QAAgBkT,EAASgB,OAASkH,EAAcG,EAAc7O,aAcpF2O,eAAgB,WAEf,IAAID,EAAe,GAEnB,GAAK,SAAU1S,EAAQmE,QAAU,CAEhC,IAAI2O,EAAe9S,EAAQmE,QAAQ4O,KAEnC,IAAM,IAAIzO,KAAUwO,EAEnB,GAAyC,aAApCA,EAAcxO,GAASiG,SAA0B,CAErD,IAAIyI,EAAYF,EAAcxO,GAAS2O,SAElC/Z,KAAe8Z,GAEnBA,EAAU1P,QAAS,SAAW4P,GAE7BR,EAAcQ,EAASC,OAAS,IAAI7b,SAAgB4Q,UAAWgL,EAASE,OAAO1mB,KAMhFgmB,EAAcM,EAAUG,OAAS,IAAI7b,SAAgB4Q,UAAW8K,EAAUI,OAAO1mB,IAUrF,OAAOgmB,GAKR9F,mBAAoB,WAEnB,GAAK,mBAAoB5M,GAAW,iBAAkBA,EAAQqT,eAAiB,CAE9E,IAAIC,EAAetT,EAAQqT,eAAeE,aAAanxB,MACnDH,EAAIqxB,EAAc,GAClBE,EAAIF,EAAc,GAClBpZ,EAAIoZ,EAAc,GAEtB,GAAW,IAANrxB,GAAiB,IAANuxB,GAAiB,IAANtZ,EAAU,CAEpC,IAAIjU,EAAQ,IAAIqR,QAAarV,EAAGuxB,EAAGtZ,GACnCgG,EAAWJ,IAAK,IAAIxI,QAAoBrR,EAAO,OAQlD4mB,oBAAqB,WAEpB,IAAI9K,EAAOje,KACXoc,EAAW4M,SAAU,SAAWzD,GAE1BA,EAAMoK,QAELpK,EAAM7Q,SAASkb,gBAAgB/iB,UAAY0Y,EAAM7Q,SAASkb,gBAAgB/iB,SAAS7Q,SAElFoZ,KAAemQ,EAAMrQ,UAEzBqQ,EAAMrQ,SAASsK,QAAS,SAAWtK,EAAUpZ,GAE5CmiB,EAAK4R,mBAAoBtK,EAAOrQ,EAAUpZ,KAM3CmiB,EAAK4R,mBAAoBtK,EAAOA,EAAMrQ,cAY3C2a,mBAAoB,SAAWtK,EAAOrQ,EAAU1R,GAE/C,IAAIssB,EAAOvK,EAAMuK,KACbC,EAAU7a,EAAS4a,KAGnBE,GAAY,EAoBhB,GAlBA5T,EAAW4M,SAAU,SAAWC,GAE1BA,EAAK0G,SAEJva,KAAe6T,EAAK/T,UAExB+T,EAAK/T,SAASsK,QAAS,SAAWyQ,GAE5BA,EAAIH,OAASC,GAAW9G,EAAK6G,OAASA,IAAOE,GAAY,KAIpD/G,EAAK/T,SAAS4a,OAASC,GAAW9G,EAAK6G,OAASA,IAAOE,GAAY,OAM9D,IAAdA,EAAqB,CAEzB,IAAIE,EAAYhb,EAASK,QACzB2a,EAAU9J,cAAe,OAEV5R,IAAVhR,EAAsB+hB,EAAMrQ,SAAWgb,EACvC3K,EAAMrQ,SAAU1R,GAAU0sB,OAEzBhb,EAASkR,cAAe,IASjC5J,EAAepgB,UAAY,CAE1B2b,YAAayE,EAGbhE,MAAO,SAAWwG,GAEjB,IAAIE,EAAc,IAAIG,GAAAzW,EAEtB,GAAK,aAAcsT,EAAQmE,QAAU,CAEpC,IAAI8P,EAAWjU,EAAQmE,QAAQ+P,SAE/B,IAAM,IAAI5P,KAAU2P,EAAW,CAE9B,IAAI3J,EAAgBrK,EAAYje,IAAK8X,KAAUwK,IAC3CuM,EAAM/sB,KAAKqwB,cAAe7J,EAAe2J,EAAU3P,GAAUxB,GAEjEE,EAAYY,IAAK9J,KAAUwK,GAAUuM,IAMvC,OAAO7N,GAKRmR,cAAe,SAAW7J,EAAe8J,EAAStR,GAEjD,OAASsR,EAAQ7J,UAEhB,IAAK,OACJ,OAAOzmB,KAAKuwB,kBAAmB/J,EAAe8J,EAAStR,GAGxD,IAAK,aACJ,OAAOhf,KAAKwwB,mBAAoBF,KAQnCC,kBAAmB,SAAW/J,EAAe8J,EAAStR,GAErD,IAAImH,EAAYnH,EAAUmH,UACtBC,EAAepH,EAAUoH,aAEzBkC,EAAa9B,EAAczG,QAAQrE,IAAK,SAAWkN,GAEtD,OAAO1M,EAAQmE,QAAQkI,MAAOK,EAAO1I,MAKtC,GAA2B,IAAtBoI,EAAWtsB,OAAhB,CAEA,IAAI0qB,EAAWF,EAAcxG,SAAS8M,OAAQ,SAAWpG,EAAUnB,GAIlE,YAF+B/Q,IAA1B2R,EAAWZ,EAAMrF,MAAqBwG,EAAWP,EAAWZ,EAAMrF,KAEhEwG,GAEL,MAECG,EAAcL,EAAcxG,SAAS8M,OAAQ,SAAWjG,EAAatB,GAIxE,YAFkC/Q,IAA7B4R,EAAcb,EAAMrF,MAAqB2G,EAAcT,EAAcb,EAAMrF,KAEzE2G,GAEL,MAIC2B,EAAYF,EAAY,GAExBa,EAAgB,GAEf,kBAAmBX,IAAYW,EAAcgE,WAAaC,EAAe5E,EAAU6E,cAAc/uB,QACjG,gBAAiBkqB,IAAYW,EAAc8D,YAAcjX,KAAUwS,EAAU0E,YAAY5uB,QAEzF,yBAA0BkqB,IAAYW,EAAcmE,YAAc9E,EAAUiI,qBAAqBnyB,OACjG,sBAAuBkqB,IAAYW,EAAcuE,SAAWlF,EAAUkI,kBAAkBpyB,OACxF,qBAAsBkqB,IAAYW,EAAc2E,MAAQtF,EAAUmI,iBAAiBryB,OAExF,IAAIgrB,EAAYC,EAAmBJ,GAEnC,OAAOnpB,KAAK4wB,YAAaN,EAAS5J,EAAUG,EAAayC,KAK1DsH,YAAa,SAAWN,EAAS5J,EAAUG,EAAagK,GAEvD,IAAI9D,EAAM,IAAIvZ,QACT8c,EAAQ/N,WAAWwK,EAAIlvB,KAAOyyB,EAAQ/N,UAE3C,IAAIuO,EAAU9wB,KAAK+wB,aAAcT,EAAS5J,GACtCsK,EAAUhxB,KAAKixB,WAAYH,GAE3BI,EAAoB,IAAI1d,QAA8Bwd,EAAQtX,OAAQ,GAuB1E,GArBAmX,EAAaM,uBAAwBD,GAErCnE,EAAI9R,aAAc,WAAYiW,GAEzBF,EAAQ/c,OAAOjY,OAAS,GAE5B+wB,EAAI9R,aAAc,QAAS,IAAIzH,QAA8Bwd,EAAQ/c,OAAQ,IAIzEyS,IAEJqG,EAAI9R,aAAc,YAAa,IAAIzH,SAA6Bwd,EAAQI,eAAgB,IAExFrE,EAAI9R,aAAc,aAAc,IAAIzH,QAA8Bwd,EAAQK,cAAe,IAGzFtE,EAAIJ,aAAejG,GAIfsK,EAAQM,OAAOt1B,OAAS,EAAI,CAEhC,IAAIu1B,EAAkB,IAAI/d,QAA8Bwd,EAAQM,OAAQ,GAEpEE,GAAe,IAAIhe,SAAgBie,gBAAiBZ,GACxDW,EAAaL,uBAAwBI,GAErCxE,EAAI9R,aAAc,SAAUsW,GAoB7B,GAhBAP,EAAQ9c,IAAIsL,QAAS,SAAWkS,EAAU51B,GAGzC,IAAI+B,EAAO,MAAS/B,EAAI,GAAI61B,WAGjB,IAAN71B,IAEJ+B,EAAO,MAIRkvB,EAAI9R,aAAcpd,EAAM,IAAI2V,QAA8Bwd,EAAQ9c,IAAKpY,GAAK,MAIxEg1B,EAAQ5b,UAA6C,YAAjC4b,EAAQ5b,SAAS0c,YAA4B,CAGrE,IAAIC,EAAoBb,EAAQc,cAAe,GAC3CC,EAAa,EAgBjB,GAdAf,EAAQc,cAActS,QAAS,SAAWwS,EAAcl2B,GAElDk2B,IAAiBH,IAErB9E,EAAIhR,SAAUgW,EAAYj2B,EAAIi2B,EAAYF,GAE1CA,EAAoBG,EACpBD,EAAaj2B,KAOVixB,EAAIkF,OAAOj2B,OAAS,EAAI,CAE5B,IAAIk2B,EAAYnF,EAAIkF,OAAQlF,EAAIkF,OAAOj2B,OAAS,GAC5Cm2B,EAAYD,EAAUE,MAAQF,EAAUG,MAEvCF,IAAcnB,EAAQc,cAAc91B,QAExC+wB,EAAIhR,SAAUoW,EAAWnB,EAAQc,cAAc91B,OAASm2B,EAAWN,GAQ1C,IAAtB9E,EAAIkF,OAAOj2B,QAEf+wB,EAAIhR,SAAU,EAAGiV,EAAQc,cAAc91B,OAAQg1B,EAAQc,cAAe,IAQxE,OAFA9xB,KAAKsyB,gBAAiBvF,EAAKuD,EAASzJ,EAAagK,GAE1C9D,GAIRgE,aAAc,SAAWT,EAAS5J,GAEjC,IAAIoK,EAAU,GAuBd,GArBAA,EAAQyB,qBAAyC/d,IAArB8b,EAAQkC,SAA2BlC,EAAQkC,SAAS5pB,EAAI,GACpFkoB,EAAQ2B,mBAAiDje,IAA/B8b,EAAQoC,mBAAqCpC,EAAQoC,mBAAmB9pB,EAAI,GAEjG0nB,EAAQqC,oBAEZ7B,EAAQ3uB,MAAQnC,KAAK4yB,kBAAmBtC,EAAQqC,kBAAmB,KAI/DrC,EAAQuC,uBAEZ/B,EAAQ5b,SAAWlV,KAAK8yB,qBAAsBxC,EAAQuC,qBAAsB,KAIxEvC,EAAQyC,qBAEZjC,EAAQQ,OAAStxB,KAAKgzB,aAAc1C,EAAQyC,mBAAoB,KAI5DzC,EAAQ2C,eAAiB,CAE7BnC,EAAQoC,GAAK,GAEb,IAAIp3B,EAAI,EACR,MAAQw0B,EAAQ2C,eAAgBn3B,GAE/Bg1B,EAAQoC,GAAGh3B,KAAM8D,KAAKmzB,SAAU7C,EAAQ2C,eAAgBn3B,KACxDA,IAgCF,OA1BAg1B,EAAQsC,YAAc,GAEJ,OAAb1M,IAEJoK,EAAQpK,SAAWA,EAEnBA,EAASO,SAASzH,QAAS,SAAW2H,EAASrrB,GAG9CqrB,EAAQC,QAAQ5H,QAAS,SAAWhc,EAAOxG,QAEJwX,IAAjCsc,EAAQsC,YAAa5vB,KAAwBstB,EAAQsC,YAAa5vB,GAAU,IAEjFstB,EAAQsC,YAAa5vB,GAAQtH,KAAM,CAElC2E,GAAI/E,EACJu3B,OAAQlM,EAAQE,QAASrqB,UAUtB8zB,GAIRG,WAAY,SAAWH,GAEtB,IAAIE,EAAU,CACbtX,OAAQ,GACR4X,OAAQ,GACRrd,OAAQ,GACRC,IAAK,GACL4d,cAAe,GACfT,cAAe,GACfD,eAAgB,IAGbkC,EAAe,EACfC,EAAa,EACbC,GAA0B,EAG1BC,EAAsB,GACtBC,EAAc,GACdC,EAAa,GACbC,EAAU,GACVC,EAAc,GACdC,EAAoB,GAEpB7V,EAAOje,KA4JX,OA3JA8wB,EAAQ2B,cAAcjT,QAAS,SAAWuU,EAAaC,GAEtD,IAAIC,GAAY,EASXF,EAAc,IAElBA,IAA8B,EAC9BE,GAAY,GAIb,IAAIC,EAAgB,GAChB7M,EAAU,GAId,GAFAoM,EAAoBv3B,KAAoB,EAAd63B,EAA+B,EAAdA,EAAkB,EAAiB,EAAdA,EAAkB,GAE7EjD,EAAQ3uB,MAAQ,CAEpB,IAAI3G,EAAO24B,EAASH,EAAoBV,EAAcS,EAAajD,EAAQ3uB,OAE3EwxB,EAAWz3B,KAAMV,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAI9C,GAAKs1B,EAAQpK,SAAW,CAcvB,QAZ4ClS,IAAvCsc,EAAQsC,YAAaW,IAEzBjD,EAAQsC,YAAaW,GAAcvU,QAAS,SAAW4U,GAEtD/M,EAAQnrB,KAAMk4B,EAAGf,QACjBa,EAAch4B,KAAMk4B,EAAGvzB,MAOpBwmB,EAAQrrB,OAAS,EAAI,CAElBw3B,IAENvrB,QAAQuZ,KAAM,6GACdgS,GAA0B,GAI3B,IAAIa,EAAS,CAAE,EAAG,EAAG,EAAG,GACpBC,EAAS,CAAE,EAAG,EAAG,EAAG,GAExBjN,EAAQ7H,QAAS,SAAW6T,EAAQkB,GAEnC,IAAIC,EAAgBnB,EAChBrB,EAAekC,EAAeK,GAElCD,EAAO9U,QAAS,SAAWiV,EAAgBC,EAAqBC,GAE/D,GAAKH,EAAgBC,EAAiB,CAErCE,EAAqBD,GAAwBF,EAC7CA,EAAgBC,EAEhB,IAAIG,EAAMP,EAAQK,GAClBL,EAAQK,GAAwB1C,EAChCA,EAAe4C,OAQlBV,EAAgBG,EAChBhN,EAAUiN,EAKX,MAAQjN,EAAQrrB,OAAS,EAExBqrB,EAAQnrB,KAAM,GACdg4B,EAAch4B,KAAM,GAIrB,IAAM,IAAIJ,EAAI,EAAGA,EAAI,IAAMA,EAE1B+3B,EAAY33B,KAAMmrB,EAASvrB,IAC3Bg4B,EAAkB53B,KAAMg4B,EAAep4B,IAMzC,GAAKg1B,EAAQQ,OAAS,CAEjB91B,EAAO24B,EAASH,EAAoBV,EAAcS,EAAajD,EAAQQ,QAE3EoC,EAAYx3B,KAAMV,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAI/C,GAAKs1B,EAAQ5b,UAA6C,YAAjC4b,EAAQ5b,SAAS0c,YAEzC,IAAIE,EAAgBqC,EAASH,EAAoBV,EAAcS,EAAajD,EAAQ5b,UAAY,GAI5F4b,EAAQoC,IAEZpC,EAAQoC,GAAG1T,QAAS,SAAW0T,EAAIp3B,GAElC,IAAIN,EAAO24B,EAASH,EAAoBV,EAAcS,EAAab,QAE7C1e,IAAjBof,EAAS93B,KAEb83B,EAAS93B,GAAM,IAIhB83B,EAAS93B,GAAII,KAAMV,EAAM,IACzBo4B,EAAS93B,GAAII,KAAMV,EAAM,MAM3B+3B,IAEKU,IAEJhW,EAAK4W,QAAS7D,EAASF,EAAS2C,EAAqB3B,EAAe4B,EAAaC,EAAYC,EAASC,EAAaC,EAAmBP,GAEtID,IACAC,EAAa,EAGbE,EAAsB,GACtBC,EAAc,GACdC,EAAa,GACbC,EAAU,GACVC,EAAc,GACdC,EAAoB,MAMf9C,GAKR6D,QAAS,SAAW7D,EAASF,EAAS2C,EAAqB3B,EAAe4B,EAAaC,EAAYC,EAASC,EAAaC,EAAmBP,GAE3I,IAAM,IAAIz3B,EAAI,EAAGA,EAAIy3B,EAAYz3B,IAEhCk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAqB,KACnEzC,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAqB,KACnEzC,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAqB,KAEnEzC,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAiC,GAAV33B,EAAI,MACzEk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAiC,GAAV33B,EAAI,GAAU,KACnFk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAiC,GAAV33B,EAAI,GAAU,KAEnFk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAyB,EAAJ33B,KACnEk1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAyB,EAAJ33B,EAAQ,KAC3Ek1B,EAAQtX,OAAOxd,KAAM40B,EAAQyB,gBAAiBkB,EAAyB,EAAJ33B,EAAQ,KAEtEg1B,EAAQpK,WAEZsK,EAAQK,cAAcn1B,KAAM23B,EAAa,IACzC7C,EAAQK,cAAcn1B,KAAM23B,EAAa,IACzC7C,EAAQK,cAAcn1B,KAAM23B,EAAa,IACzC7C,EAAQK,cAAcn1B,KAAM23B,EAAa,IAEzC7C,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,KAC/Ck1B,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,GAAU,IACzDk1B,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,GAAU,IACzDk1B,EAAQK,cAAcn1B,KAAM23B,EAAyB,GAAV/3B,EAAI,GAAU,IAEzDk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,IACzCk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,EAAQ,IACjDk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,EAAQ,IACjDk1B,EAAQK,cAAcn1B,KAAM23B,EAAiB,EAAJ/3B,EAAQ,IAEjDk1B,EAAQI,eAAel1B,KAAM43B,EAAmB,IAChD9C,EAAQI,eAAel1B,KAAM43B,EAAmB,IAChD9C,EAAQI,eAAel1B,KAAM43B,EAAmB,IAChD9C,EAAQI,eAAel1B,KAAM43B,EAAmB,IAEhD9C,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,KACtDk1B,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,GAAU,IAChEk1B,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,GAAU,IAChEk1B,EAAQI,eAAel1B,KAAM43B,EAA+B,GAAVh4B,EAAI,GAAU,IAEhEk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,IAChDk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,EAAQ,IACxDk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,EAAQ,IACxDk1B,EAAQI,eAAel1B,KAAM43B,EAAuB,EAAJh4B,EAAQ,KAIpDg1B,EAAQ3uB,QAEZ6uB,EAAQ/c,OAAO/X,KAAMy3B,EAAY,IACjC3C,EAAQ/c,OAAO/X,KAAMy3B,EAAY,IACjC3C,EAAQ/c,OAAO/X,KAAMy3B,EAAY,IAEjC3C,EAAQ/c,OAAO/X,KAAMy3B,EAAwB,GAAV73B,EAAI,KACvCk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAwB,GAAV73B,EAAI,GAAU,IACjDk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAwB,GAAV73B,EAAI,GAAU,IAEjDk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAgB,EAAJ73B,IACjCk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAgB,EAAJ73B,EAAQ,IACzCk1B,EAAQ/c,OAAO/X,KAAMy3B,EAAgB,EAAJ73B,EAAQ,KAIrCg1B,EAAQ5b,UAA6C,YAAjC4b,EAAQ5b,SAAS0c,cAEzCZ,EAAQc,cAAc51B,KAAM41B,GAC5Bd,EAAQc,cAAc51B,KAAM41B,GAC5Bd,EAAQc,cAAc51B,KAAM41B,IAIxBhB,EAAQQ,SAEZN,EAAQM,OAAOp1B,KAAMw3B,EAAa,IAClC1C,EAAQM,OAAOp1B,KAAMw3B,EAAa,IAClC1C,EAAQM,OAAOp1B,KAAMw3B,EAAa,IAElC1C,EAAQM,OAAOp1B,KAAMw3B,EAAyB,GAAV53B,EAAI,KACxCk1B,EAAQM,OAAOp1B,KAAMw3B,EAAyB,GAAV53B,EAAI,GAAU,IAClDk1B,EAAQM,OAAOp1B,KAAMw3B,EAAyB,GAAV53B,EAAI,GAAU,IAElDk1B,EAAQM,OAAOp1B,KAAMw3B,EAAiB,EAAJ53B,IAClCk1B,EAAQM,OAAOp1B,KAAMw3B,EAAiB,EAAJ53B,EAAQ,IAC1Ck1B,EAAQM,OAAOp1B,KAAMw3B,EAAiB,EAAJ53B,EAAQ,KAItCg1B,EAAQoC,IAEZpC,EAAQoC,GAAG1T,QAAS,SAAW0T,EAAIl2B,QAERwX,IAArBwc,EAAQ9c,IAAKlX,KAAoBg0B,EAAQ9c,IAAKlX,GAAM,IAEzDg0B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAK,IACrCg0B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAK,IAErCg0B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAiB,GAAVlB,EAAI,KAC3Ck1B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAiB,GAAVlB,EAAI,GAAU,IAErDk1B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAS,EAAJlB,IACrCk1B,EAAQ9c,IAAKlX,GAAId,KAAM03B,EAAS52B,GAAS,EAAJlB,EAAQ,OAUjDw2B,gBAAiB,SAAWwC,EAAWC,EAAelO,EAAagK,GAElE,GAAqB,OAAhBhK,EAAL,CAEAiO,EAAUlF,gBAAgB/iB,SAAW,GAGrC,IAAIoR,EAAOje,KACX6mB,EAAYC,WAAWtH,QAAS,SAAWwV,GAE1C,IAAIC,EAAe/Y,EAAQmE,QAAQ+P,SAAU4E,EAAU9M,YAEjC1T,IAAjBygB,GAEJhX,EAAKiX,iBAAkBJ,EAAWC,EAAeE,EAAcpE,EAAcmE,EAAUn3B,UAY1Fq3B,iBAAkB,SAAWJ,EAAWC,EAAeE,EAAcpE,EAAchzB,GAElF,IAAIs3B,EAAW,IAAI3hB,QACdyhB,EAAa1S,WAAW4S,EAASt3B,KAAOo3B,EAAa1S,UAU1D,IARA,IAAIkQ,OAAuDje,IAArCugB,EAAcrC,mBAAqCqC,EAAcrC,mBAAmB9pB,EAAI,GAG1G2pB,OAA+C/d,IAA3BugB,EAAcvC,SAA2BuC,EAAcvC,SAAS5pB,EAAEvJ,QAAU,GAEhG+1B,OAA6C5gB,IAA1BygB,EAAazC,SAA2ByC,EAAazC,SAAS5pB,EAAI,GACrFwe,OAAqC5S,IAAzBygB,EAAazN,QAA0ByN,EAAazN,QAAQ5e,EAAI,GAEtE9M,EAAI,EAAGA,EAAIsrB,EAAQprB,OAAQF,IAAO,CAE3C,IAAIu5B,EAA4B,EAAfjO,EAAStrB,GAI1By2B,EAAiB8C,IAAgBD,EAAoB,EAAJt5B,GACjDy2B,EAAiB8C,EAAa,IAAOD,EAAoB,EAAJt5B,EAAQ,GAC7Dy2B,EAAiB8C,EAAa,IAAOD,EAAoB,EAAJt5B,EAAQ,GAK9D,IAAIw5B,EAAe,CAClB7C,cAAeA,EACfF,gBAAiBA,GAGdgD,EAAev1B,KAAKixB,WAAYqE,GAEhCpE,EAAoB,IAAI1d,QAA8B+hB,EAAa7b,OAAQ,GAC/EwX,EAAkBrzB,KAAOA,GAAQo3B,EAAa1S,SAE9CsO,EAAaM,uBAAwBD,GAErC4D,EAAUlF,gBAAgB/iB,SAAS3Q,KAAMg1B,IAK1C8B,aAAc,SAAWwC,GAExB,IAAI5D,EAAc4D,EAAWC,uBACzBC,EAAgBF,EAAWG,yBAC3B9Y,EAAS2Y,EAAWI,QAAQhtB,EAC5BitB,EAAc,GAelB,MAduB,kBAAlBH,IAEC,gBAAiBF,EAErBK,EAAcL,EAAWM,YAAYltB,EAE1B,iBAAkB4sB,IAE7BK,EAAcL,EAAWO,aAAantB,IAMjC,CACNotB,SAAU,EACVnZ,OAAQA,EACRuK,QAASyO,EACTjE,YAAaA,EACb8D,cAAeA,IAMjBvC,SAAU,SAAW8C,GAEpB,IAAIrE,EAAcqE,EAAOR,uBACrBC,EAAgBO,EAAON,yBACvB9Y,EAASoZ,EAAOC,GAAGttB,EACnBitB,EAAc,GAOlB,MANuB,kBAAlBH,IAEJG,EAAcI,EAAOE,QAAQvtB,GAIvB,CACNotB,SAAU,EACVnZ,OAAQA,EACRuK,QAASyO,EACTjE,YAAaA,EACb8D,cAAeA,IAMjB9C,kBAAmB,SAAWwD,GAE7B,IAAIxE,EAAcwE,EAAUX,uBACxBC,EAAgBU,EAAUT,yBAC1B9Y,EAASuZ,EAAUC,OAAOztB,EAC1BitB,EAAc,GAOlB,MANuB,kBAAlBH,IAEJG,EAAcO,EAAUE,WAAW1tB,GAI7B,CACNotB,SAAU,EACVnZ,OAAQA,EACRuK,QAASyO,EACTjE,YAAaA,EACb8D,cAAeA,IAMjB5C,qBAAsB,SAAWyD,GAEhC,IAAI3E,EAAc2E,EAAad,uBAC3BC,EAAgBa,EAAaZ,yBAEjC,GAAqB,yBAAhB/D,EAEJ,MAAO,CACNoE,SAAU,EACVnZ,OAAQ,CAAE,GACVuK,QAAS,CAAE,GACXwK,YAAa,UACb8D,cAAeA,GAYjB,IAPA,IAAIc,EAAsBD,EAAaE,UAAU7tB,EAK7C8tB,EAAkB,GAEZ56B,EAAI,EAAGA,EAAI06B,EAAoBx6B,SAAWF,EAEnD46B,EAAgBx6B,KAAMJ,GAIvB,MAAO,CACNk6B,SAAU,EACVnZ,OAAQ2Z,EACRpP,QAASsP,EACT9E,YAAaA,EACb8D,cAAeA,IAMjBlF,mBAAoB,SAAWF,GAE9B,QAA0B9b,IAArBhB,iBAGJ,OADAvL,QAAQI,MAAO,oIACR,IAAImL,QAIZ,IAAImjB,EAAQ3gB,KAAUsa,EAAQsG,OAE9B,GAAKC,MAAOF,GAGX,OADA1uB,QAAQI,MAAO,8DAA+DioB,EAAQsG,MAAOtG,EAAQzvB,IAC9F,IAAI2S,QAUZ,IANA,IAYIsjB,EAAWC,EAZXC,EAASL,EAAQ,EAEjBM,EAAQ3G,EAAQ4G,WAAWtuB,EAC3BuuB,EAAgB,GAChBC,EAAe9G,EAAQ+G,OAAOzuB,EAExB9M,EAAI,EAAG2B,EAAI25B,EAAap7B,OAAQF,EAAI2B,EAAG3B,GAAK,EAErDq7B,EAAcj7B,MAAM,IAAIsX,UAAgB4Q,UAAWgT,EAAct7B,IAMlE,GAAsB,WAAjBw0B,EAAQgH,KAEZH,EAAcj7B,KAAMi7B,EAAe,SAE7B,GAAsB,aAAjB7G,EAAQgH,KAAsB,CAEzCR,EAAYE,EACZD,EAAUE,EAAMj7B,OAAS,EAAI86B,EAE7B,IAAUh7B,EAAI,EAAGA,EAAIk7B,IAAWl7B,EAE/Bq7B,EAAcj7B,KAAMi7B,EAAer7B,IAMrC,IAAIy7B,EAAQ,IAAI/jB,iBAAkBwjB,EAAQC,EAAOE,EAAeL,EAAWC,GACvEhjB,EAAWwjB,EAAMC,UAAkC,EAAvBL,EAAcn7B,QAE1Cy7B,EAAY,IAAIC,aAAgC,EAAlB3jB,EAAS/X,QAE3C+X,EAASyL,QAAS,SAAW9F,EAAQ5d,GAEpC4d,EAAOie,QAASF,EAAe,EAAJ37B,KAI5B,IAAI4Y,EAAW,IAAIlB,QAGnB,OAFAkB,EAASuG,aAAc,WAAY,IAAIzH,QAAuBikB,EAAW,IAElE/iB,IAST+H,EAAgBrgB,UAAY,CAE3B2b,YAAa0E,EAGbjE,MAAO,WAEN,IAAIof,EAAiB,GAEjBC,EAAW73B,KAAK83B,aAEpB,QAAkBtjB,IAAbqjB,EAEJ,IAAM,IAAIj5B,KAAOi5B,EAAW,CAE3B,IAAIE,EAAUF,EAAUj5B,GAEpBo5B,EAAOh4B,KAAKi4B,QAASF,GAEzBH,EAAe17B,KAAM87B,GAMvB,OAAOJ,GAIRE,WAAY,WAIX,QAAwCtjB,IAAnC0H,EAAQmE,QAAQ6X,eAArB,CAEA,IAAIC,EAAgBn4B,KAAKo4B,2BAEzBp4B,KAAKq4B,qBAAsBF,GAE3B,IAAIG,EAAYt4B,KAAKu4B,qBAAsBJ,GACvCN,EAAW73B,KAAKw4B,gBAAiBF,GAErC,OAAOT,IAORO,yBAA0B,WAEzB,IAAIK,EAAgBvc,EAAQmE,QAAQqY,mBAEhCP,EAAgB,IAAI9Y,GAAAzW,EAExB,IAAM,IAAI4X,KAAUiY,EAAgB,CAEnC,IAAIE,EAAeF,EAAejY,GAElC,GAA8D,OAAzDmY,EAAapW,SAAS1E,MAAO,uBAAmC,CAEpE,IAAI+a,EAAY,CAEf/3B,GAAI83B,EAAa93B,GACjBypB,KAAMqO,EAAapW,SACnBsW,OAAQ,IAITV,EAAcrY,IAAK8Y,EAAU/3B,GAAI+3B,IAMnC,OAAOT,GAORE,qBAAsB,SAAWF,GAEhC,IAAIW,EAAY5c,EAAQmE,QAAQ6X,eAShC,IAAM,IAAI1X,KAAUsY,EAAY,CAE/B,IAAIC,EAAiB,CAEpBl4B,GAAIi4B,EAAWtY,GAAS3f,GACxBm4B,MAAOF,EAAWtY,GAASyY,QAAQrwB,EAAE8S,IAAKqC,GAC1CiF,OAAQ8V,EAAWtY,GAAS0Y,cAActwB,GAIvC4d,EAAgBrK,EAAYje,IAAK66B,EAAel4B,IAEpD,QAAuB2T,IAAlBgS,EAA8B,CAElC,IAAI2S,EAAmB3S,EAAczG,QAAS,GAAIG,GAC9CkZ,EAA6B5S,EAAczG,QAAS,GAAIH,aAEvDwZ,EAA2Bvb,MAAO,KAEtCsa,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,KAAQE,EAE3CK,EAA2Bvb,MAAO,KAE7Csa,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,KAAQE,EAE3CK,EAA2Bvb,MAAO,KAE7Csa,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,KAAQE,EAE3CK,EAA2Bvb,MAAO,oBAAuBsa,EAActY,IAAKsZ,KAEvFhB,EAAcj6B,IAAKi7B,GAAmBN,OAAQ,SAAYE,MAa9DR,qBAAsB,SAAWJ,GAEhC,IAAIkB,EAAYnd,EAAQmE,QAAQiZ,eAE5BhB,EAAY,IAAIjZ,GAAAzW,EAEpB,IAAM,IAAI4X,KAAU6Y,EAAY,CAE/B,IAAIE,EAAkB,GAElB5Q,EAAaxM,EAAYje,IAAK8X,KAAUwK,IAE5C,QAAoBhM,IAAfmU,EAA2B,CAG/B,IAAI3I,EAAW2I,EAAW3I,SAE1BA,EAASR,QAAS,SAAW+F,EAAOzpB,GAEnC,GAAKq8B,EAActY,IAAK0F,EAAMrF,IAAO,CAEpC,IAAI0Y,EAAYT,EAAcj6B,IAAKqnB,EAAMrF,IAGzC,QAA4B1L,IAAvBokB,EAAUC,OAAO1V,QAA0C3O,IAAvBokB,EAAUC,OAAOzV,QAA0C5O,IAAvBokB,EAAUC,OAAOW,EAAkB,CAE/G,QAA8BhlB,IAAzB+kB,EAAiBz9B,GAAoB,CAEzC,IAAI29B,EAAUtd,EAAYje,IAAKqnB,EAAMrF,IAAKH,QAAQoI,OAAQ,SAAWS,GAEpE,YAA+BpU,IAAxBoU,EAAOhJ,eAEV,GAAIM,GAET,QAAiB1L,IAAZilB,EAAwB,CAE5B,IAAIC,EAAWxd,EAAQmE,QAAQkI,MAAOkR,EAAQ9H,YAE1C1I,EAAO,CAEV0Q,UAAWnmB,QAAsBwW,iBAAkB0P,EAASnX,UAC5DrC,GAAIwZ,EAAS74B,GACb+4B,gBAAiB,CAAE,EAAG,EAAG,GACzBC,gBAAiB,CAAE,EAAG,EAAG,GACzBC,aAAc,CAAE,EAAG,EAAG,IAIvB1d,EAAW4M,SAAU,SAAWzD,GAE1BA,EAAMrF,KAAOwZ,EAAS74B,KAE1BooB,EAAKK,UAAY/D,EAAM8D,OAElB9D,EAAM2D,SAASC,gBAAgBF,EAAKkE,WAAa5H,EAAM2D,SAASC,cAAcgE,eAM9ElE,EAAKK,YAAYL,EAAKK,UAAY,IAAI9V,SAIxC,gBAAiBkmB,IAAWzQ,EAAKuE,YAAckM,EAASjM,YAAYnvB,OACpE,iBAAkBo7B,IAAWzQ,EAAK2E,aAAe8L,EAAS7L,aAAavvB,OAE5Ei7B,EAAiBz9B,GAAMmtB,GAMpBsQ,EAAiBz9B,KAAMy9B,EAAiBz9B,GAAK88B,EAAUtO,MAASsO,QAE/D,QAAgCpkB,IAA3BokB,EAAUC,OAAOkB,MAAsB,CAElD,QAA8BvlB,IAAzB+kB,EAAiBz9B,GAAoB,CAEzC,IAAIk+B,EAAa7d,EAAYje,IAAKqnB,EAAMrF,IAAKH,QAAQoI,OAAQ,SAAWS,GAEvE,YAA+BpU,IAAxBoU,EAAOhJ,eAEV,GAAIM,GAEL+Z,EAAY9d,EAAYje,IAAK87B,GAAaja,QAAS,GAAIG,GACvDgI,EAAQ/L,EAAYje,IAAK+7B,GAAYla,QAAS,GAAIG,GAGlDuZ,EAAUtd,EAAYje,IAAKgqB,GAAQnI,QAAS,GAAIG,GAEhDwZ,EAAWxd,EAAQmE,QAAQkI,MAAOkR,GAElCxQ,EAAO,CAEV0Q,UAAWnmB,QAAsBwW,iBAAkB0P,EAASnX,UAC5D2X,UAAWhe,EAAQmE,QAAQiG,SAAU0T,GAAazX,UAInDgX,EAAiBz9B,GAAMmtB,EAIxBsQ,EAAiBz9B,GAAK88B,EAAUtO,MAASsO,MAQ5CN,EAAUxY,IAAK9J,KAAUwK,GAAU+Y,IAMrC,OAAOjB,GAMRE,gBAAiB,SAAWF,GAE3B,IAAI6B,EAAYje,EAAQmE,QAAQ+Z,eAG5BvC,EAAW,GAEf,IAAM,IAAIrX,KAAU2Z,EAAY,CAE/B,IAAIna,EAAW7D,EAAYje,IAAK8X,KAAUwK,IAAWR,SAEhDA,EAAShkB,OAAS,GAItBiM,QAAQuZ,KAAM,sIAIf,IAAI6Y,EAAQ/B,EAAUp6B,IAAK8hB,EAAU,GAAIE,IAEzC2X,EAAUrX,GAAW,CAEpB3iB,KAAMs8B,EAAW3Z,GAAS+B,SAC1B8X,MAAOA,GAMT,OAAOxC,GAIRI,QAAS,SAAWF,GAEnB,IAAIuC,EAAS,GAETrc,EAAOje,KAOX,OANA+3B,EAAQsC,MAAM7a,QAAS,SAAW+a,GAEjCD,EAASA,EAAO1f,OAAQqD,EAAKuc,eAAgBD,MAIvC,IAAI/mB,QAAqBukB,EAAQl6B,MAAQ,EAAGy8B,IAIpDE,eAAgB,SAAWD,GAE1B,IAAID,EAAS,GAETV,EAAkB,IAAIpmB,SACtBqmB,EAAkB,IAAIrmB,QACtBsmB,EAAe,IAAItmB,SAQvB,GANK+mB,EAAUjR,WAAYiR,EAAUjR,UAAUmR,UAAWb,EAAiBC,EAAiBC,GAE5FF,EAAkBA,EAAgBjC,UAClCkC,GAAkB,IAAIrmB,SAAcknB,kBAAmBb,EAAiBU,EAAUpN,YAAawK,UAC/FmC,EAAeA,EAAanC,eAEPnjB,IAAhB+lB,EAAUI,GAAmBC,KAAaL,EAAUI,EAAE9B,QAAS78B,OAAS,EAAI,CAEhF,IAAI6+B,EAAgB76B,KAAK86B,oBAAqBP,EAAUZ,UAAWY,EAAUI,EAAE9B,OAAQe,EAAiB,iBACjFplB,IAAlBqmB,GAA8BP,EAAOp+B,KAAM2+B,GAIjD,QAAqBrmB,IAAhB+lB,EAAUQ,GAAmBH,KAAaL,EAAUQ,EAAElC,QAAS78B,OAAS,EAAI,CAEhF,IAAIg/B,EAAgBh7B,KAAKi7B,sBAAuBV,EAAUZ,UAAWY,EAAUQ,EAAElC,OAAQgB,EAAiBU,EAAU/M,YAAa+M,EAAU3M,aAAc2M,EAAUpN,iBAC5I3Y,IAAlBwmB,GAA8BV,EAAOp+B,KAAM8+B,GAIjD,QAAqBxmB,IAAhB+lB,EAAUW,GAAmBN,KAAaL,EAAUW,EAAErC,QAAS78B,OAAS,EAAI,CAEhF,IAAIm/B,EAAan7B,KAAK86B,oBAAqBP,EAAUZ,UAAWY,EAAUW,EAAErC,OAAQiB,EAAc,cAC9EtlB,IAAf2mB,GAA2Bb,EAAOp+B,KAAMi/B,GAI9C,QAAiC3mB,IAA5B+lB,EAAUxS,cAA8B,CAE5C,IAAIqT,EAAap7B,KAAKq7B,mBAAoBd,QACtB/lB,IAAf4mB,GAA2Bd,EAAOp+B,KAAMk/B,GAI9C,OAAOd,GAIRQ,oBAAqB,SAAWnB,EAAWd,EAAQyC,EAAct1B,GAEhE,IAAIgzB,EAAQh5B,KAAKu7B,mBAAoB1C,GACjC7V,EAAShjB,KAAKw7B,uBAAwBxC,EAAOH,EAAQyC,GAEzD,OAAO,IAAI9nB,SAA2BmmB,EAAY,IAAM3zB,EAAMgzB,EAAOhW,IAItEiY,sBAAuB,SAAWtB,EAAWd,EAAQyC,EAAc9N,EAAaI,EAAcT,QAE3E3Y,IAAbqkB,EAAO1V,IAEXnjB,KAAKy7B,qBAAsB5C,EAAO1V,GAClC0V,EAAO1V,EAAEH,OAAS6V,EAAO1V,EAAEH,OAAOtH,IAAKlI,QAAW6Y,gBAGjC7X,IAAbqkB,EAAOzV,IAEXpjB,KAAKy7B,qBAAsB5C,EAAOzV,GAClCyV,EAAOzV,EAAEJ,OAAS6V,EAAOzV,EAAEJ,OAAOtH,IAAKlI,QAAW6Y,gBAGjC7X,IAAbqkB,EAAOW,IAEXx5B,KAAKy7B,qBAAsB5C,EAAOW,GAClCX,EAAOW,EAAExW,OAAS6V,EAAOW,EAAExW,OAAOtH,IAAKlI,QAAW6Y,WAInD,IAAI2M,EAAQh5B,KAAKu7B,mBAAoB1C,GACjC7V,EAAShjB,KAAKw7B,uBAAwBxC,EAAOH,EAAQyC,QAEpC9mB,IAAhBgZ,IAEJA,EAAcA,EAAY9R,IAAKlI,QAAW6Y,UAC1CmB,EAAYtxB,KAAMixB,GAElBK,GAAc,IAAIha,SAAc4Q,UAAWoJ,GAC3CA,GAAc,IAAIha,SAAmBkoB,aAAclO,SAI9BhZ,IAAjBoZ,IAEJA,EAAeA,EAAalS,IAAKlI,QAAW6Y,UAC5CuB,EAAa1xB,KAAMixB,GAEnBS,GAAe,IAAIpa,SAAc4Q,UAAWwJ,GAC5CA,GAAe,IAAIpa,SAAmBkoB,aAAc9N,GAAe+N,WASpE,IALA,IAAIC,EAAa,IAAIpoB,QACjBqoB,EAAQ,IAAIroB,QAEZsoB,EAAmB,GAEbhgC,EAAI,EAAGA,EAAIknB,EAAOhnB,OAAQF,GAAK,EAExC+/B,EAAM/b,IAAKkD,EAAQlnB,GAAKknB,EAAQlnB,EAAI,GAAKknB,EAAQlnB,EAAI,GAAKqxB,GAE1DyO,EAAWF,aAAcG,QAEJrnB,IAAhBgZ,GAA4BoO,EAAWG,YAAavO,QACnChZ,IAAjBoZ,GAA6BgO,EAAWI,SAAUpO,GAEvDgO,EAAWjE,QAASmE,EAAoBhgC,EAAI,EAAM,GAInD,OAAO,IAAI0X,QAA+BmmB,EAAY,cAAeX,EAAO8C,IAI7ET,mBAAoB,SAAWd,GAE9B,IAAI1B,EAAS0B,EAAUxS,cAAc8Q,OAAOkB,MACxC/W,EAAS6V,EAAO7V,OAAOtH,IAAK,SAAWugB,GAE1C,OAAOA,EAAM,MAIVC,EAAW9f,EAAW+f,gBAAiB5B,EAAUZ,WAAYyC,sBAAuB7B,EAAUL,WAElG,OAAO,IAAI1mB,QAA2B+mB,EAAUZ,UAAY,0BAA4BuC,EAAW,IAAKrD,EAAOG,MAAOhW,IAMvHuY,mBAAoB,SAAW1C,GAE9B,IAAIG,EAAQ,GAkBZ,YAfkBxkB,IAAbqkB,EAAO1V,IAAkB6V,EAAQA,EAAMpe,OAAQie,EAAO1V,EAAE6V,aAC3CxkB,IAAbqkB,EAAOzV,IAAkB4V,EAAQA,EAAMpe,OAAQie,EAAOzV,EAAE4V,aAC3CxkB,IAAbqkB,EAAOW,IAAkBR,EAAQA,EAAMpe,OAAQie,EAAOW,EAAER,QAG7DA,EAAQA,EAAMqD,KAAM,SAAWzzB,EAAGwN,GAEjC,OAAOxN,EAAIwN,IAER+R,OAAQ,SAAWmU,EAAM94B,EAAOme,GAEnC,OAAOA,EAAMle,QAAS64B,IAAU94B,IAI1Bw1B,GAIRwC,uBAAwB,SAAWxC,EAAOH,EAAQyC,GAEjD,IAAIiB,EAAYjB,EAEZtY,EAAS,GAETwZ,GAAW,EACXC,GAAW,EACXC,GAAW,EAgDf,OA9CA1D,EAAMxZ,QAAS,SAAW9G,GAOzB,GALKmgB,EAAO1V,IAAIqZ,EAAS3D,EAAO1V,EAAE6V,MAAMv1B,QAASiV,IAC5CmgB,EAAOzV,IAAIqZ,EAAS5D,EAAOzV,EAAE4V,MAAMv1B,QAASiV,IAC5CmgB,EAAOW,IAAIkD,EAAS7D,EAAOW,EAAER,MAAMv1B,QAASiV,KAG/B,IAAb8jB,EAAiB,CAErB,IAAIG,EAAS9D,EAAO1V,EAAEH,OAAQwZ,GAC9BxZ,EAAO9mB,KAAMygC,GACbJ,EAAW,GAAMI,OAKjB3Z,EAAO9mB,KAAMqgC,EAAW,IAIzB,IAAkB,IAAbE,EAAiB,CAErB,IAAIG,EAAS/D,EAAOzV,EAAEJ,OAAQyZ,GAC9BzZ,EAAO9mB,KAAM0gC,GACbL,EAAW,GAAMK,OAIjB5Z,EAAO9mB,KAAMqgC,EAAW,IAIzB,IAAkB,IAAbG,EAAiB,CAErB,IAAIG,EAAShE,EAAOW,EAAExW,OAAQ0Z,GAC9B1Z,EAAO9mB,KAAM2gC,GACbN,EAAW,GAAMM,OAIjB7Z,EAAO9mB,KAAMqgC,EAAW,MAMnBvZ,GAORyY,qBAAsB,SAAWlE,GAEhC,IAAM,IAAIz7B,EAAI,EAAGA,EAAIy7B,EAAMvU,OAAOhnB,OAAQF,IAAO,CAEhD,IAAIw/B,EAAe/D,EAAMvU,OAAQlnB,EAAI,GACjCghC,EAAavF,EAAMvU,OAAQlnB,GAAMw/B,EAEjCyB,EAAe7Q,KAAK8Q,IAAKF,GAE7B,GAAKC,GAAgB,IAAM,CAE1B,IAAIE,EAAkBF,EAAe,IAEjCG,EAAOJ,EAAaG,EACpBE,EAAY7B,EAAe4B,EAE3BE,EAAc7F,EAAMyB,MAAOl9B,EAAI,GAC/BuhC,EAAW9F,EAAMyB,MAAOl9B,GAAMshC,EAC9BE,EAAWD,EAAWJ,EACtBM,EAAWH,EAAcE,EAEzBE,EAAoB,GACpBC,EAAqB,GAEzB,MAAQF,EAAWhG,EAAMyB,MAAOl9B,GAE/B0hC,EAAkBthC,KAAMqhC,GACxBA,GAAYD,EAEZG,EAAmBvhC,KAAMihC,GACzBA,GAAaD,EAId3F,EAAMyB,MAAQ0E,EAAQnG,EAAMyB,MAAOl9B,EAAG0hC,GACtCjG,EAAMvU,OAAS0a,EAAQnG,EAAMvU,OAAQlnB,EAAG2hC,OAa5C/gB,EAAWtgB,UAAY,CAEtB2b,YAAa2E,EAEbihB,YAAa,WAEZ,OAAO39B,KAAK49B,UAAW59B,KAAK69B,cAAgB,IAI7CC,eAAgB,WAEf,OAAO99B,KAAK49B,UAAW59B,KAAK69B,cAAgB,IAI7CE,eAAgB,WAEf,OAAO/9B,KAAKg+B,aAIbC,UAAW,SAAWhV,GAErBjpB,KAAK49B,UAAU1hC,KAAM+sB,GACrBjpB,KAAK69B,eAAiB,GAIvBK,SAAU,WAETl+B,KAAK49B,UAAUzc,MACfnhB,KAAK69B,eAAiB,GAIvBM,eAAgB,SAAWlC,EAAKp+B,GAE/BmC,KAAKg+B,YAAc/B,EACnBj8B,KAAKo+B,gBAAkBvgC,GAIxB2a,MAAO,SAAWD,GAEjBvY,KAAK69B,cAAgB,EAErB79B,KAAKq+B,SAAW,IAAInhB,EACpBld,KAAK49B,UAAY,GACjB59B,KAAKg+B,YAAc,GACnBh+B,KAAKo+B,gBAAkB,GAEvB,IAAIngB,EAAOje,KAEP6Y,EAAQN,EAAKM,MAAO,WAmCxB,OAjCAA,EAAM2G,QAAS,SAAW1G,EAAMhd,GAE/B,IAAIwiC,EAAexlB,EAAK+E,MAAO,aAC3B0gB,EAAazlB,EAAK+E,MAAO,aAE7B,IAAKygB,IAAgBC,EAArB,CAEA,IAAIC,EAAiB1lB,EAAK+E,MAAO,QAAUI,EAAK4f,cAAgB,gBAAiB,IAC7EY,EAAgB3lB,EAAK+E,MAAO,QAAYI,EAAK4f,cAAkB,8BAC/Da,EAAW5lB,EAAK+E,MAAO,SAAYI,EAAK4f,cAAgB,GAAM,MAE7DW,EAEJvgB,EAAK0gB,eAAgB7lB,EAAM0lB,GAEhBC,EAEXxgB,EAAK2gB,kBAAmB9lB,EAAM2lB,EAAe5lB,IAAU/c,IAE5C4iC,EAEXzgB,EAAKigB,WAEMplB,EAAK+E,MAAO,cAIvBI,EAAK4gB,2BAA4B/lB,MAM5B9Y,KAAKq+B,UAIbM,eAAgB,SAAW7lB,EAAM9Z,GAEhC,IAAI8/B,EAAW9/B,EAAU,GAAIka,OAAOP,QAAS,KAAM,IAAKA,QAAS,KAAM,IAEnEomB,EAAY//B,EAAU,GAAI6Z,MAAO,KAAM6C,IAAK,SAAW4O,GAE1D,OAAOA,EAAKpR,OAAOP,QAAS,KAAM,IAAKA,QAAS,KAAM,MAInDsQ,EAAO,CAAEprB,KAAMihC,GACfz+B,EAAQL,KAAKg/B,cAAeD,GAE5BE,EAAcj/B,KAAK89B,iBAGK,IAAvB99B,KAAK69B,cAET79B,KAAKq+B,SAASriB,IAAK8iB,EAAU7V,GAKxB6V,KAAYG,GAGE,aAAbH,EAEJG,EAAY9P,SAASjzB,KAAM+sB,QAEezU,IAA/ByqB,EAAaH,GAAWj+B,KAEnCo+B,EAAaH,GAAa,GAC1BG,EAAaH,GAAYG,EAAaH,GAAWj+B,IAAOo+B,EAAaH,IAIpD,KAAbz+B,EAAMQ,KAAYo+B,EAAaH,GAAYz+B,EAAMQ,IAAOooB,IAE9B,kBAAb5oB,EAAMQ,IAExBo+B,EAAaH,GAAa,GAC1BG,EAAaH,GAAYz+B,EAAMQ,IAAOooB,GAEd,iBAAb6V,IAEoBG,EAAaH,GAA1B,aAAbA,EAAoD,CAAE7V,GAC5BA,GAMR,kBAAb5oB,EAAMQ,KAAkBooB,EAAKpoB,GAAKR,EAAMQ,IAChC,KAAfR,EAAMxC,OAAcorB,EAAK1G,SAAWliB,EAAMxC,MAC3B,KAAfwC,EAAM2F,OAAcijB,EAAKxC,SAAWpmB,EAAM2F,MAE/ChG,KAAKi+B,UAAWhV,IAIjB+V,cAAe,SAAW3+B,GAEzB,IAAIQ,EAAKR,EAAO,GAEI,KAAfA,EAAO,KAEXQ,EAAKmV,KAAU3V,EAAO,IAEjBw2B,MAAOh2B,KAEXA,EAAKR,EAAO,KAMd,IAAIxC,EAAO,GAAImI,EAAO,GAStB,OAPK3F,EAAMrE,OAAS,IAEnB6B,EAAOwC,EAAO,GAAIsY,QAAS,WAAY,IACvC3S,EAAO3F,EAAO,IAIR,CAAEQ,GAAIA,EAAIhD,KAAMA,EAAMmI,KAAMA,IAIpC44B,kBAAmB,SAAW9lB,EAAM9Z,EAAUkgC,GAE7C,IAAIC,EAAWngC,EAAU,GAAI2Z,QAAS,KAAM,IAAKA,QAAS,KAAM,IAAKO,OACjEkmB,EAAYpgC,EAAU,GAAI2Z,QAAS,KAAM,IAAKA,QAAS,KAAM,IAAKO,OAKpD,YAAbimB,GAAwC,MAAdC,IAE9BA,EAAYF,EAAYvmB,QAAS,KAAM,IAAKA,QAAS,KAAM,IAAKO,QAIjE,IAAI+lB,EAAcj/B,KAAK89B,iBACnBuB,EAAaJ,EAAYphC,KAE7B,GAAoB,iBAAfwhC,EAAL,CAQA,GAAkB,MAAbF,EAAmB,CAEvB,IAAIG,EAAYF,EAAUvmB,MAAO,KAAMxZ,MAAO,GAC1CkgC,EAAOvpB,KAAUspB,EAAW,IAC5BE,EAAKxpB,KAAUspB,EAAW,IAE1BG,EAAOL,EAAUvmB,MAAO,KAAMxZ,MAAO,GAEzCogC,EAAOA,EAAK/jB,IAAK,SAAW4gB,GAE3B,OAAOA,EAAKpjB,OAAOP,QAAS,KAAM,MAInCwmB,EAAW,cACXC,EAAY,CAAEG,EAAMC,GACpBE,EAAQN,EAAWK,QAEcjrB,IAA5ByqB,EAAaE,KAEjBF,EAAaE,GAAa,IAOV,SAAbA,IAAsBF,EAAYp+B,GAAKu+B,GAGvCD,KAAYF,GAAe7pB,KAAe6pB,EAAaE,IAE3DF,EAAaE,GAAWjjC,KAAMkjC,GAIZ,MAAbD,EAAmBF,EAAaE,GAAaC,EAC7CH,EAAYr2B,EAAIw2B,EAItBp/B,KAAKm+B,eAAgBc,EAAaE,GAGhB,MAAbA,GAA+C,MAA3BC,EAAU//B,OAAS,KAE3C4/B,EAAYr2B,EAAI+2B,EAAkBP,SApDlCp/B,KAAK4/B,yBAA0B9mB,EAAMqmB,EAAUC,IA0DjDP,2BAA4B,SAAW/lB,GAEtC,IAAImmB,EAAcj/B,KAAK89B,iBAEvBmB,EAAYr2B,GAAKkQ,EAIU,MAAtBA,EAAKzZ,OAAS,KAElB4/B,EAAYr2B,EAAI+2B,EAAkBV,EAAYr2B,KAOhDg3B,yBAA0B,SAAW9mB,EAAMqmB,EAAUC,GAMpD,IAAIS,EAAQT,EAAUvmB,MAAO,MAAO6C,IAAK,SAAWokB,GAEnD,OAAOA,EAAK5mB,OAAOP,QAAS,MAAO,IAAKA,QAAS,KAAM,OAIpDonB,EAAgBF,EAAO,GACvBG,EAAiBH,EAAO,GACxBI,EAAiBJ,EAAO,GACxBK,EAAgBL,EAAO,GACvBM,EAAiBN,EAAO,GAG5B,OAASG,GAER,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,YACL,IAAK,SACL,IAAK,SACL,IAAK,cACJG,EAAiB/mB,KAAY+mB,GAC7B,MAED,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,kBACL,IAAK,eACL,IAAK,cACJA,EAAiBR,EAAkBQ,GACnC,MAKFngC,KAAK29B,cAAeoC,GAAkB,CAErC/5B,KAAQg6B,EACRI,MAASH,EACTI,KAAQH,EACR5hC,MAAS6hC,GAIVngC,KAAKm+B,eAAgBn+B,KAAK29B,cAAeoC,KAS3CpjB,EAAavgB,UAAY,CAExB2b,YAAa4E,EAEbnE,MAAO,SAAWqE,GAEjB,IAAIyjB,EAAS,IAAI1jB,EAAcC,GAC/ByjB,EAAOC,KAAM,IAEb,IAAIziB,EAAUwiB,EAAOE,YAErBv4B,QAAQw4B,IAAK,wCAA0C3iB,GAEvD,IAAIugB,EAAW,IAAInhB,EAEnB,OAAUld,KAAK0gC,aAAcJ,GAAW,CAEvC,IAAIrX,EAAOjpB,KAAK2gC,UAAWL,EAAQxiB,GACrB,OAATmL,GAAgBoV,EAASriB,IAAKiN,EAAKprB,KAAMorB,GAI/C,OAAOoV,GAKRqC,aAAc,SAAWJ,GAUxB,OAAKA,EAAOt3B,OAAS,KAAO,GAEhBs3B,EAAOM,YAAc,IAAM,IAAO,KAAWN,EAAOt3B,OAIxDs3B,EAAOM,YAAc,IAAM,IAAMN,EAAOt3B,QAOjD23B,UAAW,SAAWL,EAAQxiB,GAE7B,IAAImL,EAAO,GAGP4X,EAAc/iB,GAAW,KAASwiB,EAAOQ,YAAcR,EAAOE,YAC9DO,EAAkBjjB,GAAW,KAASwiB,EAAOQ,YAAcR,EAAOE,YAKlEQ,GAFoBljB,GAAW,KAASwiB,EAAOQ,YAAcR,EAAOE,YAE1DF,EAAOW,YACjBpjC,EAAOyiC,EAAOY,UAAWF,GAG7B,GAAmB,IAAdH,EAAkB,OAAO,KAI9B,IAFA,IAAIM,EAAe,GAETrlC,EAAI,EAAGA,EAAIilC,EAAejlC,IAEnCqlC,EAAajlC,KAAM8D,KAAKohC,cAAed,IAKxC,IAAIz/B,EAAKsgC,EAAanlC,OAAS,EAAImlC,EAAc,GAAM,GACnD5e,EAAW4e,EAAanlC,OAAS,EAAImlC,EAAc,GAAM,GACzD1a,EAAW0a,EAAanlC,OAAS,EAAImlC,EAAc,GAAM,GAI7DlY,EAAKoY,eAAqC,IAAlBN,GAAuBT,EAAOM,cAAgBC,EAEtE,MAAQA,EAAYP,EAAOM,YAAc,CAExC,IAAIU,EAAUthC,KAAK2gC,UAAWL,EAAQxiB,GAErB,OAAZwjB,GAAmBthC,KAAKuhC,aAAc1jC,EAAMorB,EAAMqY,GAWxD,OAPArY,EAAKkY,aAAeA,EAED,kBAAPtgC,IAAkBooB,EAAKpoB,GAAKA,GACtB,KAAb0hB,IAAkB0G,EAAK1G,SAAWA,GACrB,KAAbkE,IAAkBwC,EAAKxC,SAAWA,GACzB,KAAT5oB,IAAcorB,EAAKprB,KAAOA,GAExBorB,GAIRsY,aAAc,SAAW1jC,EAAMorB,EAAMqY,GAGpC,IAAgC,IAA3BA,EAAQD,eAA0B,CAEtC,IAAI/iC,EAAQgjC,EAAQH,aAAc,GAE7B/rB,KAAe9W,IAEnB2qB,EAAMqY,EAAQzjC,MAASyjC,EAEvBA,EAAQ14B,EAAItK,GAIZ2qB,EAAMqY,EAAQzjC,MAASS,OAIlB,GAAc,gBAATT,GAA2C,MAAjByjC,EAAQzjC,KAAe,CAE5D,IAAI8jB,EAAQ,GAEZ2f,EAAQH,aAAa3hB,QAAS,SAAWxgB,EAAUlD,GAGvC,IAANA,GAAU6lB,EAAMzlB,KAAM8C,UAIFwV,IAArByU,EAAK9M,cAET8M,EAAK9M,YAAc,IAIpB8M,EAAK9M,YAAYjgB,KAAMylB,QAEjB,GAAsB,iBAAjB2f,EAAQzjC,KAA0B,CAE7C,IAAI2jC,EAAO5G,KAAa0G,GAExBE,EAAKhiB,QAAS,SAAW5gB,GAExBqqB,EAAMrqB,GAAQ0iC,EAAS1iC,UAIlB,GAAc,iBAATf,GAA4C,MAAjByjC,EAAQzjC,KAAe,CAE7D,IAIIsiC,EAJAJ,EAAgBuB,EAAQH,aAAc,GACtCnB,EAAiBsB,EAAQH,aAAc,GACvClB,EAAiBqB,EAAQH,aAAc,GACvCjB,EAAgBoB,EAAQH,aAAc,GAGD,IAApCpB,EAAct8B,QAAS,UAAiBs8B,EAAgBA,EAAcpnB,QAAS,OAAQ,SAClD,IAArCqnB,EAAev8B,QAAS,UAAiBu8B,EAAiBA,EAAernB,QAAS,OAAQ,SAI9FwnB,EAFuB,UAAnBH,GAAiD,aAAnBA,GAAoD,WAAnBA,GAAkD,aAAnBA,GAAsE,IAArCA,EAAev8B,QAAS,QAE1I,CAChB69B,EAAQH,aAAc,GACtBG,EAAQH,aAAc,GACtBG,EAAQH,aAAc,IAKNG,EAAQH,aAAc,GAKxClY,EAAM8W,GAAkB,CAEvB/5B,KAAQg6B,EACRI,MAASH,EACTI,KAAQH,EACR5hC,MAAS6hC,aAI0B3rB,IAAzByU,EAAMqY,EAAQzjC,MAEE,kBAAfyjC,EAAQzgC,IAEnBooB,EAAMqY,EAAQzjC,MAAS,GACvBorB,EAAMqY,EAAQzjC,MAAQyjC,EAAQzgC,IAAOygC,GAIrCrY,EAAMqY,EAAQzjC,MAASyjC,EAMF,aAAjBA,EAAQzjC,MAELuX,KAAe6T,EAAMqY,EAAQzjC,SAEnCorB,EAAMqY,EAAQzjC,MAAS,CAAEorB,EAAMqY,EAAQzjC,QAIxCorB,EAAMqY,EAAQzjC,MAAO3B,KAAMolC,SAEuB9sB,IAAvCyU,EAAMqY,EAAQzjC,MAAQyjC,EAAQzgC,MAEzCooB,EAAMqY,EAAQzjC,MAAQyjC,EAAQzgC,IAAOygC,IAQxCF,cAAe,SAAWd,GAEzB,IAAIt6B,EAAOs6B,EAAOY,UAAW,GAE7B,OAASl7B,GAER,IAAK,IACJ,OAAOs6B,EAAOmB,aAEf,IAAK,IACJ,OAAOnB,EAAOoB,aAEf,IAAK,IACJ,OAAOpB,EAAOqB,aAEf,IAAK,IACJ,OAAOrB,EAAOsB,WAEf,IAAK,IACJ,OAAOtB,EAAOuB,WAEf,IAAK,IACJ,IAAI7lC,EAASskC,EAAOE,YACpB,OAAOF,EAAOwB,eAAgB9lC,GAE/B,IAAK,IACAA,EAASskC,EAAOE,YACpB,OAAOF,EAAOY,UAAWllC,GAE1B,IAAK,IACJ,OAAOskC,EAAOyB,WAEf,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAEJ,IAAIC,EAAc1B,EAAOE,YACrByB,EAAW3B,EAAOE,YAClB0B,EAAmB5B,EAAOE,YAE9B,GAAkB,IAAbyB,EAEJ,OAASj8B,GAER,IAAK,IACL,IAAK,IACJ,OAAOs6B,EAAO6B,gBAAiBH,GAEhC,IAAK,IACJ,OAAO1B,EAAO8B,gBAAiBJ,GAEhC,IAAK,IACJ,OAAO1B,EAAO+B,gBAAiBL,GAEhC,IAAK,IACJ,OAAO1B,EAAOgC,cAAeN,GAE9B,IAAK,IACJ,OAAO1B,EAAOiC,cAAeP,GAMX,qBAATQ,MAEXv6B,QAAQI,MAAO,qHAIhB,IAAIo6B,EAAU,IAAID,KAAKE,QAAS,IAAI9gB,WAAY0e,EAAOwB,eAAgBI,KACnES,EAAU,IAAI/lB,EAAc6lB,EAAQG,aAAa/lB,QAErD,OAAS7W,GAER,IAAK,IACL,IAAK,IACJ,OAAO28B,EAAQR,gBAAiBH,GAEjC,IAAK,IACJ,OAAOW,EAAQP,gBAAiBJ,GAEjC,IAAK,IACJ,OAAOW,EAAQN,gBAAiBL,GAEjC,IAAK,IACJ,OAAOW,EAAQL,cAAeN,GAE/B,IAAK,IACJ,OAAOW,EAAQJ,cAAeP,GAIjC,QACC,MAAM,IAAIvnB,MAAO,0CAA4CzU,MAgBjE4W,EAAaxgB,UAAY,CAExB2b,YAAa6E,EAEbgkB,UAAW,WAEV,OAAO5gC,KAAKid,QAIbjU,KAAM,WAEL,OAAOhJ,KAAK+c,GAAGF,OAAOQ,YAIvBkjB,KAAM,SAAWvkC,GAEhBgE,KAAKid,QAAUjhB,GAOhBylC,WAAY,WAEX,OAAmC,KAAR,EAAlBzhC,KAAKihC,aAIfkB,gBAAiB,SAAWn5B,GAI3B,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAKyhC,cAId,OAAO74B,GAIRq4B,SAAU,WAET,IAAI3iC,EAAQ0B,KAAK+c,GAAGkkB,SAAUjhC,KAAKid,QAEnC,OADAjd,KAAKid,QAAU,EACR3e,GAIRyjC,SAAU,WAET,IAAIzjC,EAAQ0B,KAAK+c,GAAGglB,SAAU/hC,KAAKid,OAAQjd,KAAK8c,cAEhD,OADA9c,KAAKid,QAAU,EACR3e,GAIRsjC,SAAU,WAET,IAAItjC,EAAQ0B,KAAK+c,GAAG6kB,SAAU5hC,KAAKid,OAAQjd,KAAK8c,cAEhD,OADA9c,KAAKid,QAAU,EACR3e,GAIRgkC,cAAe,SAAWt5B,GAIzB,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK4hC,YAId,OAAOh5B,GAIR43B,UAAW,WAEV,IAAIliC,EAAQ0B,KAAK+c,GAAGyjB,UAAWxgC,KAAKid,OAAQjd,KAAK8c,cAEjD,OADA9c,KAAKid,QAAU,EACR3e,GASRujC,SAAU,WAET,IAAIgB,EAAKC,EAeT,OAbK9iC,KAAK8c,cAET+lB,EAAM7iC,KAAKwgC,YACXsC,EAAO9iC,KAAKwgC,cAIZsC,EAAO9iC,KAAKwgC,YACZqC,EAAM7iC,KAAKwgC,aAKA,WAAPsC,GAEJA,EAAgB,YAAPA,EACTD,EAAc,YAANA,EAEK,aAARA,IAAqBC,EAASA,EAAO,EAAM,YAEhDD,EAAQA,EAAM,EAAM,aAEF,WAAPC,EAAqBD,IAInB,WAAPC,EAAqBD,GAI7BN,cAAe,SAAWv5B,GAIzB,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK6hC,YAId,OAAOj5B,GAKRk4B,UAAW,WAEV,IAAI+B,EAAKC,EAcT,OAZK9iC,KAAK8c,cAET+lB,EAAM7iC,KAAKwgC,YACXsC,EAAO9iC,KAAKwgC,cAIZsC,EAAO9iC,KAAKwgC,YACZqC,EAAM7iC,KAAKwgC,aAIE,WAAPsC,EAAqBD,GAI7BlB,WAAY,WAEX,IAAIrjC,EAAQ0B,KAAK+c,GAAG4kB,WAAY3hC,KAAKid,OAAQjd,KAAK8c,cAElD,OADA9c,KAAKid,QAAU,EACR3e,GAIR+jC,gBAAiB,SAAWr5B,GAI3B,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK2hC,cAId,OAAO/4B,GAIR84B,WAAY,WAEX,IAAIpjC,EAAQ0B,KAAK+c,GAAG2kB,WAAY1hC,KAAKid,OAAQjd,KAAK8c,cAElD,OADA9c,KAAKid,QAAU,EACR3e,GAIR8jC,gBAAiB,SAAWp5B,GAI3B,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAE1M,KAAM8D,KAAK0hC,cAId,OAAO94B,GAIRk5B,eAAgB,SAAW94B,GAE1B,IAAI1K,EAAQ0B,KAAK+c,GAAGF,OAAOxd,MAAOW,KAAKid,OAAQjd,KAAKid,OAASjU,GAE7D,OADAhJ,KAAKid,QAAUjU,EACR1K,GAIR4iC,UAAW,SAAWl4B,GAKrB,IAFA,IAAIJ,EAAI,GAEE9M,EAAI,EAAGA,EAAIkN,EAAMlN,IAE1B8M,EAAG9M,GAAMkE,KAAKihC,WAIf,IAAI8B,EAAWn6B,EAAEnF,QAAS,GAG1B,OAFKs/B,GAAY,IAAIn6B,EAAIA,EAAEvJ,MAAO,EAAG0jC,IAE9BvvB,QAAkBwvB,WAAY,IAAIphB,WAAYhZ,MAUvDsU,EAAQ9gB,UAAY,CAEnB2b,YAAamF,EAEblB,IAAK,SAAWpd,EAAKq9B,GAEpBj8B,KAAMpB,GAAQq9B,IAmEhB,IAAIgH,EAAY,GAGhB,SAAS9O,EAASH,EAAoBV,EAAcS,EAAamP,GAEhE,IAAI1/B,EAEJ,OAAS0/B,EAAWtR,aAEnB,IAAK,kBACJpuB,EAAQwwB,EACR,MACD,IAAK,YACJxwB,EAAQ8vB,EACR,MACD,IAAK,YACJ9vB,EAAQuwB,EACR,MACD,IAAK,UACJvwB,EAAQ0/B,EAAW9b,QAAS,GAC5B,MACD,QACCnf,QAAQuZ,KAAM,mDAAqD0hB,EAAWtR,aAI9C,kBAA7BsR,EAAWxN,gBAAoClyB,EAAQ0/B,EAAW9b,QAAS5jB,IAEhF,IAAI+7B,EAAO/7B,EAAQ0/B,EAAWlN,SAC1BwJ,EAAKD,EAAO2D,EAAWlN,SAE3B,OAAO32B,EAAO4jC,EAAWC,EAAWrmB,OAAQ0iB,EAAMC,GAInD,IAAI2D,EAAY,IAAI3vB,QAChB4vB,EAAU,IAAI5vB,SAKlB,SAAS+V,EAAmBJ,GAE3B,IAAIka,EAAgB,IAAI7vB,QACpB8vB,EAAgB,IAAI9vB,QACpB+vB,EAAa,IAAI/vB,QACjBgwB,EAAiB,IAAIhwB,QAErBiwB,EAAY,IAAIjwB,QAChBkwB,EAAiB,IAAIlwB,QACrBmwB,EAAkB,IAAInwB,QACtBowB,EAAmB,IAAIpwB,QACvBqwB,EAAkB,IAAIrwB,QAEtBswB,EAAY,IAAItwB,QAChBuwB,EAAW,IAAIvwB,QAEfyZ,EAAgB9D,EAAc8D,YAAgB9D,EAAc8D,YAAc,EAI9E,GAFK9D,EAAcmE,aAAc+V,EAAcW,YAAaZ,EAAQhf,UAAW+E,EAAcmE,cAExFnE,EAAcqE,YAAc,CAEhC,IAAI7L,EAAQwH,EAAcqE,YAAY9R,IAAKlI,QAAW6Y,UACtD1K,EAAMzlB,KAAMitB,EAAcgE,YAC1BmW,EAAcW,sBAAuBd,EAAU/e,UAAWzC,IAI3D,GAAKwH,EAAcuE,SAAW,CAEzB/L,EAAQwH,EAAcuE,SAAShS,IAAKlI,QAAW6Y,UACnD1K,EAAMzlB,KAAMitB,EAAcgE,YAC1BoW,EAAWU,sBAAuBd,EAAU/e,UAAWzC,IAIxD,GAAKwH,EAAcyE,aAAe,CAE7BjM,EAAQwH,EAAcyE,aAAalS,IAAKlI,QAAW6Y,UACvD1K,EAAMzlB,KAAMitB,EAAcgE,YAC1BqW,EAAeS,sBAAuBd,EAAU/e,UAAWzC,IAIvDwH,EAAc2E,OAAQ2V,EAAU3V,MAAOsV,EAAQhf,UAAW+E,EAAc2E,QAGxE3E,EAAc6E,eAAgB2V,EAAgBK,YAAaZ,EAAQhf,UAAW+E,EAAc6E,gBAC5F7E,EAAc+E,cAAewV,EAAeM,YAAaZ,EAAQhf,UAAW+E,EAAc+E,eAC1F/E,EAAciF,gBAAiBwV,EAAiBI,YAAaZ,EAAQhf,UAAW+E,EAAciF,iBAC9FjF,EAAcmF,eAAgBuV,EAAgBG,YAAaZ,EAAQhf,UAAW+E,EAAcmF,gBAG5FnF,EAAcC,oBAAoB0a,EAAY3a,EAAcC,mBAGjE,IAAI8a,EAAOZ,EAActH,SAAUuH,GAAavH,SAAUwH,GACtDW,EAAa,IAAI3wB,QACrBswB,EAAUM,gBAAiBD,GAG3B,IACIE,EACAC,EACAC,EAOAC,EAVAC,EAAY,IAAIjxB,QAWpB,GANAixB,EAAUC,aAAcZ,GACxBS,EAAcE,EAAUE,WAAYF,GAAYzI,SAAU8H,GAC1DQ,EAAaH,EAAWQ,WAAYR,GAAanI,SAAUuI,GAC3DF,EAAOZ,EAGc,IAAhBxW,EAEJuX,EAAYL,EAAWnI,SAAUkI,GAAOlI,SAAUsI,GAAatI,SAAUqI,QAEnE,GAAqB,IAAhBpX,EAEXuX,EAAYL,EAAWnI,SAAUsI,GAAatI,SAAUkI,GAAOlI,SAAUqI,OAEnE,CAEN,IAAIO,GAAa,IAAIpxB,SAAgBiI,KAAMgoB,GAEvCoB,EAAqBP,EAAWtI,SAAU4I,EAAWD,WAAYC,IAErEJ,EAAYL,EAAWnI,SAAUkI,GAAOlI,SAAU6I,GAAqB7I,SAAUqI,GAKlF,IAAIS,EAAazB,EAAcrH,SAAU4H,GAAmB5H,SAAU6H,GAAkB7H,SAAUsH,GAAgBtH,SAAUuH,GAAavH,SAAUwH,GAAiBxH,SAAU6H,EAAgBc,WAAYd,IAAoB7H,SAAU2H,GAAkB3H,SAAU0H,GAAiB1H,SAAUyH,GAAYzH,SAAU0H,EAAeiB,WAAYjB,IAE5UqB,GAAmC,IAAIvxB,SAAgBkxB,aAAcI,GAErEE,EAAqBlB,EAAU9H,SAAU+I,GAK7C,OAJAhB,EAASW,aAAcM,GAEvBF,EAAaf,EAAS/H,SAAUwI,GAEzBM,EAMR,SAAS1X,EAAeuJ,GAEvBA,EAAQA,GAAS,EAEjB,IAAIsO,EAAQ,CACX,MACA,MACA,MACA,MACA,MACA,OAID,OAAe,IAAVtO,GAEJ1uB,QAAQuZ,KAAM,uGACPyjB,EAAO,IAIRA,EAAOtO,GAMf,SAASgJ,EAAkBrhC,GAE1B,IAAIqjB,EAAQrjB,EAAMua,MAAO,KAAM6C,IAAK,SAAWugB,GAE9C,OAAO7iB,KAAY6iB,KAIpB,OAAOta,EAIR,SAASrE,EAA4BT,EAAQ0iB,EAAMC,GAKlD,YAHchrB,IAAT+qB,IAAqBA,EAAO,QACrB/qB,IAAPgrB,IAAmBA,EAAK3iB,EAAOQ,YAE7B7J,QAAkBwvB,WAAY,IAAIphB,WAAY/E,EAAQ0iB,EAAMC,IAIpE,SAASE,EAAQ92B,EAAGwN,GAEnB,IAAM,IAAIta,EAAI,EAAGkB,EAAI4L,EAAE5M,OAAQyB,EAAI2Y,EAAEpa,OAAQF,EAAI2B,EAAG3B,IAAMkB,IAEzD4L,EAAG5L,GAAMoZ,EAAGta,GAMd,SAASuD,EAAOuJ,EAAGwN,EAAGmpB,EAAMC,GAE3B,IAAM,IAAI1jC,EAAIyjC,EAAMviC,EAAI,EAAGlB,EAAI0jC,EAAI1jC,IAAMkB,IAExC4L,EAAG5L,GAAMoZ,EAAGta,GAIb,OAAO8M,EAKR,SAAS80B,EAAQwH,EAAI1hC,EAAO2hC,GAE3B,OAAOD,EAAG7lC,MAAO,EAAGmE,GAAQoX,OAAQuqB,GAAKvqB,OAAQsqB,EAAG7lC,MAAOmE,IAI5D,OAAO6Y,EAhhIY,GCEpB,IAAAkzB,GAAA,WACA,IACA,IAAAC,EAAAlmC,SAAAG,cAAA,UACA,SACAtK,OAAAswC,wBACAD,EAAAE,WAAA,WAAAF,EAAAE,WAAA,uBAEA,MAAAC,GACA,UARA,GAYAC,GAAA,CACA/P,MAAA,oCACArkC,KAFA,WAGA,OAEAq0C,MAAA,KAEAN,eAEAO,OAAA,KAEAC,MAAA,IAAAC,GAAA,KAEAC,QAAA,OAIAC,QAjBA,WAmBAlwC,KAAA8vC,OAAA,IAAAE,GAAA,KACA,GACAhwC,KAAAmwC,IAAAC,YAAApwC,KAAAmwC,IAAAE,aACA,IACA,KAGArwC,KAAA+vC,MAAA/zB,IAAA,IAAAg0B,GAAA,gBAEAhwC,KAAA+vC,MAAA5mC,YAAA,IAAA6mC,GAAA,MACA13B,QAAA,gBACAN,KAAA,yDAEAhY,KAAAiwC,QAAA,IAAAD,GAAA,iBAAAhwC,KAAA8vC,OAAA9vC,KAAA8I,MAAAwnC,OAEAtwC,KAAA8vC,OAAAjjC,SAAAuW,EAAApjB,KAAAqQ,eAAAtM,OACA/D,KAAAiwC,QAAAvhB,OAAA5O,IAAA,EAAA9f,KAAAqQ,eAAAtM,OAAA,GACA/D,KAAAiwC,QAAAtK,YAAA3lC,KAAAqQ,eAAAwb,SACA7rB,KAAAiwC,QAAArK,YAAA5lC,KAAAqQ,eAAAwb,SAGA7rB,KAAAiwC,QAAAvJ,WAAA,EACA1mC,KAAAiwC,QAAAjJ,YAAA,EACAhnC,KAAAiwC,QAAA7H,SAEApoC,KAAAuwC,SAAA,IAAAP,GAAA,OACAQ,WAAA,EACAC,uBAAA,EACAC,OAAA,EACAlB,OAAAxvC,KAAA8I,MAAAwnC,QAEAtwC,KAAA2wC,WAEA3wC,KAAA4wC,UAEAzxC,OAAA0vC,iBAAA,SAAA7uC,KAAA2wC,UAAA,IAQAE,cA9DA,WAgEA1xC,OAAA0qC,oBAAA,SAAA7pC,KAAA2wC,UAAA,GAEAG,qBAAA9wC,KAAA6vC,QAEAjoC,QAAA,CAEA+oC,SAFA,WAGA,IAAAjsC,EAAA1E,KAAAmwC,IAAAC,YACArsC,EAAA/D,KAAAmwC,IAAAE,aAEArwC,KAAA8vC,OAAA7kB,OAAAvmB,EAAAX,EACA/D,KAAA8vC,OAAA5H,yBAEAloC,KAAAuwC,SAAAQ,QAAArsC,EAAAX,GACA/D,KAAAuwC,SAAAS,cAAA7xC,OAAA8xC,kBAAA,IAGAL,QAbA,WAcA5wC,KAAA6vC,MAAAqB,sBAAAlxC,KAAA4wC,SACA5wC,KAAAuwC,SAAAY,OAAAnxC,KAAA+vC,MAAA/vC,KAAA8vC,SAEAsB,YAjBA,WAiBA,IAAAvpC,EAAA7H,KACA,MAAAA,KAAAiR,gBACAjR,KAAAiR,eAAAyK,IAAA,SAAAnY,GACA,IAAA8tC,EAAA9tC,EAAA4L,cACAmiC,EAAA/tC,EAAAguC,gBACAC,EAAA,KACA,MAAAjuC,EAAA8O,OAAAg/B,KACAG,EAAAjuC,EAAA8O,OAAAg/B,GAAAI,KAEA,IAAAC,EAAA,KACA,MAAAnuC,EAAA6L,SAAAkiC,KACAI,EAAAnuC,EAAA6L,SAAAkiC,GAAAG,KAEA,MAAAD,IACA,MAAAE,GACAF,EAAAxoB,SAAA,SAAAzD,GACAA,EAAAoK,SAEA+hB,EAAAxuB,OAAApD,IACAjY,EAAAwI,eAAAshC,YACA9pC,EAAAwI,eAAAshC,aAEApsB,EAAArQ,SAAAwG,IAAAg2B,KAIAnuC,EAAA8O,OAAAqJ,IAAA,SAAA3M,EAAAvL,GACA,MAAAuL,EAAA0iC,MAIA5pC,EAAAkoC,MAAA/zB,IAAAjN,EAAA0iC,KAEA1iC,EAAA0iC,IAAAG,QADApuC,GAAA6tC,SAYAQ,SA7DA,WA8DA,IAAAC,EAAA9xC,KAAA8I,MAAAwnC,MAAA3mC,UAAA,iBACAooC,EAAAD,EAAAj5B,MAAA,KACAm5B,EAAAD,EAAA,GAAAl0B,MAAA,cACAo0B,EAAAC,KAAAH,EAAA,IACAjzC,EAAAmzC,EAAAj2C,OACAm2C,EAAA,IAAAvwB,WAAA9iB,GACA,MAAAA,IACAqzC,EAAArzC,GAAAmzC,EAAAG,WAAAtzC,GAEA,WAAAuzC,KAAA,CAAAF,GAAA,aAAAnsC,KAAAgsC,MAGA7nC,MAAA,CACAkG,eAAA,CACAiiC,QADA,WAEAzb,MAAA72B,KAAAqQ,eAAAtM,UACA/D,KAAA8vC,OAAAjjC,SAAAuW,EAAApjB,KAAAqQ,eAAAtM,OACA/D,KAAAiwC,QAAAvhB,OAAA5O,IAAA,EAAA9f,KAAAqQ,eAAAtM,OAAA,GACA/D,KAAAiwC,QAAA7H,UAEAvR,MAAA72B,KAAAqQ,eAAAwb,YACA7rB,KAAAiwC,QAAAtK,YAAA3lC,KAAAqQ,eAAAwb,SACA7rB,KAAAiwC,QAAArK,YAAA5lC,KAAAqQ,eAAAwb,SACA7rB,KAAAiwC,QAAA7H,UAEAvR,MAAA72B,KAAAqQ,eAAAshC,cACA3xC,KAAAoxC,eAGAmB,MAAA,KCpMiZC,GAAA,GCO7YC,GAAYt2C,OAAAsE,EAAA,KAAAtE,CACdq2C,GACApN,GACAI,IACF,EACA,KACA,KACA,MAIekN,GAAAD,WC6bfE,GAAA,CACAnrC,WAAA,CACAkrC,eAEA7S,MAAA,QACArkC,KAAA,kBAEA0W,UAAA,KAEAxD,YAAA,EACAsB,cAAA,EAEAE,mBAAA,KACA0C,gBAAA,KACAC,kBAAA,KACA/B,WAAA,KACAb,cAAA,KACAU,cAAA,KACA/B,gBAAA,KAEAkB,eAAA,KACAjB,cAAA,GACAkB,eAAA,GAEAlS,KAAA,GACAwS,eAAA,CACAtM,OAAA,GACA8nB,SAAA,GACA8lB,YAAA,EACArhC,UAAA,IACAG,YAAA,KAEAQ,eAAA,GAEA7L,UAAA,GACAH,UAAA,EACAc,aAAA,EACAE,cAAA,EACAI,cAAA,KAEA8D,MAAA,CAEA+F,mBAFA,WAGAlQ,KAAA6O,cAAA,KAGA+jC,QAAA,CACAC,SAAA,SAAAv0C,GACA,OAAAA,EAAA,WAAAw0C,QAAA,WAGAlrC,QAAA,CACAoL,YADA,WAEA,IAAA3O,EAAA,EACArE,KAAAiF,WAEAZ,EADArE,KAAA+F,YACA,EAEA,GAGA/F,KAAA8H,MACAC,KACA,gBACA,CACArE,IAAA1D,KAAA0D,IACAW,QACAkE,SAAAvI,KAAAqG,eAEA,IAEA2B,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,IAEA,SAAA6M,GACAJ,QAAAC,KAAAG,KAGArI,KAAA2Q,eAAA,GAEA9K,SA9BA,WA+BA7F,KAAA8I,MAAA1D,UAAAgE,MAAA7D,QAAA,SACAvF,KAAA8I,MAAA1D,UAAAiE,SACAC,SAAAC,YAAA,QACAvJ,KAAA8I,MAAA1D,UAAAgE,MAAA7D,QAAA,QAEAK,WApCA,WAqCA5F,KAAA8I,MAAAU,UAAAJ,MAAA7D,QAAA,SACAvF,KAAA8I,MAAAU,UAAAH,SACAC,SAAAC,YAAA,QACAvJ,KAAA8I,MAAAU,UAAAJ,MAAA7D,QAAA,QAEAO,OA1CA,WA2CA,IAAA8C,EAAAU,SAAAG,cAAA,KACAb,EAAAc,KAAA1J,KAAA8I,MAAAC,GAAAY,UAAA,aACAf,EAAAgB,SAAA,SACA,IAAAC,EAAAP,SAAAQ,YAAA,eACAD,EAAAE,UAAA,eACAnB,EAAAoB,cAAAH,IAEA8I,aAlDA,WAmDA,IAAA9D,EAAA7O,KAAA6O,cAAA8J,QAAA,WACA9J,EAAA7S,OAAA,GACAgE,KAAAiR,eAAA/U,KAAA,CACA2S,gBACAM,eAAA,EACAoiC,iBAAA,EACAl/B,OAAA,GACAjD,SAAA,KAEApP,KAAAkQ,oBAAA,GAEAsB,WA9DA,WA+DA,QAAA1V,EAAA,EAAAkB,EAAAgD,KAAA8I,MAAA6I,KAAAohC,MAAA/2C,OAAAF,EAAAkB,EAAAlB,IACAkE,KAAA+P,eAAA7T,KAAA8D,KAAA8I,MAAA6I,KAAAohC,MAAAj3C,IAGAkE,KAAA8I,MAAA6I,KAAArT,MAAA,IAEAuT,kBArEA,WAqEA,IAAAhK,EAAA7H,KACA,GAAAA,KAAA8I,MAAAkJ,YAAA+gC,MAAA/2C,OAAA,GACAgE,KAAA4S,iBAAA,EACA,IAAAogC,EAAA,IAAAC,SACAD,EAAAtT,OAAA,MAAA1/B,KAAA0D,KACA,QAAA5H,EAAA,EAAAkB,EAAAgD,KAAA8I,MAAAkJ,YAAA+gC,MAAA/2C,OAAAF,EAAAkB,EAAAlB,IACAk3C,EAAAtT,OAAA,QAAA1/B,KAAA8I,MAAAkJ,YAAA+gC,MAAAj3C,IAEAkE,KAAA8H,MACAC,KAAA,sBAAAirC,EAAA,CACAE,QAAA,CAAAC,eAAA,yBAEAnrC,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACA5M,EAAA2M,KAAA3M,KAAA43C,YAAA13B,IAAA,SAAAnY,GACAsE,EAAAoJ,eAAApJ,EAAAiI,gBAAAV,SAAAlT,KAAAqH,KAGAsE,EAAA+K,iBAAA,GAEA,SAAAvK,GACAJ,QAAAC,KAAAG,KAIArI,KAAA8I,MAAAkJ,YAAA1T,MAAA,KAGAsT,YAnGA,WAmGA,IAAAtJ,EAAAtI,KACA,GAAAA,KAAA+P,eAAA/T,OAAA,GACAgE,KAAAgQ,cAAA,EACAhQ,KAAA4S,iBAAA,EACA,IAAAogC,EAAA,IAAAC,SACAD,EAAAtT,OAAA,MAAA1/B,KAAA0D,KACA1D,KAAA+P,eAAA2L,IAAA,SAAAnY,GACAyvC,EAAAtT,OAAA,QAAAn8B,KAEAvD,KAAA8H,MACAC,KAAA,oBAAAirC,EAAA,CACAE,QAAA,CAAAC,eAAA,yBAEAnrC,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACA5M,EAAA2M,KAAA3M,KAAA43C,YAAA13B,IAAA,SAAAnY,GACA+E,EAAA2I,eAAA3I,EAAAwH,gBAAAuC,OAAAnW,KAAAqH,KAGA+E,EAAAsK,iBAAA,GAEA,SAAAvK,GACAJ,QAAAC,KAAAG,OAKAuI,QAhIA,WAgIA,IAAApI,EAAAxI,KACAA,KAAA8H,MAAA5J,IAAA,WAAA8B,KAAA0D,IAAA,OAAAsE,KACA,SAAAxM,GAEA,GADAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,KAAA,CACAI,EAAA3K,KAAArC,EAAA2M,KAAA3M,KAAAqC,KACA2K,EAAApD,UAAA5J,EAAA2M,KAAA3M,KAAA4J,UACAoD,EAAAnC,cAAA7K,EAAA2M,KAAA3M,KAAA+M,SACA,IAAAI,EAAAC,EAAA,CACAC,QAAAL,EAAAM,MAAAC,GACAC,KAAA,IACAC,MAAA,IACAC,WAAA,UACAC,WAAA,OACA7K,MAAAkK,EAAApD,YAEA,OAAA5J,EAAA2M,KAAA3M,KAAA6I,OACA,OACAmE,EAAAvD,UAAA,EACAuD,EAAAzC,aAAA,EACA,MACA,OACAyC,EAAAvD,UAAA,EACAuD,EAAAzC,aAAA,EACA,MACA,OACAyC,EAAAvD,UAAA,EACAuD,EAAAzC,aAAA,EACA,MAEA,IAAAkL,EAAAoiC,KAAA76B,MAAAhd,EAAA2M,KAAA3M,WACA6U,EAAAgjC,KAAA76B,MAAAhd,EAAA2M,KAAA3M,KAAAs0C,QACA7+B,IAAAzI,EAAAyI,kBACAZ,IAAA7H,EAAA6H,kBACA,IAAAyH,EAAA,IAAAk4B,GAAA,gBACAxnC,EAAAqK,mBAAA,IAEArK,EAAAyI,eAAAyK,IAAA,SAAAnY,EAAAC,GACA,IAAA6tC,EAAA9tC,EAAA4L,cACAmiC,EAAA/tC,EAAAguC,gBAEA,MAAAhuC,EAAA8O,OAAAg/B,KACA7oC,EAAAqK,mBAAA,EACArK,EAAA0G,YAAA1L,EAAA6tC,EAAAv5B,IAEA,MAAAvU,EAAA6L,SAAAkiC,KACA9oC,EAAAqK,mBAAA,EACArK,EAAAiH,cAAAjM,EAAA8tC,EAAAx5B,WAGA,GAAAtc,EAAA2M,KAAAC,KACAI,EAAAC,QAAAvM,KAAA,KAEAsM,EAAAC,QAAAvM,KAAA,UAGA,SAAAmM,GACAJ,QAAAC,KAAAG,MAIAwI,WA7LA,WA8LA,IAAAmiC,EAAA,IAAAC,SACAD,EAAAtT,OAAA,MAAA1/B,KAAA0D,KACAsvC,EAAAtT,OAAA,OAAA1/B,KAAAnC,MACAm1C,EAAAtT,OAAA,OAAA1/B,KAAA8I,MAAAwqC,WAAAzB,YAEAmB,EAAAtT,OACA,OACA6T,KAAAvzC,KAAAiR,eAAA,SAAArS,EAAAN,GACA,aAAAM,EACA,KAEAN,KAIA00C,EAAAtT,OAAA,SAAA6T,KAAAvzC,KAAAqQ,iBACArQ,KAAA8H,MACAC,KAAA,eAAAirC,EAAA,CACAE,QAAA,CAAAC,eAAA,yBAEAnrC,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,IAEA,SAAA6M,GACAJ,QAAAC,KAAAG,MAIA6G,YA3NA,SA2NAY,EAAAuhC,EAAAv5B,GAAA,IAAA7N,EAAAjK,KACA,MAAA8X,IACA9X,KAAA6S,mBAAA,EACAiF,EAAA,IAAAk4B,GAAA,gBACA/lC,EAAA4I,mBAAA,KAGA,IAAA9R,EAAAf,KAAAiR,eAAAnB,GAAAuC,OAAAg/B,GACA,MAAAtwC,EAAA0wC,IAMA,QAHA1wC,EAAA2O,KACAmJ,MAAA,KACAsI,MACAzG,cAEA,IAAAs1B,GAAA,aAAAl4B,GAAAE,KACAjX,EAAA2O,KAEA,SAAA+hC,GACAA,EAAAzoB,SAAA,SAAAzD,GACAA,EAAAoK,SACApK,EAAArQ,SAAAs+B,KAAAxD,GAAA,QAGAjvC,EAAA0wC,MACAxnC,EAAAgH,eAAAnB,GAAAX,cAAAkiC,EACApnC,EAAAnB,MAAAwqC,WAAAlC,gBAQA,QAHArwC,EAAA2O,KACAmJ,MAAA,KACAsI,MACAzG,eAEA,IAAAs1B,GAAA,aAAAl4B,GAAAE,KACAjX,EAAA2O,KACA,SAAA+hC,GACAA,EAAAzoB,SAAA,SAAAzD,GACAA,EAAAoK,SACApK,EAAArQ,SAAAs+B,KAAAxD,GAAA,QAGAjvC,EAAA0wC,MACAxnC,EAAAgH,eAAAnB,GAAAX,cAAAkiC,EACApnC,EAAAnB,MAAAwqC,WAAAlC,eAEA,SAAAqC,GACAA,EAAAC,oBAOA1zC,KAAAiR,eAAAnB,GAAAX,cAAAkiC,EACArxC,KAAA8I,MAAAwqC,WAAAlC,cACApxC,KAAA6S,mBAAA,IAGApD,cAzRA,SAyRAK,EAAAwhC,EAAAx5B,GAAA,IAAA5N,EAAAlK,KACA,MAAA8X,IACA9X,KAAA6S,mBAAA,EACAiF,EAAA,IAAAk4B,GAAA,gBACA9lC,EAAA2I,mBAAA,KAGA,IAAAsP,EAAAniB,KAAAiR,eAAAnB,GAAAV,SAAAkiC,GACA,MAAAnvB,EAAAsvB,IACA,IAAAzB,GAAA,MAAAl4B,GAAAE,KAAAmK,EAAAzS,KAAA,SAAA+hC,GACAtvB,EAAAsvB,MACAvnC,EAAA+G,eAAAnB,GAAAyhC,gBAAAD,EACApnC,EAAApB,MAAAwqC,WAAAlC,iBAGApxC,KAAAiR,eAAAnB,GAAAyhC,gBAAAD,EACAtxC,KAAA8I,MAAAwqC,WAAAlC,cACApxC,KAAA6S,mBAAA,IAGAd,WA7SA,SA6SAjC,EAAAwhC,GACAtxC,KAAAiR,eAAAnB,GAAAV,SAAAlS,OAAAo0C,EAAA,IAEAh/B,SAhTA,SAgTAxC,EAAAuhC,GACA,IAAAtwC,EAAAf,KAAAiR,eAAAnB,GAAAuC,OAAAg/B,GAAAI,IACA,MAAA1wC,GACAA,EAAA6nB,OAAA+qB,OAAA5yC,GAEAf,KAAAiR,eAAAnB,GAAAuC,OAAAnV,OAAAm0C,EAAA,IAEA7+B,aAvTA,SAuTA1C,GAAA,IAAA8jC,GAAA,EAAAC,GAAA,EAAAC,OAAAt/B,EAAA,IACA,QAAAu/B,EAAAC,EAAAC,KAAAj0C,KAAAiR,eAAAnB,GAAAuC,UAAAuhC,GAAAG,EAAAC,EAAAE,QAAAC,MAAAP,GAAA,OAAAQ,EAAAL,EAAAz1C,MACA,MAAA81C,EAAA3C,KACA2C,EAAA3C,IAAA7oB,OAAA+qB,OAAAS,EAAA3C,MAHA,MAAA4C,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,GAMA9zC,KAAAiR,eAAA/T,OAAA4S,EAAA,KAGA1F,QAnXA,WAoXApK,KAAA4Q,YCn0BgY2jC,GAAA,2GCO5XC,GAAYr4C,OAAAsE,EAAA,KAAAtE,CACdo4C,GACAhmC,GACAgF,IACF,EACA,KACA,KACA,MAIekhC,GAAAD,GAAiB,QAyChC9pC,IAAkB8pC,GAAS,CAAG7pC,OAAA,KAAKC,OAAA,KAAKC,QAAA,KAAMC,aAAAC,EAAA,KAAaC,UAAAD,EAAA,KAAUE,aAAA,KAAWC,aAAA,KAAWC,WAAA,KAASC,UAAA,KAAQC,WAAA,KAASC,QAAA,KAAME,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAM+oC,cAAA,KAAW9oC,YAAA,KAAUC,kBAAA,KAAgBE,iBAAAC,EAAA,KAAiB2oC,kBAAA3oC,EAAA,KAAkBC,eAAAD,EAAA,KAAeE,oBAAA,KAAkB0oC,qBAAA,KAAkBC,mBAAA,KAAgBC,WAAA,KAAQ3oC,QAAAC,EAAA,KAAQ2oC,cAAA,KAAW1oC,UAAA,KAAQ2oC,QAAA,KAAKC,YAAA,KAASC,SAAA,KAAM5oC,aAAA,KAAWC,WAAA,KAASC,cAAAC,EAAA,KAAcC,mBAAA,KAAiBC,cAAAF,EAAA,KAAc6B,YAAA,OC3DvZ,IAAI6mC,GAAM,WAAgB,IAAAp1C,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAAA,EAAA,aAAmCE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,GAAAtD,IAAA,GAAAoT,eAAA,KAAoD,CAAAvQ,EAAA,uBAA4BmB,GAAA,CAAIC,MAAA,SAAAC,GAAyBzB,EAAA2O,YAAA3O,EAAA2O,eAAmCvO,EAAA,mBAAAJ,EAAAkC,GAAAlC,EAAA8B,GAAA9B,EAAAlC,UAAA,GAAAsC,EAAA,aAAuEmF,YAAA,CAAavB,OAAA,MAAAgN,mBAAA,SAA0C,CAAA5Q,EAAA,cAAmBkF,IAAA,aAAAhF,MAAA,CAAwB2Q,kBAAAjR,EAAAkR,eAAAC,kBAAAnR,EAAAsQ,kBAA2ElQ,EAAA,gBAAqBE,MAAA,CAAOgN,OAAA,GAAA8D,MAAA,GAAAikC,UAAA,MAAApoC,WAAA,8BAAmFM,YAAAvN,EAAAwN,GAAA,EAAsB3O,IAAA,YAAA4O,GAAA,WAA8B,OAAArN,EAAA,SAAoBE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,GAAAy0C,IAAA,IAAiCt0C,MAAA,CAAQzC,MAAAyB,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAAs1C,IAAAp0C,GAAYE,WAAA,QAAmB,CAAAhB,EAAA,UAAAJ,EAAAkC,GAAA,SAAA9B,EAAA,UAAAJ,EAAAkC,GAAA,iBAAmE6M,OAAA,KAAY/N,MAAA,CAAUzC,MAAAyB,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAAs1C,IAAAp0C,GAAYE,WAAA,QAAmB,CAAAhB,EAAA,SAAcE,MAAA,CAAOg1C,IAAA,GAAAz0C,KAAA,GAAA+E,MAAA,GAAAxD,MAAA,QAA6Cb,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAAu1C,cAAA,KAAwB,CAAAn1C,EAAA,UAAAJ,EAAAkC,GAAA,cAAA9B,EAAA,SAAgDE,MAAA,CAAOg1C,IAAA,GAAAz0C,KAAA,GAAA+E,MAAA,GAAAxD,MAAA,SAA8Cb,GAAA,CAAKC,MAAA,SAAAC,GAAyBzB,EAAAw1C,aAAiBx1C,EAAAy1C,eAAA,KAAyB,CAAAr1C,EAAA,UAAAJ,EAAAkC,GAAA,yBAAA9B,EAAA,YAA8DE,MAAA,CAAOwE,WAAA,GAAAH,MAAA,OAA8B3D,MAAA,CAAQzC,MAAAyB,EAAA,kBAAAiB,SAAA,SAAAC,GAAuDlB,EAAA8S,kBAAA5R,GAA0BE,WAAA,sBAAiC,CAAAhB,EAAA,UAAeE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,KAAyB,CAAAT,EAAA,eAAAJ,EAAAkC,GAAA,6BAAA9B,EAAA,qBAAgFiB,YAAA,OAAAf,MAAA,CAA0BwP,cAAA,GAAA1N,MAAA,YAAoC,WAAAhC,EAAA,YAA6BE,MAAA,CAAOwE,WAAA,GAAAC,YAAA,OAAkC/D,MAAA,CAAQzC,MAAAyB,EAAA,eAAAiB,SAAA,SAAAC,GAAoDlB,EAAA01C,eAAAx0C,GAAuBE,WAAA,mBAA8B,CAAAhB,EAAA,UAAAA,EAAA,gBAAkCiB,YAAA,YAAuB,CAAArB,EAAAkC,GAAA,eAAA9B,EAAA,eAAAA,EAAA,gBAA6DE,MAAA,CAAOoC,MAAA,KAAAyC,QAAA,GAAAc,KAAA,YAA4CjF,MAAA,CAAQzC,MAAAyB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAAwI,SAAAtH,GAAiBE,WAAA,eAAwB,GAAAhB,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAsDE,MAAA,CAAO8B,MAAA,iBAAAI,KAAA,IAAmCjB,GAAA,CAAKC,MAAAxB,EAAA21C,WAAsB,CAAA31C,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOyE,YAAA,SAAoB/D,MAAA,CAAQzC,MAAAyB,EAAA,aAAAiB,SAAA,SAAAC,GAAkDlB,EAAAu1C,aAAAr0C,GAAqBE,WAAA,iBAA4B,CAAAhB,EAAA,UAAAA,EAAA,gBAAAJ,EAAAkC,GAAA,UAAA9B,EAAA,aAAAA,EAAA,eAAAA,EAAA,gBAAwGE,MAAA,CAAO8R,cAAA,GAAAjN,QAAA,IAA8BnE,MAAA,CAAQzC,MAAAyB,EAAA,KAAAiB,SAAA,SAAAC,GAA0ClB,EAAAwY,KAAAtX,GAAaE,WAAA,WAAoB,GAAAhB,EAAA,aAAAA,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAsEE,MAAA,CAAO8B,MAAA,iBAAAI,KAAA,IAAmCjB,GAAA,CAAKC,MAAAxB,EAAA41C,SAAoB,CAAA51C,EAAAkC,GAAA,oBAAA9B,EAAA,YAA4CE,MAAA,CAAOu1C,WAAA,GAAA9wC,YAAA,SAAoC/D,MAAA,CAAQzC,MAAAyB,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAAy1C,cAAAv0C,GAAsBE,WAAA,kBAA6B,CAAAhB,EAAA,UAAAA,EAAA,gBAAkCiB,YAAA,6BAAwC,CAAArB,EAAAkC,GAAA,SAAA9B,EAAA,aAAAA,EAAA,eAAoDmF,YAAA,CAAavB,OAAA,UAAkB,CAAA5D,EAAA,UAAeE,MAAA,CAAO8P,WAAA,KAAepQ,EAAAuD,GAAAvD,EAAA,qBAAAwD,GAAyC,OAAApD,EAAA,OAAiBvB,IAAA2E,EAAAmV,MAAc,CAAAvY,EAAA,eAAAA,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAAlC,EAAA8B,GAAA0B,EAAAgV,SAAApY,EAAA,yBAA8HiB,YAAA,+BAA0C,CAAArB,EAAAkC,GAAAlC,EAAA8B,GAAA9B,EAAA0R,GAAA,aAAA1R,CAAAwD,EAAAmV,WAAA,OAAAvY,EAAA,mBAAgF,eAAAA,EAAA,uBAA2CE,MAAA,CAAOmO,SAAA,GAAA1N,MAAA,GAAA2N,QAAA,GAAAnR,IAAA,IAA+CyD,MAAA,CAAQzC,MAAAyB,EAAA,WAAAiB,SAAA,SAAAC,GAAgDlB,EAAA2O,WAAAzN,GAAmBE,WAAA,eAA0B,CAAAhB,EAAA,UAAeE,MAAA,CAAO8B,MAAA,MAAAvB,KAAA,GAAAi1C,mBAAA,GAAAC,cAAA,IAA+D/0C,MAAA,CAAQzC,MAAAyB,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAAg2C,IAAA90C,GAAYE,WAAA,QAAmB,CAAAhB,EAAA,iBAAsBE,MAAA,CAAO8B,MAAA,YAAkBpC,EAAAuD,GAAAvD,EAAA,wBAAAwD,EAAAC,GAAmD,OAAArD,EAAA,SAAmBvB,IAAA4E,EAAAnD,MAAA,CAAiBqR,OAAA,KAAa,CAAA3R,EAAAkC,GAAAlC,EAAA8B,GAAA0B,EAAAsL,qBAAuC,GAAA1O,EAAA,gBAAyBmF,YAAA,CAAauH,SAAA,WAAAmpC,OAAA,MAAAtxC,MAAA,QAAoD3D,MAAA,CAAQzC,MAAAyB,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAAg2C,IAAA90C,GAAYE,WAAA,QAAmBpB,EAAAuD,GAAAvD,EAAA,wBAAAwD,EAAAC,GAAkD,OAAArD,EAAA,cAAwBvB,IAAA4E,GAAU,CAAArD,EAAA,UAAeE,MAAA,CAAOkC,KAAA,KAAW,CAAApC,EAAA,eAAAJ,EAAAuD,GAAAC,EAAA,gBAAAwL,EAAAC,GAAoE,OAAA7O,EAAA,eAAyBvB,IAAAmQ,EAAAE,IAAA5O,MAAA,CAAuB8B,MAAA,mBAA0Bb,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAAmP,YAAA1L,EAAAwL,MAAyC,CAAA7O,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAkC,GAAA,uBAAAlC,EAAA8B,GAAAkN,EAAAlR,MAAA,yBAAAmR,GAAAzL,EAAA4L,cAAAhP,EAAA,UAA4KE,MAAA,CAAOsF,MAAA,KAAY,CAAA5F,EAAAkC,GAAA,gBAAAlC,EAAAwE,MAAA,aAA8CpE,EAAA,aAAAoD,EAAA6L,SAAApT,OAAA,EAAAmE,EAAA,eAA6DE,MAAA,CAAOgP,eAAA,GAAAvM,MAAA,KAA8B,CAAA3C,EAAA,YAAiBE,MAAA,CAAO+C,IAAA,GAAAC,KAAA,KAAoBtD,EAAAuD,GAAAC,EAAA,kBAAAwL,EAAAC,GAAmD,OAAA7O,EAAA,UAAoBvB,IAAAmQ,EAAAE,IAAA5O,MAAA,CAAuBiP,IAAA,GAAAC,SAAA,KAAsB,CAAApP,EAAA,UAAeiB,YAAA,SAAAf,MAAA,CAA4BkC,KAAA,GAAAiN,KAAA,IAAoBlO,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA0P,cAAAjM,EAAAwL,MAA2C,CAAA7O,EAAA,SAAciB,YAAA,iBAAAf,MAAA,CAAoCqB,IAAAqN,EAAAW,KAAA,WAAAC,eAAA,KAAiDrC,YAAAvN,EAAAwN,GAAA,EAAsB3O,IAAA,cAAA4O,GAAA,WAAgC,OAAArN,EAAA,YAAuBE,MAAA,CAAO0C,cAAA,GAAAE,eAAA,GAAAD,iBAAA,GAAA4M,OAAA,KAAkE,CAAAzP,EAAA,uBAA4BE,MAAA,CAAOwP,cAAA,GAAA1N,MAAA,qBAA6C,KAAO2M,OAAA,IAAY,YAAa,SAAU,OAAA/O,EAAAwE,MAAA,aAA8B,YAC/8K0xC,GAAe,GCuJnBC,GAAA,CACA1uC,WAAA,CACAkrC,eAEA7S,MAAA,QACArkC,KALA,WAMA,OACA26C,YAAA,KACA59B,KAAA,GACA7J,YAAA,EACAqnC,IAAA,KACAV,KAAA,EACAC,aAAA,KACAE,cAAA,KACA3iC,kBAAA,KACA4iC,eAAA,KACAltC,SAAA,GACA1K,KAAA,GACAwS,eAAA,CACAtM,OAAA,GACA8nB,SAAA,GACAvb,UAAA,IACAG,YAAA,KAEAQ,eAAA,KAGArJ,QAAA,CACA2tC,WADA,WACA,IAAA1tC,EAAA7H,KACAA,KAAA8H,MAAAC,KAAA,oBAAArE,IAAA1D,KAAA0D,KAAA,IAAAsE,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,OACAP,EAAAsuC,YAAA36C,EAAA2M,KAAA3M,OAGA,SAAA6M,GACAJ,QAAAC,KAAAG,MAIAstC,OAdA,WAcA,IAAArtC,EAAAtI,KACAA,KAAA8H,MACAC,KAAA,iBAAArE,IAAA1D,KAAA0D,IAAA6U,KAAAvY,KAAAuY,MAAA,IACAvQ,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,OACAE,EAAAgtC,cAAA,IAGA,SAAAjtC,GACAJ,QAAAC,KAAAG,MAIA+tC,cA7BA,WA6BA,IAAA5tC,EAAAxI,KACAA,KAAA8H,MAAA5J,IAAA,WAAA8B,KAAA0D,IAAA,OAAAsE,KACA,SAAAxM,GAEA,GADAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,KAAA,CACAI,EAAA3K,KAAArC,EAAA2M,KAAA3M,KAAAqC,KACA,IAAAoT,EAAAoiC,KAAA76B,MAAAhd,EAAA2M,KAAA3M,WACA6U,EAAAgjC,KAAA76B,MAAAhd,EAAA2M,KAAA3M,KAAAs0C,QACA7+B,IAAAzI,EAAAyI,kBACAZ,IAAA7H,EAAA6H,kBACA,IAAAyH,EAAA,IAAAk4B,GAAA,gBACAxnC,EAAAqK,mBAAA,IAEArK,EAAAyI,eAAAyK,IAAA,SAAAnY,EAAAC,GACA,IAAA6tC,EAAA9tC,EAAA4L,cACAmiC,EAAA/tC,EAAAguC,gBACA,MAAAhuC,EAAA8O,OAAAg/B,KACA7oC,EAAAqK,mBAAA,EACArK,EAAA0G,YAAA1L,EAAA6tC,EAAAv5B,IAEA,MAAAvU,EAAA6L,SAAAkiC,KACA9oC,EAAAqK,mBAAA,EACArK,EAAAiH,cAAAjM,EAAA8tC,EAAAx5B,WAGA,GAAAtc,EAAA2M,KAAAC,KACAI,EAAAC,QAAAvM,KAAA,KAEAsM,EAAAC,QAAAvM,KAAA,UAGA,SAAAmM,GACAJ,QAAAC,KAAAG,MAIA6G,YAjEA,SAiEAY,EAAAuhC,EAAAv5B,GAAA,IAAA7N,EAAAjK,KACA,MAAA8X,IACA9X,KAAA6S,mBAAA,EACAiF,EAAA,IAAAk4B,GAAA,gBACA/lC,EAAA4I,mBAAA,KAGA,IAAA9R,EAAAf,KAAAiR,eAAAnB,GAAAuC,OAAAg/B,GACA,MAAAtwC,EAAA0wC,IAMA,QAHA1wC,EAAA2O,KACAmJ,MAAA,KACAsI,MACAzG,cAEA,IAAAs1B,GAAA,aAAAl4B,GAAAE,KACAjX,EAAA2O,KAEA,SAAA+hC,GACAA,EAAAzoB,SAAA,SAAAzD,GACAA,EAAAoK,SACApK,EAAArQ,SAAAs+B,KAAAxD,GAAA,QAGAjvC,EAAA0wC,MACAxnC,EAAAgH,eAAAnB,GAAAX,cAAAkiC,EACApnC,EAAAnB,MAAAwqC,WAAAlC,gBAQA,QAHArwC,EAAA2O,KACAmJ,MAAA,KACAsI,MACAzG,eAEA,IAAAs1B,GAAA,aAAAl4B,GAAAE,KACAjX,EAAA2O,KACA,SAAA+hC,GACAA,EAAAzoB,SAAA,SAAAzD,GACAA,EAAAoK,SACApK,EAAArQ,SAAAs+B,KAAAxD,GAAA,QAGAjvC,EAAA0wC,MACAxnC,EAAAgH,eAAAnB,GAAAX,cAAAkiC,EACApnC,EAAAnB,MAAAwqC,WAAAlC,eAEA,SAAAqC,GACAA,EAAAC,oBAOA1zC,KAAAiR,eAAAnB,GAAAX,cAAAkiC,EACArxC,KAAA8I,MAAAwqC,WAAAlC,cACApxC,KAAA6S,mBAAA,IAGApD,cA/HA,SA+HAK,EAAAwhC,EAAAx5B,GAAA,IAAA5N,EAAAlK,KACA,MAAA8X,IACA9X,KAAA6S,mBAAA,EACAiF,EAAA,IAAAk4B,GAAA,gBACA9lC,EAAA2I,mBAAA,KAGA,IAAAsP,EAAAniB,KAAAiR,eAAAnB,GAAAV,SAAAkiC,GACA,MAAAnvB,EAAAsvB,IACA,IAAAzB,GAAA,MAAAl4B,GAAAE,KAAAmK,EAAAzS,KAAA,SAAA+hC,GACAtvB,EAAAsvB,MACAvnC,EAAA+G,eAAAnB,GAAAyhC,gBAAAD,EACApnC,EAAApB,MAAAwqC,WAAAlC,iBAGApxC,KAAAiR,eAAAnB,GAAAyhC,gBAAAD,EACAtxC,KAAA8I,MAAAwqC,WAAAlC,cACApxC,KAAA6S,mBAAA,IAGA6iC,SAnJA,WAmJA,IAAArrC,EAAArK,KACAA,KAAA8H,MACAC,KACA,iBACA,CACArE,IAAA1D,KAAA0D,IACA6E,SAAAvI,KAAAuI,UAEA,IAEAP,KACA,SAAAxM,GACAyM,QAAAC,KAAA1M,GACA,GAAAA,EAAA2M,KAAAC,MACAiC,EAAAorC,gBAAA,EACAprC,EAAA9B,SAAA,GACA8B,EAAA+rC,iBAEA/rC,EAAA9B,SAAA,IAGA,SAAAF,GACAJ,QAAAC,KAAAG,OAKA8B,MAAA,CACAmrC,aADA,WAEAt1C,KAAAuY,KAAA,KAGAq6B,QAAA,CACAyD,WAAA,SAAA/3C,GACA,IAAAg4C,EAAA,IAAAC,KACAD,EAAAE,QAAAl4C,GACA,IAAAm4C,EACAH,EAAAI,WAAA/kB,WAAA31B,OAAA,EACAs6C,EAAAI,WACA,IAAAJ,EAAAI,WACAC,EACAL,EAAAM,UAAAjlB,WAAA31B,OAAA,EACAs6C,EAAAM,UACA,IAAAN,EAAAM,UACAC,EACAP,EAAAQ,WAAAnlB,WAAA31B,OAAA,EACAs6C,EAAAQ,WACA,IAAAR,EAAAQ,WACAvmC,EACA+lC,EAAAS,aAAAplB,WAAA31B,OAAA,EACAs6C,EAAAS,aACA,IAAAT,EAAAS,aACA,OACAT,EAAAU,cAAA,IAAAP,EAAA,IAAAE,EAAA,IAAAE,EAAA,IAAAtmC,IAIAnG,QAvOA,WAuOA,IAAA6sC,EAAAj3C,KACAA,KAAA8H,MAAA5J,IAAA,SAAA8B,KAAA0D,IAAA,OAAAsE,KACA,SAAAxM,GACA,MAAAA,EAAA2M,KAAAC,KAAA,CACAH,QAAAC,KAAA1M,GACA,IAAA6I,EAAA7I,EAAA2M,KAAA3M,KAAA6I,MACA,GAAAA,EACA4yC,EAAAb,gBACA,GAAA/xC,EACA4yC,EAAAxB,gBAAA,EAEAwB,EAAAxuC,QAAAvM,KAAA,aAIA,SAAAmM,GACAJ,QAAAC,KAAAG,OC/Y8X6uC,GAAA,sDCQ1XC,GAAYh7C,OAAAsE,EAAA,KAAAtE,CACd+6C,GACA/B,GACAc,IACF,EACA,KACA,KACA,MAIemB,GAAAD,GAAiB,QAqChCzsC,IAAkBysC,GAAS,CAAGxsC,OAAA,KAAKC,OAAA,KAAKC,QAAA,KAAMC,aAAAC,EAAA,KAAaC,UAAAD,EAAA,KAAUE,aAAA,KAAWC,aAAA,KAAWC,WAAA,KAASC,UAAA,KAAQC,WAAA,KAASC,QAAA,KAAME,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUG,iBAAAC,EAAA,KAAiB2oC,kBAAA3oC,EAAA,KAAkBC,eAAAD,EAAA,KAAeE,oBAAA,KAAkB0oC,qBAAA,KAAkBC,mBAAA,KAAgB1oC,QAAAC,EAAA,KAAQirC,cAAA,KAAWrC,QAAA,KAAKC,YAAA,KAASC,SAAA,KAAMoC,cAAA,KAAWC,eAAA,KAAYjrC,aAAA,KAAWC,WAAA,KAASG,mBAAA,KAAiBC,cAAAF,EAAA,OCxDvW,IAAI+qC,GAAM,WAAgB,IAAAz3C,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,MAAA,CAAOO,KAAA,KAAW,CAAAT,EAAA,aAAkBiB,YAAA,yBAAoC,CAAArB,EAAAkC,GAAA,kBAChLw1C,GAAe,GCMnBC,GAAA,GCPgYC,GAAA,GCO5XC,GAAYz7C,OAAAsE,EAAA,KAAAtE,CACdw7C,GACAH,GACAC,IACF,EACA,KACA,KACA,MAIeI,GAAAD,GAAiB,QAMhCltC,IAAkBktC,GAAS,CAAGjtC,OAAA,KAAKQ,WAAA,OChBnCzL,OAAIC,IAAIm4C,QAEO,IAAAC,GAAA,IAAID,OAAO,CACxBE,OAAQ,CACN,CACEtoC,KAAM,IACN0kC,UAAWjmC,IAEb,CACEuB,KAAM,QACN0kC,UAAW3pC,GAEb,CACEiF,KAAM,eACN0kC,UAAWK,GACX5U,OAAO,GAET,CACEnwB,KAAM,aACN0kC,UAAWgD,GACXvX,OAAO,GAET,CACEnwB,KAAM,UACN0kC,UAAWyD,oBC7BjBn4C,OAAIC,IAAIs4C,SAEO,IAAAC,GAAA,IAAID,QAAKE,MAAM,CAC5BtkC,MAAO,GAGPukC,UAAW,GAGXC,QAAS,kBCLX34C,OAAI44C,OAAOC,eAAgB,EAC3B74C,OAAIC,IAAI64C,SACR94C,OAAI+4C,KAAKC,QAAQC,aAAc,EAC/Bj5C,OAAI+4C,KAAKC,QAAQE,aAAc,EAE/B,IAAIl5C,OAAI,CACNq4C,UACAG,SACA/G,OAAQ,SAAA0H,GAAC,OAAIA,EAAEn4C,MACdo4C,OAAO","file":"js/app.f155bb4f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&lang=css&\"","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\nimport 'vuetify/src/stylus/app.styl'\n\nVue.use(Vuetify, {\n  iconfont: 'md',\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"mode\":\"out-in\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=27e83e6c&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"\",\"id\":\"inspire\"}},[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{staticClass:\"pa-1\"},[_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-avatar',{on:{\"click\":function($event){_vm.avatarUpload=true}}},[_c('img',{attrs:{\"src\":_vm.avatar}})]),_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(_vm.userName)}})],1)],1)],1),_c('v-list',{staticClass:\"pt-0\",attrs:{\"dense\":\"\"}},[_c('v-divider'),_c('v-list-tile',{on:{\"click\":function($event){_vm.userDialog=true}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"account_box\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"修改用户信息\")])],1)],1),_c('v-list-tile',{on:{\"click\":function($event){}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"info\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"关于V3D\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.logout}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"exit_to_app\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"退出系统\")])],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"color\":\"red\",\"dark\":\"\",\"fixed\":\"\",\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',[_vm._v(\"V3D\")]),_c('v-spacer'),_c('v-text-field',{staticClass:\"hidden-sm-and-down\",attrs:{\"clearable\":\"\",\"solo-inverted\":\"\",\"flat\":\"\",\"hide-details\":\"\",\"label\":\"搜索\",\"prepend-inner-icon\":\"search\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('v-spacer'),_c('v-toolbar-items',{staticClass:\"hidden-sm-and-down\"},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.createDialog=true}}},[_c('v-icon',[_vm._v(\"add\")]),_vm._v(\"创建方案\\n      \")],1)],1)],1),_c('v-content',[(_vm.schemeList.length==0)?_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"headline font-weight-light\",attrs:{\"text-xs-center\":\"\"}},[_vm._v(\"还没有方案，请先创建方案\")])],1)],1):_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.schemeList),function(item,index){return (_vm.keyword==null||item.name.indexOf(_vm.keyword)!=-1)?_c('v-flex',{key:item.sid,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-card',[_c('v-img',{attrs:{\"src\":item.cover,\"height\":\"200px\"}},[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"pa-2\":\"\"}},[_c('v-layout',{attrs:{\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"align-end\":\"\",\"flexbox\":\"\"}},[_c('span',{staticClass:\"headline white--text\",domProps:{\"textContent\":_vm._s(item.name)}})])],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.edit(item.sid)}}},[_c('v-icon',[_vm._v(\"edit\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.share(index)}}},[_c('v-icon',[_vm._v(\"share\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.del(index)}}},[_c('v-icon',[_vm._v(\"delete\")])],1)],1)],1)],1):_vm._e()}),1)],1)],1),_c('v-footer',{attrs:{\"color\":\"red\",\"app\":\"\"}},[_c('v-flex',{attrs:{\"py-3\":\"\",\"text-xs-center\":\"\",\"white--text\":\"\",\"xs12\":\"\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"© 2019 TONKIA V3D\")])])],1),_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.createDialog),callback:function ($$v) {_vm.createDialog=$$v},expression:\"createDialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"red\"}},[_c('v-toolbar-title',[_vm._v(\"创建新方案\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.createDialog = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"方案名称\",\"color\":\"red\"},model:{value:(_vm.schemeName),callback:function ($$v) {_vm.schemeName=$$v},expression:\"schemeName\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},on:{\"click\":_vm.createScheme}},[_vm._v(\"确定\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.shareDialog),callback:function ($$v) {_vm.shareDialog=$$v},expression:\"shareDialog\"}},[_c('v-card',{attrs:{\"light\":\"\"}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"方案分享\")])]),_c('v-divider'),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-switch',{attrs:{\"label\":\"开启分享\",\"color\":\"red\"},model:{value:(_vm.isShared),callback:function ($$v) {_vm.isShared=$$v},expression:\"isShared\"}}),_c('v-text-field',{attrs:{\"label\":\"访问地址\",\"outline\":\"\",\"readonly\":\"\",\"value\":_vm.shareLink}}),_c('input',{ref:\"shareLink\",staticStyle:{\"display\":\"none\"},domProps:{\"value\":_vm.shareLink}}),_c('input',{ref:\"iframLink\",staticStyle:{\"display\":\"none\"},domProps:{\"value\":(\"<iframe src='\" + _vm.shareLink + \"' scrolling='no' frameborder='0' width='100%' height='100%'></iframe>\")}})],1),_c('v-layout',{staticClass:\"ma-3\"},[_c('canvas',{ref:\"qr\"}),_c('v-spacer'),_c('v-layout',{attrs:{\"column\":\"\",\"justify-end\":\"\"}},[_c('a',{staticClass:\"ma-2\",staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"\\n                  关于IFrames地址的使用\\n                  \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"help\")])],1),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.copyIframe}},[_vm._v(\"iframe地址\")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.copyLink}},[_vm._v(\"复制访问地址\")]),_c('v-btn',{attrs:{\"color\":\"green\",\"dark\":\"\"},on:{\"click\":_vm.saveQR}},[_vm._v(\"保存二维码\")])],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-divider')],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-switch',{attrs:{\"label\":\"使用密码\",\"color\":\"red\"},model:{value:(_vm.hasPassword),callback:function ($$v) {_vm.hasPassword=$$v},expression:\"hasPassword\"}}),_c('v-text-field',{attrs:{\"label\":\"访问密码\",\"type\":_vm.hasPassword&&_vm.showPassword ? 'text' : 'password',\"disabled\":!_vm.hasPassword,\"append-icon\":_vm.hasPassword&&_vm.showPassword? 'visibility' : 'visibility_off'},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.sharePassword),callback:function ($$v) {_vm.sharePassword=$$v},expression:\"sharePassword\"}})],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},on:{\"click\":function($event){_vm.shareDialog = false}}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},on:{\"click\":_vm.saveShare}},[_vm._v(\"保存\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.userDialog),callback:function ($$v) {_vm.userDialog=$$v},expression:\"userDialog\"}},[_c('v-card',{attrs:{\"light\":\"\"}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"用户信息修改\")])]),_c('v-divider'),_c('v-card-text',[_c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\"}},[_c('v-text-field',{attrs:{\"box\":\"\",\"label\":\"用户名\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"flat\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.changeName}},[_vm._v(\"修改用户名\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"box\":\"\",\"label\":\"修改密码\",\"type\":\"password\"},model:{value:(_vm.pwd),callback:function ($$v) {_vm.pwd=$$v},expression:\"pwd\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"box\":\"\",\"label\":\"确认密码\",\"type\":\"password\"},model:{value:(_vm.repwd),callback:function ($$v) {_vm.repwd=$$v},expression:\"repwd\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.changePwd}},[_vm._v(\"修改密码\")])],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},on:{\"click\":function($event){_vm.userDialog = false}}},[_vm._v(\"确认\")])],1)],1)],1),_c('avatar-upload',{attrs:{\"field\":\"file\",\"width\":300,\"height\":300,\"url\":\"/user/avatar\",\"img-format\":\"png\"},on:{\"crop-upload-success\":_vm.cropUploadSuccess},model:{value:(_vm.avatarUpload),callback:function ($$v) {_vm.avatarUpload=$$v},expression:\"avatarUpload\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app dark id=\"inspire\">\r\n    <!-- drawer开始 -->\r\n    <v-navigation-drawer v-model=\"drawer\" fixed app>\r\n      <v-list class=\"pa-1\">\r\n        <v-list-tile avatar>\r\n          <v-list-tile-avatar @click=\"avatarUpload=true\">\r\n            <img :src=\"avatar\">\r\n          </v-list-tile-avatar>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title v-text=\"userName\"></v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n      </v-list>\r\n      <v-list class=\"pt-0\" dense>\r\n        <v-divider></v-divider>\r\n        <v-list-tile @click=\"userDialog=true\">\r\n          <v-list-tile-action>\r\n            <v-icon>account_box</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>修改用户信息</v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n        <v-list-tile @click>\r\n          <v-list-tile-action>\r\n            <v-icon>info</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>关于V3D</v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n        <v-list-tile @click=\"logout\">\r\n          <v-list-tile-action>\r\n            <v-icon>exit_to_app</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>退出系统</v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n    <!-- drawer结束 -->\r\n\r\n    <!-- 工具栏开始 -->\r\n    <v-toolbar color=\"red\" dark fixed app>\r\n      <v-toolbar-side-icon @click.stop=\"drawer = !drawer\"></v-toolbar-side-icon>\r\n      <v-toolbar-title>V3D</v-toolbar-title>\r\n      <v-spacer/>\r\n      <v-text-field\r\n        clearable\r\n        v-model=\"keyword\"\r\n        solo-inverted\r\n        flat\r\n        hide-details\r\n        label=\"搜索\"\r\n        prepend-inner-icon=\"search\"\r\n        class=\"hidden-sm-and-down\"\r\n      ></v-text-field>\r\n      <v-spacer/>\r\n      <v-toolbar-items class=\"hidden-sm-and-down\">\r\n        <v-btn flat @click=\"createDialog=true\">\r\n          <v-icon>add</v-icon>创建方案\r\n        </v-btn>\r\n      </v-toolbar-items>\r\n    </v-toolbar>\r\n    <!-- 工具栏结束 -->\r\n\r\n    <!-- 内容开始 -->\r\n    <v-content>\r\n      <v-container fluid fill-height v-if=\"schemeList.length==0\">\r\n        <v-layout justify-center align-center>\r\n          <v-flex text-xs-center class=\"headline font-weight-light\">还没有方案，请先创建方案</v-flex>\r\n        </v-layout>\r\n      </v-container>\r\n      <v-container fluid grid-list-md v-else>\r\n        <v-layout row wrap>\r\n          <v-flex\r\n            v-for=\"(item,index) in schemeList\"\r\n            :key=\"item.sid\"\r\n            xs12\r\n            sm6\r\n            md3\r\n            v-if=\"keyword==null||item.name.indexOf(keyword)!=-1\"\r\n          >\r\n            <v-card>\r\n              <v-img :src=\"item.cover\" height=\"200px\">\r\n                <v-container fill-height fluid pa-2>\r\n                  <v-layout fill-height>\r\n                    <v-flex xs12 align-end flexbox>\r\n                      <span class=\"headline white--text\" v-text=\"item.name\"></span>\r\n                    </v-flex>\r\n                  </v-layout>\r\n                </v-container>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn icon @click=\"edit(item.sid)\">\r\n                  <v-icon>edit</v-icon>\r\n                </v-btn>\r\n                <v-btn icon @click=\"share(index)\">\r\n                  <v-icon>share</v-icon>\r\n                </v-btn>\r\n                <v-btn icon @click=\"del(index)\">\r\n                  <v-icon>delete</v-icon>\r\n                </v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-container>\r\n    </v-content>\r\n    <!-- 内容结束 -->\r\n\r\n    <!-- 底部开始 -->\r\n    <v-footer color=\"red\" app>\r\n      <v-flex py-3 text-xs-center white--text xs12>\r\n        <span class=\"white--text\">&copy; 2019 TONKIA V3D</span>\r\n      </v-flex>\r\n    </v-footer>\r\n    <!-- 底部结束 -->\r\n\r\n    <!-- 创建方案模态框 开始-->\r\n    <v-dialog v-model=\"createDialog\" width=\"500\">\r\n      <v-card>\r\n        <v-toolbar dark color=\"red\">\r\n          <v-toolbar-title>创建新方案</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-btn icon dark @click=\"createDialog = false\">\r\n            <v-icon>close</v-icon>\r\n          </v-btn>\r\n        </v-toolbar>\r\n        <v-card-text>\r\n          <v-text-field label=\"方案名称\" color=\"red\" v-model=\"schemeName\"></v-text-field>\r\n        </v-card-text>\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn dark flat @click=\"createScheme\">确定</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 创建方案模态框 结束 -->\r\n\r\n    <!-- 方案分享 开始 -->\r\n    <v-dialog v-model=\"shareDialog\" persistent max-width=\"600px\">\r\n      <v-card light>\r\n        <v-card-title>\r\n          <span class=\"headline\">方案分享</span>\r\n        </v-card-title>\r\n        <v-divider/>\r\n        <v-card-text>\r\n          <v-container grid-list-md>\r\n            <v-layout wrap>\r\n              <v-flex xs12>\r\n                <v-switch label=\"开启分享\" color=\"red\" v-model=\"isShared\"></v-switch>\r\n                <v-text-field label=\"访问地址\" outline readonly :value=\"shareLink\"></v-text-field>\r\n                <input :value=\"shareLink\" ref=\"shareLink\" style=\"display:none\">\r\n                <input\r\n                  :value=\"`<iframe src='${shareLink}' scrolling='no' frameborder='0' width='100%' height='100%'></iframe>`\"\r\n                  ref=\"iframLink\"\r\n                  style=\"display:none\"\r\n                >\r\n              </v-flex>\r\n              <v-layout class=\"ma-3\">\r\n                <canvas ref=\"qr\"></canvas>\r\n                <v-spacer/>\r\n                <v-layout column justify-end>\r\n                  <a style=\"text-align:right\" class=\"ma-2\">\r\n                    关于IFrames地址的使用\r\n                    <v-icon small>help</v-icon>\r\n                  </a>\r\n                  <v-btn color=\"blue\" dark @click=\"copyIframe\">iframe地址</v-btn>\r\n                  <v-btn color=\"blue\" dark @click=\"copyLink\">复制访问地址</v-btn>\r\n                  <v-btn color=\"green\" dark @click=\"saveQR\">保存二维码</v-btn>\r\n                </v-layout>\r\n              </v-layout>\r\n              <v-flex xs12>\r\n                <v-divider/>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-switch label=\"使用密码\" color=\"red\" v-model=\"hasPassword\"></v-switch>\r\n                <v-text-field\r\n                  v-model=\"sharePassword\"\r\n                  label=\"访问密码\"\r\n                  :type=\"hasPassword&&showPassword ? 'text' : 'password'\"\r\n                  :disabled=\"!hasPassword\"\r\n                  :append-icon=\"hasPassword&&showPassword? 'visibility' : 'visibility_off'\"\r\n                  @click:append=\"showPassword = !showPassword\"\r\n                ></v-text-field>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-card-text>\r\n        <v-divider/>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"blue darken-1\" flat @click=\"shareDialog = false\">取消</v-btn>\r\n          <v-btn color=\"blue darken-1\" flat @click=\"saveShare\">保存</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 方案分享 结束 -->\r\n\r\n    <!-- 用户信息修改 开始 -->\r\n    <v-dialog v-model=\"userDialog\" persistent max-width=\"600px\">\r\n      <v-card light>\r\n        <v-card-title>\r\n          <span class=\"headline\">用户信息修改</span>\r\n        </v-card-title>\r\n        <v-divider/>\r\n        <v-card-text>\r\n          <v-container>\r\n            <v-layout row wrap>\r\n              <v-flex xs9>\r\n                <v-text-field box label=\"用户名\" v-model=\"newName\"></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs3>\r\n                <v-btn large flat color=\"blue\" @click=\"changeName\">修改用户名</v-btn>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-text-field box label=\"修改密码\" v-model=\"pwd\" type=\"password\"></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-text-field box label=\"确认密码\" v-model=\"repwd\" type=\"password\"></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-btn block color=\"blue\" dark @click=\"changePwd\">修改密码</v-btn>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-card-text>\r\n        <v-divider/>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"blue darken-1\" flat @click=\"userDialog = false\">确认</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 用户信息修改 结束 -->\r\n\r\n    <!-- 图片上传组件 -->\r\n    <avatar-upload\r\n      @crop-upload-success=\"cropUploadSuccess\"\r\n      field=\"file\"\r\n      v-model=\"avatarUpload\"\r\n      :width=\"300\"\r\n      :height=\"300\"\r\n      url=\"/user/avatar\"\r\n      img-format=\"png\"\r\n    ></avatar-upload>\r\n    <!-- 图片上传组件 -->\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport QRious from \"qrious\";\r\nimport avatarUpload from \"vue-image-crop-upload\";\r\n\r\nexport default {\r\n  components: {\r\n    \"avatar-upload\": avatarUpload\r\n  },\r\n  data: () => ({\r\n    //方案数据\r\n    schemeList: [],\r\n    //临时数据\r\n    schemeName: \"\",\r\n    keyword: \"\",\r\n    shareLink: \"\",\r\n    isShared: false,\r\n    hasPassword: false,\r\n    showPassword: false,\r\n    sharePassword: \"\",\r\n    shareIndex: 0,\r\n    //用户\r\n    avatar: null,\r\n    userName: null,\r\n    //ui\r\n    drawer: null,\r\n    createDialog: null,\r\n    shareDialog: null,\r\n    userDialog: null,\r\n    //crop image\r\n    avatarUpload: false,\r\n    //update userinfo\r\n    newName: \"\",\r\n    pwd: \"\",\r\n    repwd: \"\"\r\n  }),\r\n  methods: {\r\n    changeName() {\r\n      this.$http\r\n        .post(\r\n          \"/user/changeInfo\",\r\n          {\r\n            userName: this.newName\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n            if (data.body.code == 0) {\r\n              this.userName = this.newName;\r\n              this.newName = \"\";\r\n            }\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    },\r\n    changePwd() {\r\n      if (this.pwd == this.repwd) {\r\n        this.$http\r\n          .post(\r\n            \"/user/changeInfo\",\r\n            {\r\n              password: this.pwd\r\n            },\r\n            {}\r\n          )\r\n          .then(\r\n            data => {\r\n              console.info(data);\r\n              if (data.body.code == 0) {\r\n                this.pwd = \"\";\r\n                this.repwd = \"\";\r\n              }\r\n            },\r\n            error => {\r\n              console.info(error);\r\n            }\r\n          );\r\n      }\r\n    },\r\n    cropUploadSuccess(data, field) {\r\n      if (data.code == 0) {\r\n        this.avatar = data.data.avatar;\r\n      }\r\n    },\r\n    del(index) {\r\n      this.$http\r\n        .post(\r\n          \"/scheme/delete\",\r\n          {\r\n            sid: this.schemeList[index].sid\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n            if (data.body.code == 0) {\r\n              this.schemeList.splice(index, 1);\r\n            }\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    },\r\n    edit(sid) {\r\n      this.$router.push(\"create/\" + sid);\r\n    },\r\n    share(index) {\r\n      this.shareIndex = index;\r\n      let scheme = this.schemeList[index];\r\n      var qr = new QRious({\r\n        element: this.$refs.qr,\r\n        size: 250,\r\n        level: \"L\",\r\n        foreground: \"#424242\",\r\n        background: \"#fff\",\r\n        value: scheme.shareLink\r\n      });\r\n      this.shareLink = scheme.shareLink;\r\n      this.sharePassword = scheme.password;\r\n      switch (scheme.share) {\r\n        case 0:\r\n          this.isShared = false;\r\n          this.hasPassword = false;\r\n          break;\r\n        case 1:\r\n          this.isShared = true;\r\n          this.hasPassword = false;\r\n          break;\r\n        case 2:\r\n          this.isShared = true;\r\n          this.hasPassword = true;\r\n          break;\r\n      }\r\n      this.shareDialog = true;\r\n    },\r\n    copyLink() {\r\n      this.$refs.shareLink.style.display = \"inline\";\r\n      this.$refs.shareLink.select();\r\n      document.execCommand(\"Copy\");\r\n      this.$refs.shareLink.style.display = \"none\";\r\n    },\r\n    copyIframe() {\r\n      this.$refs.iframLink.style.display = \"inline\";\r\n      this.$refs.iframLink.select();\r\n      document.execCommand(\"Copy\");\r\n      this.$refs.iframLink.style.display = \"none\";\r\n    },\r\n    saveQR() {\r\n      let a = document.createElement(\"a\");\r\n      a.href = this.$refs.qr.toDataURL(\"image/png\");\r\n      a.download = \"qr.png\";\r\n      let event = document.createEvent(\"MouseEvents\");\r\n      event.initEvent(\"click\", true, false);\r\n      a.dispatchEvent(event);\r\n    },\r\n    saveShare() {\r\n      let index = this.shareIndex;\r\n      let share = 0;\r\n      if (this.isShared) {\r\n        if (this.hasPassword) {\r\n          share = 2;\r\n        } else {\r\n          share = 1;\r\n        }\r\n      }\r\n      this.schemeList[index].share = share;\r\n      this.schemeList[index].password = this.sharePassword;\r\n      this.$http\r\n        .post(\r\n          \"/scheme/share\",\r\n          {\r\n            sid: this.schemeList[index].sid,\r\n            share: this.schemeList[index].share,\r\n            password: this.schemeList[index].password\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n      this.shareDialog = false;\r\n    },\r\n    createScheme() {\r\n      this.$http\r\n        .post(\r\n          \"/scheme/create\",\r\n          {\r\n            name: this.schemeName\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n            if (data.body.code == 0) {\r\n              this.$router.push(\"create/\" + data.body.data.sid);\r\n            }\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    },\r\n    logout() {\r\n      this.$http.get(\"/user/logout\").then(\r\n        data => {\r\n          console.info(data);\r\n          if (data.body.code == 0) {\r\n            this.$router.push(\"/\");\r\n          }\r\n        },\r\n        error => {\r\n          console.info(error);\r\n        }\r\n      );\r\n    }\r\n  },\r\n  watch: {\r\n    //当创建dialog推出时候清空文本栏\r\n    createDialog() {\r\n      this.schemeName = \"\";\r\n    },\r\n    userDialog() {\r\n      this.newName = \"\";\r\n      this.pwd = \"\";\r\n      this.repwd = \"\";\r\n    }\r\n  },\r\n  created() {\r\n    this.$http.get(\"/home/getHomeInfo\").then(\r\n      data => {\r\n        console.info(data);\r\n        if (data.body.code == 0) {\r\n          //初始化主页数据\r\n          this.avatar = data.body.data.userInfo.avatar;\r\n          this.userName = data.body.data.userInfo.userName;\r\n          this.schemeList = data.body.data.schemeList;\r\n        } else {\r\n          //初始化数据失败\r\n          this.$router.push(\"/\");\r\n        }\r\n      },\r\n      error => {\r\n        console.info(error);\r\n      }\r\n    );\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=041ee75e&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!F:/vue/v3dmodel/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VDivider } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VFooter } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileAvatar } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VSwitch } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\nimport { VToolbarSideIcon } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VContent,VDialog,VDivider,VFlex,VFooter,VIcon,VImg,VLayout,VList,VListTile,VListTileAction,VListTileAvatar,VListTileContent,VListTileTitle,VNavigationDrawer,VSpacer,VSwitch,VTextField,VToolbar,VToolbarItems,VToolbarSideIcon,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"\"}},[_c('v-content',[_c('v-alert',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"margin\":\"0px\"},attrs:{\"dismissible\":\"\",\"type\":\"error\",\"transition\":\"scale-transition\"},model:{value:(_vm.alert),callback:function ($$v) {_vm.alert=$$v},expression:\"alert\"}},[_vm._v(_vm._s(_vm.msg))]),_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"md4\":\"\"}},[_c('v-card',{staticClass:\"elevation-12\",attrs:{\"light\":\"\"}},[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"red\"}},[_c('v-toolbar-title',[_vm._v(\"用户登录\")]),_c('v-spacer'),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"large\":\"\"}},on),[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"info\")])],1)]}}])},[_c('span',[_vm._v(\"关于V3D\")])])],1),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"prepend-icon\":\"phone\",\"name\":\"phoneNumber\",\"label\":\"手机号\",\"type\":\"tel\",\"color\":\"red\",\"mask\":\"###########\"},model:{value:(_vm.phoneNumber),callback:function ($$v) {_vm.phoneNumber=$$v},expression:\"phoneNumber\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"lock\",\"name\":\"password\",\"label\":\"密码\",\"type\":\"password\",\"color\":\"red\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"red\"},on:{\"click\":_vm.login}},[_vm._v(\"登 录\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app dark>\r\n    <v-content>\r\n      <v-alert\r\n        dismissible\r\n        v-model=\"alert\"\r\n        type=\"error\"\r\n        transition=\"scale-transition\"\r\n        style=\"position:absolute;width:100%;margin:0px\"\r\n      >{{msg}}</v-alert>\r\n      <v-container fluid fill-height>\r\n        <v-layout align-center justify-center>\r\n          <v-flex sm12 md4>\r\n            <v-card light class=\"elevation-12\">\r\n              <v-toolbar dark color=\"red\">\r\n                <v-toolbar-title>用户登录</v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n                <!-- 提示的方向 -->\r\n                <v-tooltip bottom>\r\n                  <!-- 这是需要提示的部件，任意 -->\r\n                  <!-- on 是 v-tooltip 传递过来的事件处理方法 -->\r\n                  <template v-slot:activator=\"{on}\">\r\n                    <v-btn icon large v-on=\"on\">\r\n                      <v-icon large>info</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <!-- 这是默认插槽，即提示的内容 -->\r\n                  <span>关于V3D</span>\r\n                </v-tooltip>\r\n              </v-toolbar>\r\n              <v-card-text>\r\n                <v-form>\r\n                  <v-text-field\r\n                    prepend-icon=\"phone\"\r\n                    name=\"phoneNumber\"\r\n                    label=\"手机号\"\r\n                    type=\"tel\"\r\n                    color=\"red\"\r\n                    v-model=\"phoneNumber\"\r\n                    mask=\"###########\"\r\n                  />\r\n                  <v-text-field\r\n                    prepend-icon=\"lock\"\r\n                    name=\"password\"\r\n                    label=\"密码\"\r\n                    type=\"password\"\r\n                    color=\"red\"\r\n                    v-model=\"password\"\r\n                  />\r\n                </v-form>\r\n              </v-card-text>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn dark color=\"red\" @click=\"login\">登 录</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-container>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    alert: false,\r\n    msg: \"\",\r\n    phoneNumber: \"\",\r\n    password: \"\"\r\n  }),\r\n  methods: {\r\n    login() {\r\n      this.$http\r\n        .post(\r\n          \"/user/login\",\r\n          {\r\n            phoneNumber: this.phoneNumber,\r\n            password: this.password\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n            if (data.body.code == 0) {\r\n              this.$router.push(\"home\");\r\n            } else {\r\n              this.alert = true;\r\n              this.msg = data.body.msg;\r\n            }\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    this.$http.get(\"/user/hasLogin\").then(\r\n      data => {\r\n        console.info(data);\r\n        if (data.body.code == 0) {\r\n          this.$router.push(\"home\");\r\n        }\r\n      },\r\n      error => {\r\n        console.info(error);\r\n      }\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5bb64acc&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!F:/vue/v3dmodel/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib'\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\nimport { VTooltip } from 'vuetify/lib'\ninstallComponents(component, {VAlert,VApp,VBtn,VCard,VCardActions,VCardText,VContainer,VContent,VFlex,VForm,VIcon,VLayout,VSpacer,VTextField,VToolbar,VToolbarTitle,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"\",\"id\":\"keep\"}},[_c('v-navigation-drawer',{attrs:{\"absolute\":\"\",\"fixed\":\"\",\"clipped\":\"\",\"app\":\"\"},model:{value:(_vm.mainDrawer),callback:function ($$v) {_vm.mainDrawer=$$v},expression:\"mainDrawer\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-subheader',[_vm._v(\"所有部件\")])],1),_c('v-flex',{staticClass:\"text-xs-right\",attrs:{\"xs6\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.componentDialog=true}}},[_vm._v(\"编辑\")])],1)],1),_vm._l((_vm.componentsInfo),function(item,index){return _c('v-list-group',{key:index,scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-tile',[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.componentName))])],1)],1)]},proxy:true}],null,true)},[_vm._l((item.models),function(subItem,subIndex){return _c('v-list-tile',{key:subItem.fid,attrs:{\"color\":\"amber lighten-1\"},on:{\"click\":function($event){return _vm.modelChange(index,subIndex)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              \"+_vm._s(subItem.name)+\" \\n              \"),(subIndex==item.modelSelected)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_left\")]):_vm._e()],1)],1)],1)}),_c('v-divider'),(item.textures.length>0)?_c('v-container',{attrs:{\"grid-list-sm\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((item.textures),function(subItem,subIndex){return _c('v-flex',{key:subItem.fid,attrs:{\"xs2\":\"\",\"d-flex\":\"\"}},[_c('v-card',{staticClass:\"d-flex\",attrs:{\"flat\":\"\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.textureChange(index,subIndex)}}},[_c('v-img',{staticClass:\"grey lighten-2\",attrs:{\"src\":subItem.path+'?size=60',\"aspect-ratio\":\"1\"},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-layout',{attrs:{\"fill-height\":\"\",\"align-center\":\"\",\"justify-center\":\"\",\"ma-0\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1)],1)}),1)],1):_vm._e(),_c('v-list-tile',{on:{\"click\":function($event){_vm.componentIndex=index;_vm.waitUploadList=[];_vm.uploadDrawer = true}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"cloud_upload\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"上传模型文件\")])],1)],1),_c('v-list-tile',{on:{\"click\":function($event){_vm.componentIndex=index;_vm.textureDialog=true}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"picture_in_picture\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"贴图文件管理\")])],1)],1)],2)}),_c('v-list-tile',{on:{\"click\":function($event){_vm.addComponentDialog=true}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"添加新部件\")])],1)],1)],2),_c('v-list',{attrs:{\"two-line\":\"\"}},[_c('v-list-tile',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"pr-3\"},[_c('v-slider',{attrs:{\"label\":\"相机高度\",\"max\":_vm.cameraControll.heightMax,\"min\":\"0\"},model:{value:(_vm.cameraControll.height),callback:function ($$v) {_vm.$set(_vm.cameraControll, \"height\", $$v)},expression:\"cameraControll.height\"}})],1)],1)],1),_c('v-list-tile',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"pr-3\"},[_c('v-slider',{attrs:{\"label\":\"相机距离\",\"max\":_vm.cameraControll.distanceMax,\"min\":\"0\"},model:{value:(_vm.cameraControll.distance),callback:function ($$v) {_vm.$set(_vm.cameraControll, \"distance\", $$v)},expression:\"cameraControll.distance\"}})],1)],1)],1),_c('v-list-tile',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"pr-3\"},[_c('v-slider',{attrs:{\"label\":\"贴图缩放\",\"max\":\"100\",\"min\":\"1\"},model:{value:(_vm.cameraControll.textureSize),callback:function ($$v) {_vm.$set(_vm.cameraControll, \"textureSize\", $$v)},expression:\"cameraControll.textureSize\"}})],1)],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"red\",\"app\":\"\",\"clipped-left\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){_vm.mainDrawer = !_vm.mainDrawer}}}),_c('span',{staticClass:\"title ml-3 mr-5\"},[_vm._v(\"\\n      V3D \\n      \"),_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"创建方案\")])]),_c('v-spacer'),_c('v-text-field',{staticClass:\"hidden-sm-and-down\",attrs:{\"solo-inverted\":\"\",\"flat\":\"\",\"hide-details\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{on:{\"click\":function($event){_vm.settingDialog=true}}},[_vm._v(\"settings\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{on:{\"click\":_vm.refresh}},[_vm._v(\"refresh\")])],1),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"},on:{\"click\":_vm.saveScheme}},on),[_c('v-icon',[_vm._v(\"save\")])],1)]}}])},[_c('span',[_vm._v(\"保存方案\")])]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.exitDialog = true}}},[_c('v-icon',[_vm._v(\"exit_to_app\")])],1)],1)],1),_c('v-content',{staticStyle:{\"height\":\"0px\",\"background-color\":\"#ddd\"}},[_c('ThreeStage',{ref:\"threeStage\",attrs:{\"components-info\":_vm.componentsInfo,\"camera-controll\":_vm.cameraControll}})],1),_c('v-navigation-drawer',{attrs:{\"right\":\"\",\"temporary\":\"\",\"fixed\":\"\"},model:{value:(_vm.uploadDrawer),callback:function ($$v) {_vm.uploadDrawer=$$v},expression:\"uploadDrawer\"}},[_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"multiple\",\"accept\":\".fbx, .obj\"},on:{\"change\":_vm.fileChange}}),_c('v-list',[(_vm.componentsInfo[_vm.componentIndex])?_c('v-subheader',[_vm._v(_vm._s(_vm.componentsInfo[_vm.componentIndex].componentName)+\" - 待上传文件\")]):_vm._e(),_vm._l((_vm.waitUploadList),function(item,index){return _c('div',{key:index},[_c('v-list-tile',[_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(item.name)}}),_c('v-list-tile-sub-title',[_vm._v(_vm._s(_vm._f(\"fileSize\")(item.size)))])],1),_c('v-list-tile-action',[_c('v-btn',{attrs:{\"icon\":\"\",\"ripple\":\"\"},on:{\"click\":function($event){return _vm.waitUploadList.splice(index, 1)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"cancel\")])],1)],1)],1),_c('v-divider')],1)}),_c('v-list-tile',[_c('v-list-tile-content',[_c('v-btn',{attrs:{\"block\":\"\",\"dark\":\"\",\"color\":\"blue\"},on:{\"click\":function($event){return _vm.$refs.file.click()}}},[_vm._v(\"\\n            选择文件\\n            \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"folder_open\")])],1)],1)],1),_c('v-list-tile',[_c('v-list-tile-content',[_c('v-btn',{attrs:{\"block\":\"\",\"dark\":\"\",\"color\":\"red\"},on:{\"click\":_vm.uploadModel}},[_vm._v(\"\\n            开始上传\\n            \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"cloud_upload\")])],1)],1)],1)],2)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.textureDialog),callback:function ($$v) {_vm.textureDialog=$$v},expression:\"textureDialog\"}},[_c('input',{ref:\"textureFile\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"multiple\",\"accept\":\".jpg, .png\"},on:{\"change\":_vm.textureFileChange}}),_c('v-card',{attrs:{\"light\":\"\"}},[_c('v-card-title',[(_vm.componentsInfo[_vm.componentIndex])?_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.componentsInfo[_vm.componentIndex].componentName)+\" - 贴图管理\")]):_vm._e()]),_c('v-card-text',[(_vm.componentsInfo[_vm.componentIndex])?_c('v-container',{attrs:{\"grid-list-sm\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.componentsInfo[_vm.componentIndex].textures),function(item,index){return _c('v-flex',{key:item.name,attrs:{\"xs1\":\"\",\"d-flex\":\"\"},on:{\"click\":function($event){return _vm.delTexture(_vm.componentIndex,index)}}},[_c('v-card',{staticClass:\"d-flex elevation-1\",attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-img',{staticClass:\"grey lighten-2\",attrs:{\"src\":item.path+'?size=40',\"aspect-ratio\":\"1\"},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-layout',{attrs:{\"fill-height\":\"\",\"align-center\":\"\",\"justify-center\":\"\",\"ma-0\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1)],1)}),1)],1):_vm._e(),_c('small',{staticClass:\"pr-4\",staticStyle:{\"display\":\"block\",\"text-align\":\"right\",\"color\":\"#aaa\"}},[_vm._v(\"*单击可删除贴图\")])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.$refs.textureFile.click()}}},[_vm._v(\"添加贴图\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\",\"flat\":\"\"},on:{\"click\":function($event){_vm.textureDialog = false}}},[_vm._v(\"确定\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"600px\"},model:{value:(_vm.componentDialog),callback:function ($$v) {_vm.componentDialog=$$v},expression:\"componentDialog\"}},[_c('v-card',{attrs:{\"light\":\"\"}},[_c('v-card-text',[_c('v-tabs',{attrs:{\"color\":\"red\",\"dark\":\"\",\"slider-color\":\"yellow\"},model:{value:(_vm.tabActive),callback:function ($$v) {_vm.tabActive=$$v},expression:\"tabActive\"}},[_vm._l((_vm.componentsInfo),function(item,index){return _c('v-tab',{key:index,attrs:{\"ripple\":\"\"}},[_vm._v(_vm._s(item.componentName))])}),_vm._l((_vm.componentsInfo),function(item,index){return _c('v-tab-item',{key:index},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',[_c('v-list',_vm._l((item.models),function(subItem,subIndex){return _c('div',{key:subItem.fid},[_c('v-list-tile',[_c('v-list-tile-content',[_c('v-text-field',{attrs:{\"single-line\":\"\",\"full-width\":\"\",\"hide-details\":\"\"},model:{value:(_vm.componentsInfo[index].models[subIndex].name),callback:function ($$v) {_vm.$set(_vm.componentsInfo[index].models[subIndex], \"name\", $$v)},expression:\"componentsInfo[index].models[subIndex].name\"}})],1),_c('v-list-tile-content',{staticClass:\"align-end\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"ripple\":\"\"},on:{\"click\":function($event){return _vm.delModel(index, subIndex)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"cancel\")])],1)],1)],1),_c('v-divider')],1)}),0)],1)],1),_c('div',{staticClass:\"text-xs-center\"},[_c('v-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"outline\":\"\"},on:{\"click\":function($event){return _vm.delComponent(index)}}},[_vm._v(\"删除该部件\")])],1)],1)})],2)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\",\"flat\":\"\",\"item-text\":\"componentName\",\"item-children\":\"models\"},on:{\"click\":function($event){_vm.componentDialog = false}}},[_vm._v(\"确定\")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.addComponentDialog),callback:function ($$v) {_vm.addComponentDialog=$$v},expression:\"addComponentDialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"red\"}},[_c('v-toolbar-title',[_vm._v(\"添加新部件\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.addComponentDialog = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"部件名称\",\"color\":\"red\"},model:{value:(_vm.componentName),callback:function ($$v) {_vm.componentName=$$v},expression:\"componentName\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},on:{\"click\":_vm.addComponent}},[_vm._v(\"添加\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"300\"},model:{value:(_vm.uploadingDialog),callback:function ($$v) {_vm.uploadingDialog=$$v},expression:\"uploadingDialog\"}},[_c('v-card',{attrs:{\"color\":\"red\",\"dark\":\"\"}},[_c('v-card-text',[_vm._v(\"\\n        文件上传中\\n        \"),_c('v-progress-linear',{staticClass:\"mb-0\",attrs:{\"indeterminate\":\"\",\"color\":\"white\"}})],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"300\"},model:{value:(_vm.downloadingDialog),callback:function ($$v) {_vm.downloadingDialog=$$v},expression:\"downloadingDialog\"}},[_c('v-card',{attrs:{\"color\":\"red\",\"dark\":\"\"}},[_c('v-card-text',[_vm._v(\"\\n        文件加载中\\n        \"),_c('v-progress-linear',{staticClass:\"mb-0\",attrs:{\"indeterminate\":\"\",\"color\":\"white\"}})],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"300\"},model:{value:(_vm.exitDialog),callback:function ($$v) {_vm.exitDialog=$$v},expression:\"exitDialog\"}},[_c('v-card',[_c('v-card-text',[_vm._v(\"是否保存当前修改？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/home')}}},[_vm._v(\"直接退出\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.saveScheme();_vm.$router.push('/home')}}},[_vm._v(\"保存退出\")])],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.settingDialog),callback:function ($$v) {_vm.settingDialog=$$v},expression:\"settingDialog\"}},[_c('v-card',{attrs:{\"light\":\"\"}},[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.settingDialog = false}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-toolbar-title',[_vm._v(\"设置\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},on:{\"click\":_vm.saveSetting}},[_vm._v(\"确定\")])],1)],1),_c('v-list',{attrs:{\"three-line\":\"\",\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"相机参数\")]),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"相机最大高度\")]),_c('v-list-tile-sub-title',[_c('v-flex',{staticStyle:{\"width\":\"60px\"},attrs:{\"shrink\":\"\"}},[_c('v-text-field',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"single-line\":\"\",\"type\":\"number\"},model:{value:(_vm.cameraControll.heightMax),callback:function ($$v) {_vm.$set(_vm.cameraControll, \"heightMax\", $$v)},expression:\"cameraControll.heightMax\"}})],1)],1)],1)],1),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"相机最远距离\")]),_c('v-list-tile-sub-title',[_c('v-flex',{staticStyle:{\"width\":\"60px\"},attrs:{\"shrink\":\"\"}},[_c('v-text-field',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"single-line\":\"\",\"type\":\"number\"},model:{value:(_vm.cameraControll.distanceMax),callback:function ($$v) {_vm.$set(_vm.cameraControll, \"distanceMax\", $$v)},expression:\"cameraControll.distanceMax\"}})],1)],1)],1)],1),_c('v-divider'),_c('v-subheader',[_vm._v(\"方案分享\")]),_c('v-layout',{staticClass:\"ma-3\",attrs:{\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"pr-5\",attrs:{\"xs12\":\"\",\"sm8\":\"\"}},[_c('v-switch',{attrs:{\"label\":\"开启分享\",\"color\":\"red\"},model:{value:(_vm.isShared),callback:function ($$v) {_vm.isShared=$$v},expression:\"isShared\"}}),_c('v-text-field',{attrs:{\"label\":\"访问地址\",\"outline\":\"\",\"readonly\":\"\",\"value\":_vm.shareLink}}),_c('input',{ref:\"shareLink\",staticStyle:{\"display\":\"none\"},domProps:{\"value\":_vm.shareLink}}),_c('input',{ref:\"iframLink\",staticStyle:{\"display\":\"none\"},domProps:{\"value\":(\"<iframe src='\" + _vm.shareLink + \"' scrolling='no' frameborder='0' width='100%' height='100%'></iframe>\")}}),_c('v-switch',{attrs:{\"label\":\"使用密码\",\"color\":\"red\"},model:{value:(_vm.hasPassword),callback:function ($$v) {_vm.hasPassword=$$v},expression:\"hasPassword\"}}),_c('v-text-field',{attrs:{\"label\":\"访问密码\",\"type\":_vm.hasPassword&&_vm.showPassword ? 'text' : 'password',\"disabled\":!_vm.hasPassword,\"append-icon\":_vm.hasPassword&&_vm.showPassword? 'visibility' : 'visibility_off'},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.sharePassword),callback:function ($$v) {_vm.sharePassword=$$v},expression:\"sharePassword\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-layout',{attrs:{\"justify-end\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"align-self-end\":\"\"}},[_c('canvas',{ref:\"qr\"})]),_c('v-spacer'),_c('v-layout',{staticClass:\"mb-3\",attrs:{\"column\":\"\",\"justify-end\":\"\"}},[_c('a',{staticClass:\"ma-2\",staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"\\n                  关于IFrames地址的使用\\n                  \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"help\")])],1),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.copyIframe}},[_vm._v(\"iframe地址\")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.copyLink}},[_vm._v(\"复制访问地址\")]),_c('v-btn',{attrs:{\"color\":\"green\",\"dark\":\"\"},on:{\"click\":_vm.saveQR}},[_vm._v(\"保存二维码\")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport * as THREE from \"three\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.OBJLoader = ( function () {\n\n\t// o object_name | g group_name\n\tvar object_pattern = /^[og]\\s*(.+)?/;\n\t// mtllib file_reference\n\tvar material_library_pattern = /^mtllib /;\n\t// usemtl material_name\n\tvar material_use_pattern = /^usemtl /;\n\n\tfunction ParserState() {\n\n\t\tvar state = {\n\t\t\tobjects: [],\n\t\t\tobject: {},\n\n\t\t\tvertices: [],\n\t\t\tnormals: [],\n\t\t\tcolors: [],\n\t\t\tuvs: [],\n\n\t\t\tmaterialLibraries: [],\n\n\t\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object = {\n\t\t\t\t\tname: name || '',\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\t\tgeometry: {\n\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\tcolors: [],\n\t\t\t\t\t\tuvs: []\n\t\t\t\t\t},\n\t\t\t\t\tmaterials: [],\n\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\t\tvar previous = this._finalize( false );\n\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar material = {\n\t\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\t\tvar cloned = {\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\t\treturn material;\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn undefined;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Inherit previous objects material.\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\n\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t\t}\n\n\t\t\t\tthis.objects.push( this.object );\n\n\t\t\t},\n\n\t\t\tfinalize: function () {\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t\t},\n\n\t\t\taddVertex: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexPoint: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexLine: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddNormal: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.normals;\n\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddColor: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.colors;\n\t\t\t\tvar dst = this.object.geometry.colors;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddUV: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t\t},\n\n\t\t\taddUVLine: function ( a ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t\t},\n\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\n\n\t\t\t\tthis.addVertex( ia, ib, ic );\n\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\t\tvar uvLen = this.uvs.length;\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\t\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\n\t\t\t\t\tvar nLen = this.normals.length;\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\n\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.colors.length > 0 ) {\n\n\t\t\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tstate.startObject( '', false );\n\n\t\treturn state;\n\n\t}\n\n\t//\n\n\tfunction OBJLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t\tthis.materials = null;\n\n\t}\n\n\tOBJLoader.prototype = {\n\n\t\tconstructor: OBJLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.load( url, function ( text ) {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetMaterials: function ( materials ) {\n\n\t\t\tthis.materials = materials;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tconsole.time( 'OBJLoader' );\n\n\t\t\tvar state = new ParserState();\n\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t\t}\n\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t\t}\n\n\t\t\tvar lines = text.split( '\\n' );\n\t\t\tvar line = '', lineFirstChar = '';\n\t\t\tvar lineLength = 0;\n\t\t\tvar result = [];\n\n\t\t\t// Faster to just trim left side of the line. Use if available.\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\t\tline = lines[ i ];\n\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\t\tlineLength = line.length;\n\n\t\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t\t// @todo invoke passed in handler if any\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\t\tvar data = line.split( /\\s+/ );\n\n\t\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( data.length === 8 ) {\n\n\t\t\t\t\t\t\t\tstate.colors.push(\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\n\t\t\t\t\tvar faceVertices = [];\n\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\n\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\n\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\n\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\n\n\t\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\n\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\n\n\t\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// o object_name\n\t\t\t\t\t// or\n\t\t\t\t\t// g group_name\n\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n\t\t\t\t\tstate.startObject( name );\n\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\n\n\t\t\t\t\t// material\n\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\n\n\t\t\t\t\t// mtl file\n\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t\t// smooth shading\n\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t * or\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t\t}\n\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Handle null terminated files without exception\n\t\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\t\tthrow new Error( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.finalize();\n\n\t\t\tvar container = new THREE.Group();\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tvar object = state.objects[ i ];\n\t\t\t\tvar geometry = object.geometry;\n\t\t\t\tvar materials = object.materials;\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\n\t\t\t\tvar hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tvar buffergeometry = new THREE.BufferGeometry();\n\n\t\t\t\tbuffergeometry.addAttribute( 'position', new THREE.Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.addAttribute( 'color', new THREE.Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tvar createdMaterials = [];\n\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\tvar material = undefined;\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialLine = new THREE.LineBasicMaterial();\n\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialLine.lights = false;\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof THREE.PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialPoints = new THREE.PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterialPoints.lights = false;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! material ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new THREE.LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new THREE.PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\tmaterial.vertexColors = hasVertexColors ? THREE.VertexColors : THREE.NoColors;\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t\tconsole.timeEnd( 'OBJLoader' );\n\n\t\t\treturn container;\n\n\t\t}\n\n\t};\n\n\treturn OBJLoader;\n\n} )();\n","import * as THREE from \"three\";\n\n/**\n * @author Kyle-Larson https://github.com/Kyle-Larson\n * @author Takahiro https://github.com/takahirox\n * @author Lewy Blue https://github.com/looeee\n *\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * \tBinary format specification:\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\n\nTHREE.FBXLoader = ( function () {\n\n\tvar fbxTree;\n\tvar connections;\n\tvar sceneGraph;\n\n\tfunction FBXLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t}\n\n\tFBXLoader.prototype = {\n\n\t\tconstructor: FBXLoader,\n\n\t\tcrossOrigin: 'anonymous',\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar self = this;\n\n\t\t\tvar path = ( self.path === undefined ) ? THREE.LoaderUtils.extractUrlBase( url ) : self.path;\n\n\t\t\tvar loader = new THREE.FileLoader( this.manager );\n\t\t\tloader.setPath( self.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tonLoad( self.parse( buffer, path ) );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\t\tself.manager.itemError( url );\n\n\t\t\t\t\t}, 0 );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetResourcePath: function ( value ) {\n\n\t\t\tthis.resourcePath = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetCrossOrigin: function ( value ) {\n\n\t\t\tthis.crossOrigin = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( FBXBuffer, path ) {\n\n\t\t\tif ( isFbxFormatBinary( FBXBuffer ) ) {\n\n\t\t\t\tfbxTree = new BinaryParser().parse( FBXBuffer );\n\n\t\t\t} else {\n\n\t\t\t\tvar FBXText = convertArrayBufferToString( FBXBuffer );\n\n\t\t\t\tif ( ! isFbxFormatASCII( FBXText ) ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown format.' );\n\n\t\t\t\t}\n\n\t\t\t\tif ( getFbxVersion( FBXText ) < 7000 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion( FBXText ) );\n\n\t\t\t\t}\n\n\t\t\t\tfbxTree = new TextParser().parse( FBXText );\n\n\t\t\t}\n\n\t\t\t// console.log( fbxTree );\n\n\t\t\tvar textureLoader = new THREE.TextureLoader( this.manager ).setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\t\treturn new FBXTreeParser( textureLoader ).parse( fbxTree );\n\n\t\t}\n\n\t};\n\n\t// Parse the FBXTree object returned by the BinaryParser or TextParser and return a THREE.Group\n\tfunction FBXTreeParser( textureLoader ) {\n\n\t\tthis.textureLoader = textureLoader;\n\n\t}\n\n\tFBXTreeParser.prototype = {\n\n\t\tconstructor: FBXTreeParser,\n\n\t\tparse: function () {\n\n\t\t\tconnections = this.parseConnections();\n\n\t\t\tvar images = this.parseImages();\n\t\t\tvar textures = this.parseTextures( images );\n\t\t\tvar materials = this.parseMaterials( textures );\n\t\t\tvar deformers = this.parseDeformers();\n\t\t\tvar geometryMap = new GeometryParser().parse( deformers );\n\n\t\t\tthis.parseScene( deformers, geometryMap, materials );\n\n\t\t\treturn sceneGraph;\n\n\t\t},\n\n\t\t// Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n\t\t// and details the connection type\n\t\tparseConnections: function () {\n\n\t\t\tvar connectionMap = new Map();\n\n\t\t\tif ( 'Connections' in fbxTree ) {\n\n\t\t\t\tvar rawConnections = fbxTree.Connections.connections;\n\n\t\t\t\trawConnections.forEach( function ( rawConnection ) {\n\n\t\t\t\t\tvar fromID = rawConnection[ 0 ];\n\t\t\t\t\tvar toID = rawConnection[ 1 ];\n\t\t\t\t\tvar relationship = rawConnection[ 2 ];\n\n\t\t\t\t\tif ( ! connectionMap.has( fromID ) ) {\n\n\t\t\t\t\t\tconnectionMap.set( fromID, {\n\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar parentRelationship = { ID: toID, relationship: relationship };\n\t\t\t\t\tconnectionMap.get( fromID ).parents.push( parentRelationship );\n\n\t\t\t\t\tif ( ! connectionMap.has( toID ) ) {\n\n\t\t\t\t\t\tconnectionMap.set( toID, {\n\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar childRelationship = { ID: fromID, relationship: relationship };\n\t\t\t\t\tconnectionMap.get( toID ).children.push( childRelationship );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn connectionMap;\n\n\t\t},\n\n\t\t// Parse FBXTree.Objects.Video for embedded image data\n\t\t// These images are connected to textures in FBXTree.Objects.Textures\n\t\t// via FBXTree.Connections.\n\t\tparseImages: function () {\n\n\t\t\tvar images = {};\n\t\t\tvar blobs = {};\n\n\t\t\tif ( 'Video' in fbxTree.Objects ) {\n\n\t\t\t\tvar videoNodes = fbxTree.Objects.Video;\n\n\t\t\t\tfor ( var nodeID in videoNodes ) {\n\n\t\t\t\t\tvar videoNode = videoNodes[ nodeID ];\n\n\t\t\t\t\tvar id = parseInt( nodeID );\n\n\t\t\t\t\timages[ id ] = videoNode.RelativeFilename || videoNode.Filename;\n\n\t\t\t\t\t// raw image data is in videoNode.Content\n\t\t\t\t\tif ( 'Content' in videoNode ) {\n\n\t\t\t\t\t\tvar arrayBufferContent = ( videoNode.Content instanceof ArrayBuffer ) && ( videoNode.Content.byteLength > 0 );\n\t\t\t\t\t\tvar base64Content = ( typeof videoNode.Content === 'string' ) && ( videoNode.Content !== '' );\n\n\t\t\t\t\t\tif ( arrayBufferContent || base64Content ) {\n\n\t\t\t\t\t\t\tvar image = this.parseImage( videoNodes[ nodeID ] );\n\n\t\t\t\t\t\t\tblobs[ videoNode.RelativeFilename || videoNode.Filename ] = image;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( var id in images ) {\n\n\t\t\t\tvar filename = images[ id ];\n\n\t\t\t\tif ( blobs[ filename ] !== undefined ) images[ id ] = blobs[ filename ];\n\t\t\t\telse images[ id ] = images[ id ].split( '\\\\' ).pop();\n\n\t\t\t}\n\n\t\t\treturn images;\n\n\t\t},\n\n\t\t// Parse embedded image data in FBXTree.Video.Content\n\t\tparseImage: function ( videoNode ) {\n\n\t\t\tvar content = videoNode.Content;\n\t\t\tvar fileName = videoNode.RelativeFilename || videoNode.Filename;\n\t\t\tvar extension = fileName.slice( fileName.lastIndexOf( '.' ) + 1 ).toLowerCase();\n\n\t\t\tvar type;\n\n\t\t\tswitch ( extension ) {\n\n\t\t\t\tcase 'bmp':\n\n\t\t\t\t\ttype = 'image/bmp';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\n\t\t\t\t\ttype = 'image/jpeg';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'png':\n\n\t\t\t\t\ttype = 'image/png';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tif':\n\n\t\t\t\t\ttype = 'image/tiff';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tga':\n\n\t\t\t\t\tif ( typeof THREE.TGALoader !== 'function' ) {\n\n\t\t\t\t\t\tconsole.warn( 'FBXLoader: THREE.TGALoader is required to load TGA textures' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( THREE.Loader.Handlers.get( '.tga' ) === null ) {\n\n\t\t\t\t\t\t\tvar tgaLoader = new THREE.TGALoader();\n\t\t\t\t\t\t\ttgaLoader.setPath( this.textureLoader.path );\n\n\t\t\t\t\t\t\tTHREE.Loader.Handlers.add( /\\.tga$/i, tgaLoader );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttype = 'image/tga';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: Image type \"' + extension + '\" is not supported.' );\n\t\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( typeof content === 'string' ) { // ASCII format\n\n\t\t\t\treturn 'data:' + type + ';base64,' + content;\n\n\t\t\t} else { // Binary Format\n\n\t\t\t\tvar array = new Uint8Array( content );\n\t\t\t\treturn window.URL.createObjectURL( new Blob( [ array ], { type: type } ) );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Texture\n\t\t// These contain details such as UV scaling, cropping, rotation etc and are connected\n\t\t// to images in FBXTree.Objects.Video\n\t\tparseTextures: function ( images ) {\n\n\t\t\tvar textureMap = new Map();\n\n\t\t\tif ( 'Texture' in fbxTree.Objects ) {\n\n\t\t\t\tvar textureNodes = fbxTree.Objects.Texture;\n\t\t\t\tfor ( var nodeID in textureNodes ) {\n\n\t\t\t\t\tvar texture = this.parseTexture( textureNodes[ nodeID ], images );\n\t\t\t\t\ttextureMap.set( parseInt( nodeID ), texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn textureMap;\n\n\t\t},\n\n\t\t// Parse individual node in FBXTree.Objects.Texture\n\t\tparseTexture: function ( textureNode, images ) {\n\n\t\t\tvar texture = this.loadTexture( textureNode, images );\n\n\t\t\ttexture.ID = textureNode.id;\n\n\t\t\ttexture.name = textureNode.attrName;\n\n\t\t\tvar wrapModeU = textureNode.WrapModeU;\n\t\t\tvar wrapModeV = textureNode.WrapModeV;\n\n\t\t\tvar valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n\t\t\tvar valueV = wrapModeV !== undefined ? wrapModeV.value : 0;\n\n\t\t\t// http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n\t\t\t// 0: repeat(default), 1: clamp\n\n\t\t\ttexture.wrapS = valueU === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = valueV === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n\n\t\t\tif ( 'Scaling' in textureNode ) {\n\n\t\t\t\tvar values = textureNode.Scaling.value;\n\n\t\t\t\ttexture.repeat.x = values[ 0 ];\n\t\t\t\ttexture.repeat.y = values[ 1 ];\n\n\t\t\t}\n\n\t\t\treturn texture;\n\n\t\t},\n\n\t\t// load a texture specified as a blob or data URI, or via an external URL using THREE.TextureLoader\n\t\tloadTexture: function ( textureNode, images ) {\n\n\t\t\tvar fileName;\n\n\t\t\tvar currentPath = this.textureLoader.path;\n\n\t\t\tvar children = connections.get( textureNode.id ).children;\n\n\t\t\tif ( children !== undefined && children.length > 0 && images[ children[ 0 ].ID ] !== undefined ) {\n\n\t\t\t\tfileName = images[ children[ 0 ].ID ];\n\n\t\t\t\tif ( fileName.indexOf( 'blob:' ) === 0 || fileName.indexOf( 'data:' ) === 0 ) {\n\n\t\t\t\t\tthis.textureLoader.setPath( undefined );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar texture;\n\n\t\t\tvar extension = textureNode.FileName.slice( - 3 ).toLowerCase();\n\n\t\t\tif ( extension === 'tga' ) {\n\n\t\t\t\tvar loader = THREE.Loader.Handlers.get( '.tga' );\n\n\t\t\t\tif ( loader === null ) {\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: TGALoader not found, creating empty placeholder texture for', fileName );\n\t\t\t\t\ttexture = new THREE.Texture();\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = loader.load( fileName );\n\n\t\t\t\t}\n\n\t\t\t} else if ( extension === 'psd' ) {\n\n\t\t\t\tconsole.warn( 'FBXLoader: PSD textures are not supported, creating empty placeholder texture for', fileName );\n\t\t\t\ttexture = new THREE.Texture();\n\n\t\t\t} else {\n\n\t\t\t\ttexture = this.textureLoader.load( fileName );\n\n\t\t\t}\n\n\t\t\tthis.textureLoader.setPath( currentPath );\n\n\t\t\treturn texture;\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Material\n\t\tparseMaterials: function ( textureMap ) {\n\n\t\t\tvar materialMap = new Map();\n\n\t\t\tif ( 'Material' in fbxTree.Objects ) {\n\n\t\t\t\tvar materialNodes = fbxTree.Objects.Material;\n\n\t\t\t\tfor ( var nodeID in materialNodes ) {\n\n\t\t\t\t\tvar material = this.parseMaterial( materialNodes[ nodeID ], textureMap );\n\n\t\t\t\t\tif ( material !== null ) materialMap.set( parseInt( nodeID ), material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn materialMap;\n\n\t\t},\n\n\t\t// Parse single node in FBXTree.Objects.Material\n\t\t// Materials are connected to texture maps in FBXTree.Objects.Textures\n\t\t// FBX format currently only supports Lambert and Phong shading models\n\t\tparseMaterial: function ( materialNode, textureMap ) {\n\n\t\t\tvar ID = materialNode.id;\n\t\t\tvar name = materialNode.attrName;\n\t\t\tvar type = materialNode.ShadingModel;\n\n\t\t\t// Case where FBX wraps shading model in property object.\n\t\t\tif ( typeof type === 'object' ) {\n\n\t\t\t\ttype = type.value;\n\n\t\t\t}\n\n\t\t\t// Ignore unused materials which don't have any connections.\n\t\t\tif ( ! connections.has( ID ) ) return null;\n\n\t\t\tvar parameters = this.parseParameters( materialNode, textureMap, ID );\n\n\t\t\tvar material;\n\n\t\t\tswitch ( type.toLowerCase() ) {\n\n\t\t\t\tcase 'phong':\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lambert':\n\t\t\t\t\tmaterial = new THREE.MeshLambertMaterial();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type );\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tmaterial.setValues( parameters );\n\t\t\tmaterial.name = name;\n\n\t\t\treturn material;\n\n\t\t},\n\n\t\t// Parse FBX material and return parameters suitable for a three.js material\n\t\t// Also parse the texture map and return any textures associated with the material\n\t\tparseParameters: function ( materialNode, textureMap, ID ) {\n\n\t\t\tvar parameters = {};\n\n\t\t\tif ( materialNode.BumpFactor ) {\n\n\t\t\t\tparameters.bumpScale = materialNode.BumpFactor.value;\n\n\t\t\t}\n\t\t\tif ( materialNode.Diffuse ) {\n\n\t\t\t\tparameters.color = new THREE.Color().fromArray( materialNode.Diffuse.value );\n\n\t\t\t} else if ( materialNode.DiffuseColor && materialNode.DiffuseColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports diffuse here instead of in materialNode.Diffuse\n\t\t\t\tparameters.color = new THREE.Color().fromArray( materialNode.DiffuseColor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.DisplacementFactor ) {\n\n\t\t\t\tparameters.displacementScale = materialNode.DisplacementFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Emissive ) {\n\n\t\t\t\tparameters.emissive = new THREE.Color().fromArray( materialNode.Emissive.value );\n\n\t\t\t} else if ( materialNode.EmissiveColor && materialNode.EmissiveColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports emissive color here instead of in materialNode.Emissive\n\t\t\t\tparameters.emissive = new THREE.Color().fromArray( materialNode.EmissiveColor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.EmissiveFactor ) {\n\n\t\t\t\tparameters.emissiveIntensity = parseFloat( materialNode.EmissiveFactor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Opacity ) {\n\n\t\t\t\tparameters.opacity = parseFloat( materialNode.Opacity.value );\n\n\t\t\t}\n\n\t\t\tif ( parameters.opacity < 1.0 ) {\n\n\t\t\t\tparameters.transparent = true;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.ReflectionFactor ) {\n\n\t\t\t\tparameters.reflectivity = materialNode.ReflectionFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Shininess ) {\n\n\t\t\t\tparameters.shininess = materialNode.Shininess.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Specular ) {\n\n\t\t\t\tparameters.specular = new THREE.Color().fromArray( materialNode.Specular.value );\n\n\t\t\t} else if ( materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports specular color here instead of in materialNode.Specular\n\t\t\t\tparameters.specular = new THREE.Color().fromArray( materialNode.SpecularColor.value );\n\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tconnections.get( ID ).children.forEach( function ( child ) {\n\n\t\t\t\tvar type = child.relationship;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'Bump':\n\t\t\t\t\t\tparameters.bumpMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Maya|TEX_ao_map':\n\t\t\t\t\t\tparameters.aoMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DiffuseColor':\n\t\t\t\t\tcase 'Maya|TEX_color_map':\n\t\t\t\t\t\tparameters.map = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DisplacementColor':\n\t\t\t\t\t\tparameters.displacementMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'EmissiveColor':\n\t\t\t\t\t\tparameters.emissiveMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'NormalMap':\n\t\t\t\t\tcase 'Maya|TEX_normal_map':\n\t\t\t\t\t\tparameters.normalMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ReflectionColor':\n\t\t\t\t\t\tparameters.envMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.envMap.mapping = THREE.EquirectangularReflectionMapping;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpecularColor':\n\t\t\t\t\t\tparameters.specularMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TransparentColor':\n\t\t\t\t\t\tparameters.alphaMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.transparent = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'AmbientColor':\n\t\t\t\t\tcase 'ShininessExponent': // AKA glossiness map\n\t\t\t\t\tcase 'SpecularFactor': // AKA specularLevel\n\t\t\t\t\tcase 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn parameters;\n\n\t\t},\n\n\t\t// get a texture from the textureMap for use by a material.\n\t\tgetTexture: function ( textureMap, id ) {\n\n\t\t\t// if the texture is a layered texture, just use the first layer and issue a warning\n\t\t\tif ( 'LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.' );\n\t\t\t\tid = connections.get( id ).children[ 0 ].ID;\n\n\t\t\t}\n\n\t\t\treturn textureMap.get( id );\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Deformer\n\t\t// Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n\t\t// Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n\t\tparseDeformers: function () {\n\n\t\t\tvar skeletons = {};\n\t\t\tvar morphTargets = {};\n\n\t\t\tif ( 'Deformer' in fbxTree.Objects ) {\n\n\t\t\t\tvar DeformerNodes = fbxTree.Objects.Deformer;\n\n\t\t\t\tfor ( var nodeID in DeformerNodes ) {\n\n\t\t\t\t\tvar deformerNode = DeformerNodes[ nodeID ];\n\n\t\t\t\t\tvar relationships = connections.get( parseInt( nodeID ) );\n\n\t\t\t\t\tif ( deformerNode.attrType === 'Skin' ) {\n\n\t\t\t\t\t\tvar skeleton = this.parseSkeleton( relationships, DeformerNodes );\n\t\t\t\t\t\tskeleton.ID = nodeID;\n\n\t\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: skeleton attached to more than one geometry is not supported.' );\n\t\t\t\t\t\tskeleton.geometryID = relationships.parents[ 0 ].ID;\n\n\t\t\t\t\t\tskeletons[ nodeID ] = skeleton;\n\n\t\t\t\t\t} else if ( deformerNode.attrType === 'BlendShape' ) {\n\n\t\t\t\t\t\tvar morphTarget = {\n\t\t\t\t\t\t\tid: nodeID,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tmorphTarget.rawTargets = this.parseMorphTargets( relationships, DeformerNodes );\n\t\t\t\t\t\tmorphTarget.id = nodeID;\n\n\t\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: morph target attached to more than one geometry is not supported.' );\n\n\t\t\t\t\t\tmorphTargets[ nodeID ] = morphTarget;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\n\t\t\t\tskeletons: skeletons,\n\t\t\t\tmorphTargets: morphTargets,\n\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse single nodes in FBXTree.Objects.Deformer\n\t\t// The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n\t\t// Each skin node represents a skeleton and each cluster node represents a bone\n\t\tparseSkeleton: function ( relationships, deformerNodes ) {\n\n\t\t\tvar rawBones = [];\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar boneNode = deformerNodes[ child.ID ];\n\n\t\t\t\tif ( boneNode.attrType !== 'Cluster' ) return;\n\n\t\t\t\tvar rawBone = {\n\n\t\t\t\t\tID: child.ID,\n\t\t\t\t\tindices: [],\n\t\t\t\t\tweights: [],\n\t\t\t\t\ttransformLink: new THREE.Matrix4().fromArray( boneNode.TransformLink.a ),\n\t\t\t\t\t// transform: new THREE.Matrix4().fromArray( boneNode.Transform.a ),\n\t\t\t\t\t// linkMode: boneNode.Mode,\n\n\t\t\t\t};\n\n\t\t\t\tif ( 'Indexes' in boneNode ) {\n\n\t\t\t\t\trawBone.indices = boneNode.Indexes.a;\n\t\t\t\t\trawBone.weights = boneNode.Weights.a;\n\n\t\t\t\t}\n\n\t\t\t\trawBones.push( rawBone );\n\n\t\t\t} );\n\n\t\t\treturn {\n\n\t\t\t\trawBones: rawBones,\n\t\t\t\tbones: []\n\n\t\t\t};\n\n\t\t},\n\n\t\t// The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n\t\tparseMorphTargets: function ( relationships, deformerNodes ) {\n\n\t\t\tvar rawMorphTargets = [];\n\n\t\t\tfor ( var i = 0; i < relationships.children.length; i ++ ) {\n\n\t\t\t\tvar child = relationships.children[ i ];\n\n\t\t\t\tvar morphTargetNode = deformerNodes[ child.ID ];\n\n\t\t\t\tvar rawMorphTarget = {\n\n\t\t\t\t\tname: morphTargetNode.attrName,\n\t\t\t\t\tinitialWeight: morphTargetNode.DeformPercent,\n\t\t\t\t\tid: morphTargetNode.id,\n\t\t\t\t\tfullWeights: morphTargetNode.FullWeights.a\n\n\t\t\t\t};\n\n\t\t\t\tif ( morphTargetNode.attrType !== 'BlendShapeChannel' ) return;\n\n\t\t\t\trawMorphTarget.geoID = connections.get( parseInt( child.ID ) ).children.filter( function ( child ) {\n\n\t\t\t\t\treturn child.relationship === undefined;\n\n\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\trawMorphTargets.push( rawMorphTarget );\n\n\t\t\t}\n\n\t\t\treturn rawMorphTargets;\n\n\t\t},\n\n\t\t// create the main THREE.Group() to be returned by the loader\n\t\tparseScene: function ( deformers, geometryMap, materialMap ) {\n\n\t\t\tsceneGraph = new THREE.Group();\n\n\t\t\tvar modelMap = this.parseModels( deformers.skeletons, geometryMap, materialMap );\n\n\t\t\tvar modelNodes = fbxTree.Objects.Model;\n\n\t\t\tvar self = this;\n\t\t\tmodelMap.forEach( function ( model ) {\n\n\t\t\t\tvar modelNode = modelNodes[ model.ID ];\n\t\t\t\tself.setLookAtProperties( model, modelNode );\n\n\t\t\t\tvar parentConnections = connections.get( model.ID ).parents;\n\n\t\t\t\tparentConnections.forEach( function ( connection ) {\n\n\t\t\t\t\tvar parent = modelMap.get( connection.ID );\n\t\t\t\t\tif ( parent !== undefined ) parent.add( model );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( model.parent === null ) {\n\n\t\t\t\t\tsceneGraph.add( model );\n\n\t\t\t\t}\n\n\n\t\t\t} );\n\n\t\t\tthis.bindSkeleton( deformers.skeletons, geometryMap, modelMap );\n\n\t\t\tthis.createAmbientLight();\n\n\t\t\tthis.setupMorphMaterials();\n\n\t\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\t\tif ( node.userData.transformData ) {\n\n\t\t\t\t\tif ( node.parent ) node.userData.transformData.parentMatrixWorld = node.parent.matrix;\n\n\t\t\t\t\tvar transform = generateTransform( node.userData.transformData );\n\n\t\t\t\t\tnode.applyMatrix( transform );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tvar animations = new AnimationParser().parse();\n\n\t\t\t// if all the models where already combined in a single group, just return that\n\t\t\tif ( sceneGraph.children.length === 1 && sceneGraph.children[ 0 ].isGroup ) {\n\n\t\t\t\tsceneGraph.children[ 0 ].animations = animations;\n\t\t\t\tsceneGraph = sceneGraph.children[ 0 ];\n\n\t\t\t}\n\n\t\t\tsceneGraph.animations = animations;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.Model\n\t\tparseModels: function ( skeletons, geometryMap, materialMap ) {\n\n\t\t\tvar modelMap = new Map();\n\t\t\tvar modelNodes = fbxTree.Objects.Model;\n\n\t\t\tfor ( var nodeID in modelNodes ) {\n\n\t\t\t\tvar id = parseInt( nodeID );\n\t\t\t\tvar node = modelNodes[ nodeID ];\n\t\t\t\tvar relationships = connections.get( id );\n\n\t\t\t\tvar model = this.buildSkeleton( relationships, skeletons, id, node.attrName );\n\n\t\t\t\tif ( ! model ) {\n\n\t\t\t\t\tswitch ( node.attrType ) {\n\n\t\t\t\t\t\tcase 'Camera':\n\t\t\t\t\t\t\tmodel = this.createCamera( relationships );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Light':\n\t\t\t\t\t\t\tmodel = this.createLight( relationships );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Mesh':\n\t\t\t\t\t\t\tmodel = this.createMesh( relationships, geometryMap, materialMap );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\t\t\tmodel = this.createCurve( relationships, geometryMap );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'LimbNode':\n\t\t\t\t\t\tcase 'Root':\n\t\t\t\t\t\t\tmodel = new THREE.Bone();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Null':\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmodel = new THREE.Group();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmodel.name = THREE.PropertyBinding.sanitizeNodeName( node.attrName );\n\t\t\t\t\tmodel.ID = id;\n\n\t\t\t\t}\n\n\t\t\t\tthis.getTransformData( model, node );\n\t\t\t\tmodelMap.set( id, model );\n\n\t\t\t}\n\n\t\t\treturn modelMap;\n\n\t\t},\n\n\t\tbuildSkeleton: function ( relationships, skeletons, id, name ) {\n\n\t\t\tvar bone = null;\n\n\t\t\trelationships.parents.forEach( function ( parent ) {\n\n\t\t\t\tfor ( var ID in skeletons ) {\n\n\t\t\t\t\tvar skeleton = skeletons[ ID ];\n\n\t\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\t\tif ( rawBone.ID === parent.ID ) {\n\n\t\t\t\t\t\t\tvar subBone = bone;\n\t\t\t\t\t\t\tbone = new THREE.Bone();\n\n\t\t\t\t\t\t\tbone.matrixWorld.copy( rawBone.transformLink );\n\n\t\t\t\t\t\t\t// set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\t\t\t\t\t\t\tbone.name = THREE.PropertyBinding.sanitizeNodeName( name );\n\t\t\t\t\t\t\tbone.ID = id;\n\n\t\t\t\t\t\t\tskeleton.bones[ i ] = bone;\n\n\t\t\t\t\t\t\t// In cases where a bone is shared between multiple meshes\n\t\t\t\t\t\t\t// duplicate the bone here and and it as a child of the first bone\n\t\t\t\t\t\t\tif ( subBone !== null ) {\n\n\t\t\t\t\t\t\t\tbone.add( subBone );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn bone;\n\n\t\t},\n\n\t\t// create a THREE.PerspectiveCamera or THREE.OrthographicCamera\n\t\tcreateCamera: function ( relationships ) {\n\n\t\t\tvar model;\n\t\t\tvar cameraAttribute;\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\t\tcameraAttribute = attr;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( cameraAttribute === undefined ) {\n\n\t\t\t\tmodel = new THREE.Object3D();\n\n\t\t\t} else {\n\n\t\t\t\tvar type = 0;\n\t\t\t\tif ( cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1 ) {\n\n\t\t\t\t\ttype = 1;\n\n\t\t\t\t}\n\n\t\t\t\tvar nearClippingPlane = 1;\n\t\t\t\tif ( cameraAttribute.NearPlane !== undefined ) {\n\n\t\t\t\t\tnearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n\n\t\t\t\t}\n\n\t\t\t\tvar farClippingPlane = 1000;\n\t\t\t\tif ( cameraAttribute.FarPlane !== undefined ) {\n\n\t\t\t\t\tfarClippingPlane = cameraAttribute.FarPlane.value / 1000;\n\n\t\t\t\t}\n\n\n\t\t\t\tvar width = window.innerWidth;\n\t\t\t\tvar height = window.innerHeight;\n\n\t\t\t\tif ( cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined ) {\n\n\t\t\t\t\twidth = cameraAttribute.AspectWidth.value;\n\t\t\t\t\theight = cameraAttribute.AspectHeight.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar aspect = width / height;\n\n\t\t\t\tvar fov = 45;\n\t\t\t\tif ( cameraAttribute.FieldOfView !== undefined ) {\n\n\t\t\t\t\tfov = cameraAttribute.FieldOfView.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 0: // Perspective\n\t\t\t\t\t\tmodel = new THREE.PerspectiveCamera( fov, aspect, nearClippingPlane, farClippingPlane );\n\t\t\t\t\t\tif ( focalLength !== null ) model.setFocalLength( focalLength );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1: // Orthographic\n\t\t\t\t\t\tmodel = new THREE.OrthographicCamera( - width / 2, width / 2, height / 2, - height / 2, nearClippingPlane, farClippingPlane );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown camera type ' + type + '.' );\n\t\t\t\t\t\tmodel = new THREE.Object3D();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\t// Create a THREE.DirectionalLight, THREE.PointLight or THREE.SpotLight\n\t\tcreateLight: function ( relationships ) {\n\n\t\t\tvar model;\n\t\t\tvar lightAttribute;\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\t\tlightAttribute = attr;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( lightAttribute === undefined ) {\n\n\t\t\t\tmodel = new THREE.Object3D();\n\n\t\t\t} else {\n\n\t\t\t\tvar type;\n\n\t\t\t\t// LightType can be undefined for Point lights\n\t\t\t\tif ( lightAttribute.LightType === undefined ) {\n\n\t\t\t\t\ttype = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttype = lightAttribute.LightType.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar color = 0xffffff;\n\n\t\t\t\tif ( lightAttribute.Color !== undefined ) {\n\n\t\t\t\t\tcolor = new THREE.Color().fromArray( lightAttribute.Color.value );\n\n\t\t\t\t}\n\n\t\t\t\tvar intensity = ( lightAttribute.Intensity === undefined ) ? 1 : lightAttribute.Intensity.value / 100;\n\n\t\t\t\t// light disabled\n\t\t\t\tif ( lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0 ) {\n\n\t\t\t\t\tintensity = 0;\n\n\t\t\t\t}\n\n\t\t\t\tvar distance = 0;\n\t\t\t\tif ( lightAttribute.FarAttenuationEnd !== undefined ) {\n\n\t\t\t\t\tif ( lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0 ) {\n\n\t\t\t\t\t\tdistance = 0;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdistance = lightAttribute.FarAttenuationEnd.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\t\t\t\tvar decay = 1;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 0: // Point\n\t\t\t\t\t\tmodel = new THREE.PointLight( color, intensity, distance, decay );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1: // Directional\n\t\t\t\t\t\tmodel = new THREE.DirectionalLight( color, intensity );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2: // Spot\n\t\t\t\t\t\tvar angle = Math.PI / 3;\n\n\t\t\t\t\t\tif ( lightAttribute.InnerAngle !== undefined ) {\n\n\t\t\t\t\t\t\tangle = THREE.Math.degToRad( lightAttribute.InnerAngle.value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar penumbra = 0;\n\t\t\t\t\t\tif ( lightAttribute.OuterAngle !== undefined ) {\n\n\t\t\t\t\t\t\t// TODO: this is not correct - FBX calculates outer and inner angle in degrees\n\t\t\t\t\t\t\t// with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n\t\t\t\t\t\t\t// while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n\t\t\t\t\t\t\tpenumbra = THREE.Math.degToRad( lightAttribute.OuterAngle.value );\n\t\t\t\t\t\t\tpenumbra = Math.max( penumbra, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmodel = new THREE.SpotLight( color, intensity, distance, angle, penumbra, decay );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a THREE.PointLight.' );\n\t\t\t\t\t\tmodel = new THREE.PointLight( color, intensity );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1 ) {\n\n\t\t\t\t\tmodel.castShadow = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\tcreateMesh: function ( relationships, geometryMap, materialMap ) {\n\n\t\t\tvar model;\n\t\t\tvar geometry = null;\n\t\t\tvar material = null;\n\t\t\tvar materials = [];\n\n\t\t\t// get geometry and materials(s) from connections\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tif ( geometryMap.has( child.ID ) ) {\n\n\t\t\t\t\tgeometry = geometryMap.get( child.ID );\n\n\t\t\t\t}\n\n\t\t\t\tif ( materialMap.has( child.ID ) ) {\n\n\t\t\t\t\tmaterials.push( materialMap.get( child.ID ) );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( materials.length > 1 ) {\n\n\t\t\t\tmaterial = materials;\n\n\t\t\t} else if ( materials.length > 0 ) {\n\n\t\t\t\tmaterial = materials[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new THREE.MeshPhongMaterial( { color: 0xcccccc } );\n\t\t\t\tmaterials.push( material );\n\n\t\t\t}\n\n\t\t\tif ( 'color' in geometry.attributes ) {\n\n\t\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\t\tmaterial.vertexColors = THREE.VertexColors;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( geometry.FBX_Deformer ) {\n\n\t\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\t\tmaterial.skinning = true;\n\n\t\t\t\t} );\n\n\t\t\t\tmodel = new THREE.SkinnedMesh( geometry, material );\n\t\t\t\tmodel.normalizeSkinWeights();\n\n\t\t\t} else {\n\n\t\t\t\tmodel = new THREE.Mesh( geometry, material );\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\tcreateCurve: function ( relationships, geometryMap ) {\n\n\t\t\tvar geometry = relationships.children.reduce( function ( geo, child ) {\n\n\t\t\t\tif ( geometryMap.has( child.ID ) ) geo = geometryMap.get( child.ID );\n\n\t\t\t\treturn geo;\n\n\t\t\t}, null );\n\n\t\t\t// FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\t\t\tvar material = new THREE.LineBasicMaterial( { color: 0x3300ff, linewidth: 1 } );\n\t\t\treturn new THREE.Line( geometry, material );\n\n\t\t},\n\n\t\t// parse the model node for transform data\n\t\tgetTransformData: function ( model, modelNode ) {\n\n\t\t\tvar transformData = {};\n\n\t\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\t\telse transformData.eulerOrder = 'ZYX';\n\n\t\t\tif ( 'Lcl_Translation' in modelNode ) transformData.translation = modelNode.Lcl_Translation.value;\n\n\t\t\tif ( 'PreRotation' in modelNode ) transformData.preRotation = modelNode.PreRotation.value;\n\t\t\tif ( 'Lcl_Rotation' in modelNode ) transformData.rotation = modelNode.Lcl_Rotation.value;\n\t\t\tif ( 'PostRotation' in modelNode ) transformData.postRotation = modelNode.PostRotation.value;\n\n\t\t\tif ( 'Lcl_Scaling' in modelNode ) transformData.scale = modelNode.Lcl_Scaling.value;\n\n\t\t\tif ( 'ScalingOffset' in modelNode ) transformData.scalingOffset = modelNode.ScalingOffset.value;\n\t\t\tif ( 'ScalingPivot' in modelNode ) transformData.scalingPivot = modelNode.ScalingPivot.value;\n\n\t\t\tif ( 'RotationOffset' in modelNode ) transformData.rotationOffset = modelNode.RotationOffset.value;\n\t\t\tif ( 'RotationPivot' in modelNode ) transformData.rotationPivot = modelNode.RotationPivot.value;\n\n\t\t\tmodel.userData.transformData = transformData;\n\n\t\t},\n\n\t\tsetLookAtProperties: function ( model, modelNode ) {\n\n\t\t\tif ( 'LookAtProperty' in modelNode ) {\n\n\t\t\t\tvar children = connections.get( model.ID ).children;\n\n\t\t\t\tchildren.forEach( function ( child ) {\n\n\t\t\t\t\tif ( child.relationship === 'LookAtProperty' ) {\n\n\t\t\t\t\t\tvar lookAtTarget = fbxTree.Objects.Model[ child.ID ];\n\n\t\t\t\t\t\tif ( 'Lcl_Translation' in lookAtTarget ) {\n\n\t\t\t\t\t\t\tvar pos = lookAtTarget.Lcl_Translation.value;\n\n\t\t\t\t\t\t\t// DirectionalLight, SpotLight\n\t\t\t\t\t\t\tif ( model.target !== undefined ) {\n\n\t\t\t\t\t\t\t\tmodel.target.position.fromArray( pos );\n\t\t\t\t\t\t\t\tsceneGraph.add( model.target );\n\n\t\t\t\t\t\t\t} else { // Cameras and other Object3Ds\n\n\t\t\t\t\t\t\t\tmodel.lookAt( new THREE.Vector3().fromArray( pos ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\n\t\tbindSkeleton: function ( skeletons, geometryMap, modelMap ) {\n\n\t\t\tvar bindMatrices = this.parsePoseNodes();\n\n\t\t\tfor ( var ID in skeletons ) {\n\n\t\t\t\tvar skeleton = skeletons[ ID ];\n\n\t\t\t\tvar parents = connections.get( parseInt( skeleton.ID ) ).parents;\n\n\t\t\t\tparents.forEach( function ( parent ) {\n\n\t\t\t\t\tif ( geometryMap.has( parent.ID ) ) {\n\n\t\t\t\t\t\tvar geoID = parent.ID;\n\t\t\t\t\t\tvar geoRelationships = connections.get( geoID );\n\n\t\t\t\t\t\tgeoRelationships.parents.forEach( function ( geoConnParent ) {\n\n\t\t\t\t\t\t\tif ( modelMap.has( geoConnParent.ID ) ) {\n\n\t\t\t\t\t\t\t\tvar model = modelMap.get( geoConnParent.ID );\n\n\t\t\t\t\t\t\t\tmodel.bind( new THREE.Skeleton( skeleton.bones ), bindMatrices[ geoConnParent.ID ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparsePoseNodes: function () {\n\n\t\t\tvar bindMatrices = {};\n\n\t\t\tif ( 'Pose' in fbxTree.Objects ) {\n\n\t\t\t\tvar BindPoseNode = fbxTree.Objects.Pose;\n\n\t\t\t\tfor ( var nodeID in BindPoseNode ) {\n\n\t\t\t\t\tif ( BindPoseNode[ nodeID ].attrType === 'BindPose' ) {\n\n\t\t\t\t\t\tvar poseNodes = BindPoseNode[ nodeID ].PoseNode;\n\n\t\t\t\t\t\tif ( Array.isArray( poseNodes ) ) {\n\n\t\t\t\t\t\t\tposeNodes.forEach( function ( poseNode ) {\n\n\t\t\t\t\t\t\t\tbindMatrices[ poseNode.Node ] = new THREE.Matrix4().fromArray( poseNode.Matrix.a );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tbindMatrices[ poseNodes.Node ] = new THREE.Matrix4().fromArray( poseNodes.Matrix.a );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bindMatrices;\n\n\t\t},\n\n\t\t// Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n\t\tcreateAmbientLight: function () {\n\n\t\t\tif ( 'GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings ) {\n\n\t\t\t\tvar ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n\t\t\t\tvar r = ambientColor[ 0 ];\n\t\t\t\tvar g = ambientColor[ 1 ];\n\t\t\t\tvar b = ambientColor[ 2 ];\n\n\t\t\t\tif ( r !== 0 || g !== 0 || b !== 0 ) {\n\n\t\t\t\t\tvar color = new THREE.Color( r, g, b );\n\t\t\t\t\tsceneGraph.add( new THREE.AmbientLight( color, 1 ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tsetupMorphMaterials: function () {\n\n\t\t\tvar self = this;\n\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\tif ( child.isMesh ) {\n\n\t\t\t\t\tif ( child.geometry.morphAttributes.position && child.geometry.morphAttributes.position.length ) {\n\n\t\t\t\t\t\tif ( Array.isArray( child.material ) ) {\n\n\t\t\t\t\t\t\tchild.material.forEach( function ( material, i ) {\n\n\t\t\t\t\t\t\t\tself.setupMorphMaterial( child, material, i );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tself.setupMorphMaterial( child, child.material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t},\n\n\t\tsetupMorphMaterial: function ( child, material, index ) {\n\n\t\t\tvar uuid = child.uuid;\n\t\t\tvar matUuid = material.uuid;\n\n\t\t\t// if a geometry has morph targets, it cannot share the material with other geometries\n\t\t\tvar sharedMat = false;\n\n\t\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\t\tif ( node.isMesh ) {\n\n\t\t\t\t\tif ( Array.isArray( node.material ) ) {\n\n\t\t\t\t\t\tnode.material.forEach( function ( mat ) {\n\n\t\t\t\t\t\t\tif ( mat.uuid === matUuid && node.uuid !== uuid ) sharedMat = true;\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} else if ( node.material.uuid === matUuid && node.uuid !== uuid ) sharedMat = true;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( sharedMat === true ) {\n\n\t\t\t\tvar clonedMat = material.clone();\n\t\t\t\tclonedMat.morphTargets = true;\n\n\t\t\t\tif ( index === undefined ) child.material = clonedMat;\n\t\t\t\telse child.material[ index ] = clonedMat;\n\n\t\t\t} else material.morphTargets = true;\n\n\t\t}\n\n\t};\n\n\t// parse Geometry data from FBXTree and return map of BufferGeometries\n\tfunction GeometryParser() {}\n\n\tGeometryParser.prototype = {\n\n\t\tconstructor: GeometryParser,\n\n\t\t// Parse nodes in FBXTree.Objects.Geometry\n\t\tparse: function ( deformers ) {\n\n\t\t\tvar geometryMap = new Map();\n\n\t\t\tif ( 'Geometry' in fbxTree.Objects ) {\n\n\t\t\t\tvar geoNodes = fbxTree.Objects.Geometry;\n\n\t\t\t\tfor ( var nodeID in geoNodes ) {\n\n\t\t\t\t\tvar relationships = connections.get( parseInt( nodeID ) );\n\t\t\t\t\tvar geo = this.parseGeometry( relationships, geoNodes[ nodeID ], deformers );\n\n\t\t\t\t\tgeometryMap.set( parseInt( nodeID ), geo );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn geometryMap;\n\n\t\t},\n\n\t\t// Parse single node in FBXTree.Objects.Geometry\n\t\tparseGeometry: function ( relationships, geoNode, deformers ) {\n\n\t\t\tswitch ( geoNode.attrType ) {\n\n\t\t\t\tcase 'Mesh':\n\t\t\t\t\treturn this.parseMeshGeometry( relationships, geoNode, deformers );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\treturn this.parseNurbsGeometry( geoNode );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// Parse single node mesh geometry in FBXTree.Objects.Geometry\n\t\tparseMeshGeometry: function ( relationships, geoNode, deformers ) {\n\n\t\t\tvar skeletons = deformers.skeletons;\n\t\t\tvar morphTargets = deformers.morphTargets;\n\n\t\t\tvar modelNodes = relationships.parents.map( function ( parent ) {\n\n\t\t\t\treturn fbxTree.Objects.Model[ parent.ID ];\n\n\t\t\t} );\n\n\t\t\t// don't create geometry if it is not associated with any models\n\t\t\tif ( modelNodes.length === 0 ) return;\n\n\t\t\tvar skeleton = relationships.children.reduce( function ( skeleton, child ) {\n\n\t\t\t\tif ( skeletons[ child.ID ] !== undefined ) skeleton = skeletons[ child.ID ];\n\n\t\t\t\treturn skeleton;\n\n\t\t\t}, null );\n\n\t\t\tvar morphTarget = relationships.children.reduce( function ( morphTarget, child ) {\n\n\t\t\t\tif ( morphTargets[ child.ID ] !== undefined ) morphTarget = morphTargets[ child.ID ];\n\n\t\t\t\treturn morphTarget;\n\n\t\t\t}, null );\n\n\t\t\t// Assume one model and get the preRotation from that\n\t\t\t// if there is more than one model associated with the geometry this may cause problems\n\t\t\tvar modelNode = modelNodes[ 0 ];\n\n\t\t\tvar transformData = {};\n\n\t\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\t\tif ( 'GeometricTranslation' in modelNode ) transformData.translation = modelNode.GeometricTranslation.value;\n\t\t\tif ( 'GeometricRotation' in modelNode ) transformData.rotation = modelNode.GeometricRotation.value;\n\t\t\tif ( 'GeometricScaling' in modelNode ) transformData.scale = modelNode.GeometricScaling.value;\n\n\t\t\tvar transform = generateTransform( transformData );\n\n\t\t\treturn this.genGeometry( geoNode, skeleton, morphTarget, transform );\n\n\t\t},\n\n\t\t// Generate a THREE.BufferGeometry from a node in FBXTree.Objects.Geometry\n\t\tgenGeometry: function ( geoNode, skeleton, morphTarget, preTransform ) {\n\n\t\t\tvar geo = new THREE.BufferGeometry();\n\t\t\tif ( geoNode.attrName ) geo.name = geoNode.attrName;\n\n\t\t\tvar geoInfo = this.parseGeoNode( geoNode, skeleton );\n\t\t\tvar buffers = this.genBuffers( geoInfo );\n\n\t\t\tvar positionAttribute = new THREE.Float32BufferAttribute( buffers.vertex, 3 );\n\n\t\t\tpreTransform.applyToBufferAttribute( positionAttribute );\n\n\t\t\tgeo.addAttribute( 'position', positionAttribute );\n\n\t\t\tif ( buffers.colors.length > 0 ) {\n\n\t\t\t\tgeo.addAttribute( 'color', new THREE.Float32BufferAttribute( buffers.colors, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tgeo.addAttribute( 'skinIndex', new THREE.Uint16BufferAttribute( buffers.weightsIndices, 4 ) );\n\n\t\t\t\tgeo.addAttribute( 'skinWeight', new THREE.Float32BufferAttribute( buffers.vertexWeights, 4 ) );\n\n\t\t\t\t// used later to bind the skeleton to the model\n\t\t\t\tgeo.FBX_Deformer = skeleton;\n\n\t\t\t}\n\n\t\t\tif ( buffers.normal.length > 0 ) {\n\n\t\t\t\tvar normalAttribute = new THREE.Float32BufferAttribute( buffers.normal, 3 );\n\n\t\t\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( preTransform );\n\t\t\t\tnormalMatrix.applyToBufferAttribute( normalAttribute );\n\n\t\t\t\tgeo.addAttribute( 'normal', normalAttribute );\n\n\t\t\t}\n\n\t\t\tbuffers.uvs.forEach( function ( uvBuffer, i ) {\n\n\t\t\t\t// subsequent uv buffers are called 'uv1', 'uv2', ...\n\t\t\t\tvar name = 'uv' + ( i + 1 ).toString();\n\n\t\t\t\t// the first uv buffer is just called 'uv'\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tname = 'uv';\n\n\t\t\t\t}\n\n\t\t\t\tgeo.addAttribute( name, new THREE.Float32BufferAttribute( buffers.uvs[ i ], 2 ) );\n\n\t\t\t} );\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t// Convert the material indices of each vertex into rendering groups on the geometry.\n\t\t\t\tvar prevMaterialIndex = buffers.materialIndex[ 0 ];\n\t\t\t\tvar startIndex = 0;\n\n\t\t\t\tbuffers.materialIndex.forEach( function ( currentIndex, i ) {\n\n\t\t\t\t\tif ( currentIndex !== prevMaterialIndex ) {\n\n\t\t\t\t\t\tgeo.addGroup( startIndex, i - startIndex, prevMaterialIndex );\n\n\t\t\t\t\t\tprevMaterialIndex = currentIndex;\n\t\t\t\t\t\tstartIndex = i;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t// the loop above doesn't add the last group, do that here.\n\t\t\t\tif ( geo.groups.length > 0 ) {\n\n\t\t\t\t\tvar lastGroup = geo.groups[ geo.groups.length - 1 ];\n\t\t\t\t\tvar lastIndex = lastGroup.start + lastGroup.count;\n\n\t\t\t\t\tif ( lastIndex !== buffers.materialIndex.length ) {\n\n\t\t\t\t\t\tgeo.addGroup( lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// case where there are multiple materials but the whole geometry is only\n\t\t\t\t// using one of them\n\t\t\t\tif ( geo.groups.length === 0 ) {\n\n\t\t\t\t\tgeo.addGroup( 0, buffers.materialIndex.length, buffers.materialIndex[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.addMorphTargets( geo, geoNode, morphTarget, preTransform );\n\n\t\t\treturn geo;\n\n\t\t},\n\n\t\tparseGeoNode: function ( geoNode, skeleton ) {\n\n\t\t\tvar geoInfo = {};\n\n\t\t\tgeoInfo.vertexPositions = ( geoNode.Vertices !== undefined ) ? geoNode.Vertices.a : [];\n\t\t\tgeoInfo.vertexIndices = ( geoNode.PolygonVertexIndex !== undefined ) ? geoNode.PolygonVertexIndex.a : [];\n\n\t\t\tif ( geoNode.LayerElementColor ) {\n\n\t\t\t\tgeoInfo.color = this.parseVertexColors( geoNode.LayerElementColor[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementMaterial ) {\n\n\t\t\t\tgeoInfo.material = this.parseMaterialIndices( geoNode.LayerElementMaterial[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementNormal ) {\n\n\t\t\t\tgeoInfo.normal = this.parseNormals( geoNode.LayerElementNormal[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementUV ) {\n\n\t\t\t\tgeoInfo.uv = [];\n\n\t\t\t\tvar i = 0;\n\t\t\t\twhile ( geoNode.LayerElementUV[ i ] ) {\n\n\t\t\t\t\tgeoInfo.uv.push( this.parseUVs( geoNode.LayerElementUV[ i ] ) );\n\t\t\t\t\ti ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeoInfo.weightTable = {};\n\n\t\t\tif ( skeleton !== null ) {\n\n\t\t\t\tgeoInfo.skeleton = skeleton;\n\n\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\t// loop over the bone's vertex indices and weights\n\t\t\t\t\trawBone.indices.forEach( function ( index, j ) {\n\n\t\t\t\t\t\tif ( geoInfo.weightTable[ index ] === undefined ) geoInfo.weightTable[ index ] = [];\n\n\t\t\t\t\t\tgeoInfo.weightTable[ index ].push( {\n\n\t\t\t\t\t\t\tid: i,\n\t\t\t\t\t\t\tweight: rawBone.weights[ j ],\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn geoInfo;\n\n\t\t},\n\n\t\tgenBuffers: function ( geoInfo ) {\n\n\t\t\tvar buffers = {\n\t\t\t\tvertex: [],\n\t\t\t\tnormal: [],\n\t\t\t\tcolors: [],\n\t\t\t\tuvs: [],\n\t\t\t\tmaterialIndex: [],\n\t\t\t\tvertexWeights: [],\n\t\t\t\tweightsIndices: [],\n\t\t\t};\n\n\t\t\tvar polygonIndex = 0;\n\t\t\tvar faceLength = 0;\n\t\t\tvar displayedWeightsWarning = false;\n\n\t\t\t// these will hold data for a single face\n\t\t\tvar facePositionIndexes = [];\n\t\t\tvar faceNormals = [];\n\t\t\tvar faceColors = [];\n\t\t\tvar faceUVs = [];\n\t\t\tvar faceWeights = [];\n\t\t\tvar faceWeightIndices = [];\n\n\t\t\tvar self = this;\n\t\t\tgeoInfo.vertexIndices.forEach( function ( vertexIndex, polygonVertexIndex ) {\n\n\t\t\t\tvar endOfFace = false;\n\n\t\t\t\t// Face index and vertex index arrays are combined in a single array\n\t\t\t\t// A cube with quad faces looks like this:\n\t\t\t\t// PolygonVertexIndex: *24 {\n\t\t\t\t//  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n\t\t\t\t//  }\n\t\t\t\t// Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n\t\t\t\t// to find index of last vertex bit shift the index: ^ - 1\n\t\t\t\tif ( vertexIndex < 0 ) {\n\n\t\t\t\t\tvertexIndex = vertexIndex ^ - 1; // equivalent to ( x * -1 ) - 1\n\t\t\t\t\tendOfFace = true;\n\n\t\t\t\t}\n\n\t\t\t\tvar weightIndices = [];\n\t\t\t\tvar weights = [];\n\n\t\t\t\tfacePositionIndexes.push( vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2 );\n\n\t\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color );\n\n\t\t\t\t\tfaceColors.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\t\tif ( geoInfo.weightTable[ vertexIndex ] !== undefined ) {\n\n\t\t\t\t\t\tgeoInfo.weightTable[ vertexIndex ].forEach( function ( wt ) {\n\n\t\t\t\t\t\t\tweights.push( wt.weight );\n\t\t\t\t\t\t\tweightIndices.push( wt.id );\n\n\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( weights.length > 4 ) {\n\n\t\t\t\t\t\tif ( ! displayedWeightsWarning ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.' );\n\t\t\t\t\t\t\tdisplayedWeightsWarning = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar wIndex = [ 0, 0, 0, 0 ];\n\t\t\t\t\t\tvar Weight = [ 0, 0, 0, 0 ];\n\n\t\t\t\t\t\tweights.forEach( function ( weight, weightIndex ) {\n\n\t\t\t\t\t\t\tvar currentWeight = weight;\n\t\t\t\t\t\t\tvar currentIndex = weightIndices[ weightIndex ];\n\n\t\t\t\t\t\t\tWeight.forEach( function ( comparedWeight, comparedWeightIndex, comparedWeightArray ) {\n\n\t\t\t\t\t\t\t\tif ( currentWeight > comparedWeight ) {\n\n\t\t\t\t\t\t\t\t\tcomparedWeightArray[ comparedWeightIndex ] = currentWeight;\n\t\t\t\t\t\t\t\t\tcurrentWeight = comparedWeight;\n\n\t\t\t\t\t\t\t\t\tvar tmp = wIndex[ comparedWeightIndex ];\n\t\t\t\t\t\t\t\t\twIndex[ comparedWeightIndex ] = currentIndex;\n\t\t\t\t\t\t\t\t\tcurrentIndex = tmp;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tweightIndices = wIndex;\n\t\t\t\t\t\tweights = Weight;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if the weight array is shorter than 4 pad with 0s\n\t\t\t\t\twhile ( weights.length < 4 ) {\n\n\t\t\t\t\t\tweights.push( 0 );\n\t\t\t\t\t\tweightIndices.push( 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < 4; ++ i ) {\n\n\t\t\t\t\t\tfaceWeights.push( weights[ i ] );\n\t\t\t\t\t\tfaceWeightIndices.push( weightIndices[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal );\n\n\t\t\t\t\tfaceNormals.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t\tvar materialIndex = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material )[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\t\tgeoInfo.uv.forEach( function ( uv, i ) {\n\n\t\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, uv );\n\n\t\t\t\t\t\tif ( faceUVs[ i ] === undefined ) {\n\n\t\t\t\t\t\t\tfaceUVs[ i ] = [];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfaceUVs[ i ].push( data[ 0 ] );\n\t\t\t\t\t\tfaceUVs[ i ].push( data[ 1 ] );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tfaceLength ++;\n\n\t\t\t\tif ( endOfFace ) {\n\n\t\t\t\t\tself.genFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength );\n\n\t\t\t\t\tpolygonIndex ++;\n\t\t\t\t\tfaceLength = 0;\n\n\t\t\t\t\t// reset arrays for the next face\n\t\t\t\t\tfacePositionIndexes = [];\n\t\t\t\t\tfaceNormals = [];\n\t\t\t\t\tfaceColors = [];\n\t\t\t\t\tfaceUVs = [];\n\t\t\t\t\tfaceWeights = [];\n\t\t\t\t\tfaceWeightIndices = [];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn buffers;\n\n\t\t},\n\n\t\t// Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n\t\tgenFace: function ( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength ) {\n\n\t\t\tfor ( var i = 2; i < faceLength; i ++ ) {\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 0 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 2 ] ] );\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 2 ] ] );\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 2 ] ] );\n\n\t\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 0 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 3 ] );\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 0 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 3 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ 0 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ 2 ] );\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 0 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 2 ] );\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\t\tgeoInfo.uv.forEach( function ( uv, j ) {\n\n\t\t\t\t\t\tif ( buffers.uvs[ j ] === undefined ) buffers.uvs[ j ] = [];\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 0 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 1 ] );\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 + 1 ] );\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 + 1 ] );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\taddMorphTargets: function ( parentGeo, parentGeoNode, morphTarget, preTransform ) {\n\n\t\t\tif ( morphTarget === null ) return;\n\n\t\t\tparentGeo.morphAttributes.position = [];\n\t\t\t// parentGeo.morphAttributes.normal = []; // not implemented\n\n\t\t\tvar self = this;\n\t\t\tmorphTarget.rawTargets.forEach( function ( rawTarget ) {\n\n\t\t\t\tvar morphGeoNode = fbxTree.Objects.Geometry[ rawTarget.geoID ];\n\n\t\t\t\tif ( morphGeoNode !== undefined ) {\n\n\t\t\t\t\tself.genMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t},\n\n\t\t// a morph geometry node is similar to a standard  node, and the node is also contained\n\t\t// in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n\t\t// and a special attribute Index defining which vertices of the original geometry are affected\n\t\t// Normal and position attributes only have data for the vertices that are affected by the morph\n\t\tgenMorphGeometry: function ( parentGeo, parentGeoNode, morphGeoNode, preTransform, name ) {\n\n\t\t\tvar morphGeo = new THREE.BufferGeometry();\n\t\t\tif ( morphGeoNode.attrName ) morphGeo.name = morphGeoNode.attrName;\n\n\t\t\tvar vertexIndices = ( parentGeoNode.PolygonVertexIndex !== undefined ) ? parentGeoNode.PolygonVertexIndex.a : [];\n\n\t\t\t// make a copy of the parent's vertex positions\n\t\t\tvar vertexPositions = ( parentGeoNode.Vertices !== undefined ) ? parentGeoNode.Vertices.a.slice() : [];\n\n\t\t\tvar morphPositions = ( morphGeoNode.Vertices !== undefined ) ? morphGeoNode.Vertices.a : [];\n\t\t\tvar indices = ( morphGeoNode.Indexes !== undefined ) ? morphGeoNode.Indexes.a : [];\n\n\t\t\tfor ( var i = 0; i < indices.length; i ++ ) {\n\n\t\t\t\tvar morphIndex = indices[ i ] * 3;\n\n\t\t\t\t// FBX format uses blend shapes rather than morph targets. This can be converted\n\t\t\t\t// by additively combining the blend shape positions with the original geometry's positions\n\t\t\t\tvertexPositions[ morphIndex ] += morphPositions[ i * 3 ];\n\t\t\t\tvertexPositions[ morphIndex + 1 ] += morphPositions[ i * 3 + 1 ];\n\t\t\t\tvertexPositions[ morphIndex + 2 ] += morphPositions[ i * 3 + 2 ];\n\n\t\t\t}\n\n\t\t\t// TODO: add morph normal support\n\t\t\tvar morphGeoInfo = {\n\t\t\t\tvertexIndices: vertexIndices,\n\t\t\t\tvertexPositions: vertexPositions,\n\t\t\t};\n\n\t\t\tvar morphBuffers = this.genBuffers( morphGeoInfo );\n\n\t\t\tvar positionAttribute = new THREE.Float32BufferAttribute( morphBuffers.vertex, 3 );\n\t\t\tpositionAttribute.name = name || morphGeoNode.attrName;\n\n\t\t\tpreTransform.applyToBufferAttribute( positionAttribute );\n\n\t\t\tparentGeo.morphAttributes.position.push( positionAttribute );\n\n\t\t},\n\n\t\t// Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n\t\tparseNormals: function ( NormalNode ) {\n\n\t\t\tvar mappingType = NormalNode.MappingInformationType;\n\t\t\tvar referenceType = NormalNode.ReferenceInformationType;\n\t\t\tvar buffer = NormalNode.Normals.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tif ( 'NormalIndex' in NormalNode ) {\n\n\t\t\t\t\tindexBuffer = NormalNode.NormalIndex.a;\n\n\t\t\t\t} else if ( 'NormalsIndex' in NormalNode ) {\n\n\t\t\t\t\tindexBuffer = NormalNode.NormalsIndex.a;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 3,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n\t\tparseUVs: function ( UVNode ) {\n\n\t\t\tvar mappingType = UVNode.MappingInformationType;\n\t\t\tvar referenceType = UVNode.ReferenceInformationType;\n\t\t\tvar buffer = UVNode.UV.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tindexBuffer = UVNode.UVIndex.a;\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 2,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n\t\tparseVertexColors: function ( ColorNode ) {\n\n\t\t\tvar mappingType = ColorNode.MappingInformationType;\n\t\t\tvar referenceType = ColorNode.ReferenceInformationType;\n\t\t\tvar buffer = ColorNode.Colors.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tindexBuffer = ColorNode.ColorIndex.a;\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 4,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n\t\tparseMaterialIndices: function ( MaterialNode ) {\n\n\t\t\tvar mappingType = MaterialNode.MappingInformationType;\n\t\t\tvar referenceType = MaterialNode.ReferenceInformationType;\n\n\t\t\tif ( mappingType === 'NoMappingInformation' ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tdataSize: 1,\n\t\t\t\t\tbuffer: [ 0 ],\n\t\t\t\t\tindices: [ 0 ],\n\t\t\t\t\tmappingType: 'AllSame',\n\t\t\t\t\treferenceType: referenceType\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tvar materialIndexBuffer = MaterialNode.Materials.a;\n\n\t\t\t// Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n\t\t\t// we expect.So we create an intermediate buffer that points to the index in the buffer,\n\t\t\t// for conforming with the other functions we've written for other data.\n\t\t\tvar materialIndices = [];\n\n\t\t\tfor ( var i = 0; i < materialIndexBuffer.length; ++ i ) {\n\n\t\t\t\tmaterialIndices.push( i );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 1,\n\t\t\t\tbuffer: materialIndexBuffer,\n\t\t\t\tindices: materialIndices,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n\t\tparseNurbsGeometry: function ( geoNode ) {\n\n\t\t\tif ( THREE.NURBSCurve === undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.' );\n\t\t\t\treturn new THREE.BufferGeometry();\n\n\t\t\t}\n\n\t\t\tvar order = parseInt( geoNode.Order );\n\n\t\t\tif ( isNaN( order ) ) {\n\n\t\t\t\tconsole.error( 'THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id );\n\t\t\t\treturn new THREE.BufferGeometry();\n\n\t\t\t}\n\n\t\t\tvar degree = order - 1;\n\n\t\t\tvar knots = geoNode.KnotVector.a;\n\t\t\tvar controlPoints = [];\n\t\t\tvar pointsValues = geoNode.Points.a;\n\n\t\t\tfor ( var i = 0, l = pointsValues.length; i < l; i += 4 ) {\n\n\t\t\t\tcontrolPoints.push( new THREE.Vector4().fromArray( pointsValues, i ) );\n\n\t\t\t}\n\n\t\t\tvar startKnot, endKnot;\n\n\t\t\tif ( geoNode.Form === 'Closed' ) {\n\n\t\t\t\tcontrolPoints.push( controlPoints[ 0 ] );\n\n\t\t\t} else if ( geoNode.Form === 'Periodic' ) {\n\n\t\t\t\tstartKnot = degree;\n\t\t\t\tendKnot = knots.length - 1 - startKnot;\n\n\t\t\t\tfor ( var i = 0; i < degree; ++ i ) {\n\n\t\t\t\t\tcontrolPoints.push( controlPoints[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar curve = new THREE.NURBSCurve( degree, knots, controlPoints, startKnot, endKnot );\n\t\t\tvar vertices = curve.getPoints( controlPoints.length * 7 );\n\n\t\t\tvar positions = new Float32Array( vertices.length * 3 );\n\n\t\t\tvertices.forEach( function ( vertex, i ) {\n\n\t\t\t\tvertex.toArray( positions, i * 3 );\n\n\t\t\t} );\n\n\t\t\tvar geometry = new THREE.BufferGeometry();\n\t\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t},\n\n\t};\n\n\t// parse animation data from FBXTree\n\tfunction AnimationParser() {}\n\n\tAnimationParser.prototype = {\n\n\t\tconstructor: AnimationParser,\n\n\t\t// take raw animation clips and turn them into three.js animation clips\n\t\tparse: function () {\n\n\t\t\tvar animationClips = [];\n\n\t\t\tvar rawClips = this.parseClips();\n\n\t\t\tif ( rawClips !== undefined ) {\n\n\t\t\t\tfor ( var key in rawClips ) {\n\n\t\t\t\t\tvar rawClip = rawClips[ key ];\n\n\t\t\t\t\tvar clip = this.addClip( rawClip );\n\n\t\t\t\t\tanimationClips.push( clip );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn animationClips;\n\n\t\t},\n\n\t\tparseClips: function () {\n\n\t\t\t// since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n\t\t\t// if this is undefined we can safely assume there are no animations\n\t\t\tif ( fbxTree.Objects.AnimationCurve === undefined ) return undefined;\n\n\t\t\tvar curveNodesMap = this.parseAnimationCurveNodes();\n\n\t\t\tthis.parseAnimationCurves( curveNodesMap );\n\n\t\t\tvar layersMap = this.parseAnimationLayers( curveNodesMap );\n\t\t\tvar rawClips = this.parseAnimStacks( layersMap );\n\n\t\t\treturn rawClips;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationCurveNode\n\t\t// each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n\t\t// and is referenced by an AnimationLayer\n\t\tparseAnimationCurveNodes: function () {\n\n\t\t\tvar rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n\n\t\t\tvar curveNodesMap = new Map();\n\n\t\t\tfor ( var nodeID in rawCurveNodes ) {\n\n\t\t\t\tvar rawCurveNode = rawCurveNodes[ nodeID ];\n\n\t\t\t\tif ( rawCurveNode.attrName.match( /S|R|T|DeformPercent/ ) !== null ) {\n\n\t\t\t\t\tvar curveNode = {\n\n\t\t\t\t\t\tid: rawCurveNode.id,\n\t\t\t\t\t\tattr: rawCurveNode.attrName,\n\t\t\t\t\t\tcurves: {},\n\n\t\t\t\t\t};\n\n\t\t\t\t\tcurveNodesMap.set( curveNode.id, curveNode );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn curveNodesMap;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n\t\t// previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n\t\t// axis ( e.g. times and values of x rotation)\n\t\tparseAnimationCurves: function ( curveNodesMap ) {\n\n\t\t\tvar rawCurves = fbxTree.Objects.AnimationCurve;\n\n\t\t\t// TODO: Many values are identical up to roundoff error, but won't be optimised\n\t\t\t// e.g. position times: [0, 0.4, 0. 8]\n\t\t\t// position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n\t\t\t// clearly, this should be optimised to\n\t\t\t// times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n\t\t\t// this shows up in nearly every FBX file, and generally time array is length > 100\n\n\t\t\tfor ( var nodeID in rawCurves ) {\n\n\t\t\t\tvar animationCurve = {\n\n\t\t\t\t\tid: rawCurves[ nodeID ].id,\n\t\t\t\t\ttimes: rawCurves[ nodeID ].KeyTime.a.map( convertFBXTimeToSeconds ),\n\t\t\t\t\tvalues: rawCurves[ nodeID ].KeyValueFloat.a,\n\n\t\t\t\t};\n\n\t\t\t\tvar relationships = connections.get( animationCurve.id );\n\n\t\t\t\tif ( relationships !== undefined ) {\n\n\t\t\t\t\tvar animationCurveID = relationships.parents[ 0 ].ID;\n\t\t\t\t\tvar animationCurveRelationship = relationships.parents[ 0 ].relationship;\n\n\t\t\t\t\tif ( animationCurveRelationship.match( /X/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'x' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /Y/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'y' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /Z/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'z' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /d|DeformPercent/ ) && curveNodesMap.has( animationCurveID ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'morph' ] = animationCurve;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n\t\t// to various AnimationCurveNodes and is referenced by an AnimationStack node\n\t\t// note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n\t\tparseAnimationLayers: function ( curveNodesMap ) {\n\n\t\t\tvar rawLayers = fbxTree.Objects.AnimationLayer;\n\n\t\t\tvar layersMap = new Map();\n\n\t\t\tfor ( var nodeID in rawLayers ) {\n\n\t\t\t\tvar layerCurveNodes = [];\n\n\t\t\t\tvar connection = connections.get( parseInt( nodeID ) );\n\n\t\t\t\tif ( connection !== undefined ) {\n\n\t\t\t\t\t// all the animationCurveNodes used in the layer\n\t\t\t\t\tvar children = connection.children;\n\n\t\t\t\t\tchildren.forEach( function ( child, i ) {\n\n\t\t\t\t\t\tif ( curveNodesMap.has( child.ID ) ) {\n\n\t\t\t\t\t\t\tvar curveNode = curveNodesMap.get( child.ID );\n\n\t\t\t\t\t\t\t// check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\t\t\t\t\t\t\tif ( curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined ) {\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tvar modelID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tif ( modelID !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\tvar rawModel = fbxTree.Objects.Model[ modelID.toString() ];\n\n\t\t\t\t\t\t\t\t\t\tvar node = {\n\n\t\t\t\t\t\t\t\t\t\t\tmodelName: THREE.PropertyBinding.sanitizeNodeName( rawModel.attrName ),\n\t\t\t\t\t\t\t\t\t\t\tID: rawModel.id,\n\t\t\t\t\t\t\t\t\t\t\tinitialPosition: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\t\tinitialRotation: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\t\tinitialScale: [ 1, 1, 1 ],\n\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( child.ID === rawModel.id ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tnode.transform = child.matrix;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( child.userData.transformData ) node.eulerOrder = child.userData.transformData.eulerOrder;\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\t\tif ( ! node.transform ) node.transform = new THREE.Matrix4();\n\n\t\t\t\t\t\t\t\t\t\t// if the animated model is pre rotated, we'll have to apply the pre rotations to every\n\t\t\t\t\t\t\t\t\t\t// animation value as well\n\t\t\t\t\t\t\t\t\t\tif ( 'PreRotation' in rawModel ) node.preRotation = rawModel.PreRotation.value;\n\t\t\t\t\t\t\t\t\t\tif ( 'PostRotation' in rawModel ) node.postRotation = rawModel.PostRotation.value;\n\n\t\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] ) layerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t\t} else if ( curveNode.curves.morph !== undefined ) {\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tvar deformerID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tvar morpherID = connections.get( deformerID ).parents[ 0 ].ID;\n\t\t\t\t\t\t\t\t\tvar geoID = connections.get( morpherID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\t// assuming geometry is not used in more than one model\n\t\t\t\t\t\t\t\t\tvar modelID = connections.get( geoID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tvar rawModel = fbxTree.Objects.Model[ modelID ];\n\n\t\t\t\t\t\t\t\t\tvar node = {\n\n\t\t\t\t\t\t\t\t\t\tmodelName: THREE.PropertyBinding.sanitizeNodeName( rawModel.attrName ),\n\t\t\t\t\t\t\t\t\t\tmorphName: fbxTree.Objects.Deformer[ deformerID ].attrName,\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlayerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tlayersMap.set( parseInt( nodeID ), layerCurveNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn layersMap;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n\t\t// hierarchy. Each Stack node will be used to create a THREE.AnimationClip\n\t\tparseAnimStacks: function ( layersMap ) {\n\n\t\t\tvar rawStacks = fbxTree.Objects.AnimationStack;\n\n\t\t\t// connect the stacks (clips) up to the layers\n\t\t\tvar rawClips = {};\n\n\t\t\tfor ( var nodeID in rawStacks ) {\n\n\t\t\t\tvar children = connections.get( parseInt( nodeID ) ).children;\n\n\t\t\t\tif ( children.length > 1 ) {\n\n\t\t\t\t\t// it seems like stacks will always be associated with a single layer. But just in case there are files\n\t\t\t\t\t// where there are multiple layers per stack, we'll display a warning\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar layer = layersMap.get( children[ 0 ].ID );\n\n\t\t\t\trawClips[ nodeID ] = {\n\n\t\t\t\t\tname: rawStacks[ nodeID ].attrName,\n\t\t\t\t\tlayer: layer,\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\treturn rawClips;\n\n\t\t},\n\n\t\taddClip: function ( rawClip ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar self = this;\n\t\t\trawClip.layer.forEach( function ( rawTracks ) {\n\n\t\t\t\ttracks = tracks.concat( self.generateTracks( rawTracks ) );\n\n\t\t\t} );\n\n\t\t\treturn new THREE.AnimationClip( rawClip.name, - 1, tracks );\n\n\t\t},\n\n\t\tgenerateTracks: function ( rawTracks ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar initialPosition = new THREE.Vector3();\n\t\t\tvar initialRotation = new THREE.Quaternion();\n\t\t\tvar initialScale = new THREE.Vector3();\n\n\t\t\tif ( rawTracks.transform ) rawTracks.transform.decompose( initialPosition, initialRotation, initialScale );\n\n\t\t\tinitialPosition = initialPosition.toArray();\n\t\t\tinitialRotation = new THREE.Euler().setFromQuaternion( initialRotation, rawTracks.eulerOrder ).toArray();\n\t\t\tinitialScale = initialScale.toArray();\n\n\t\t\tif ( rawTracks.T !== undefined && Object.keys( rawTracks.T.curves ).length > 0 ) {\n\n\t\t\t\tvar positionTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position' );\n\t\t\t\tif ( positionTrack !== undefined ) tracks.push( positionTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.R !== undefined && Object.keys( rawTracks.R.curves ).length > 0 ) {\n\n\t\t\t\tvar rotationTrack = this.generateRotationTrack( rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder );\n\t\t\t\tif ( rotationTrack !== undefined ) tracks.push( rotationTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.S !== undefined && Object.keys( rawTracks.S.curves ).length > 0 ) {\n\n\t\t\t\tvar scaleTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale' );\n\t\t\t\tif ( scaleTrack !== undefined ) tracks.push( scaleTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.DeformPercent !== undefined ) {\n\n\t\t\t\tvar morphTrack = this.generateMorphTrack( rawTracks );\n\t\t\t\tif ( morphTrack !== undefined ) tracks.push( morphTrack );\n\n\t\t\t}\n\n\t\t\treturn tracks;\n\n\t\t},\n\n\t\tgenerateVectorTrack: function ( modelName, curves, initialValue, type ) {\n\n\t\t\tvar times = this.getTimesForAllAxes( curves );\n\t\t\tvar values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\t\treturn new THREE.VectorKeyframeTrack( modelName + '.' + type, times, values );\n\n\t\t},\n\n\t\tgenerateRotationTrack: function ( modelName, curves, initialValue, preRotation, postRotation, eulerOrder ) {\n\n\t\t\tif ( curves.x !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.x );\n\t\t\t\tcurves.x.values = curves.x.values.map( THREE.Math.degToRad );\n\n\t\t\t}\n\t\t\tif ( curves.y !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.y );\n\t\t\t\tcurves.y.values = curves.y.values.map( THREE.Math.degToRad );\n\n\t\t\t}\n\t\t\tif ( curves.z !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.z );\n\t\t\t\tcurves.z.values = curves.z.values.map( THREE.Math.degToRad );\n\n\t\t\t}\n\n\t\t\tvar times = this.getTimesForAllAxes( curves );\n\t\t\tvar values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\t\tif ( preRotation !== undefined ) {\n\n\t\t\t\tpreRotation = preRotation.map( THREE.Math.degToRad );\n\t\t\t\tpreRotation.push( eulerOrder );\n\n\t\t\t\tpreRotation = new THREE.Euler().fromArray( preRotation );\n\t\t\t\tpreRotation = new THREE.Quaternion().setFromEuler( preRotation );\n\n\t\t\t}\n\n\t\t\tif ( postRotation !== undefined ) {\n\n\t\t\t\tpostRotation = postRotation.map( THREE.Math.degToRad );\n\t\t\t\tpostRotation.push( eulerOrder );\n\n\t\t\t\tpostRotation = new THREE.Euler().fromArray( postRotation );\n\t\t\t\tpostRotation = new THREE.Quaternion().setFromEuler( postRotation ).inverse();\n\n\t\t\t}\n\n\t\t\tvar quaternion = new THREE.Quaternion();\n\t\t\tvar euler = new THREE.Euler();\n\n\t\t\tvar quaternionValues = [];\n\n\t\t\tfor ( var i = 0; i < values.length; i += 3 ) {\n\n\t\t\t\teuler.set( values[ i ], values[ i + 1 ], values[ i + 2 ], eulerOrder );\n\n\t\t\t\tquaternion.setFromEuler( euler );\n\n\t\t\t\tif ( preRotation !== undefined ) quaternion.premultiply( preRotation );\n\t\t\t\tif ( postRotation !== undefined ) quaternion.multiply( postRotation );\n\n\t\t\t\tquaternion.toArray( quaternionValues, ( i / 3 ) * 4 );\n\n\t\t\t}\n\n\t\t\treturn new THREE.QuaternionKeyframeTrack( modelName + '.quaternion', times, quaternionValues );\n\n\t\t},\n\n\t\tgenerateMorphTrack: function ( rawTracks ) {\n\n\t\t\tvar curves = rawTracks.DeformPercent.curves.morph;\n\t\t\tvar values = curves.values.map( function ( val ) {\n\n\t\t\t\treturn val / 100;\n\n\t\t\t} );\n\n\t\t\tvar morphNum = sceneGraph.getObjectByName( rawTracks.modelName ).morphTargetDictionary[ rawTracks.morphName ];\n\n\t\t\treturn new THREE.NumberKeyframeTrack( rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values );\n\n\t\t},\n\n\t\t// For all animated objects, times are defined separately for each axis\n\t\t// Here we'll combine the times into one sorted array without duplicates\n\t\tgetTimesForAllAxes: function ( curves ) {\n\n\t\t\tvar times = [];\n\n\t\t\t// first join together the times for each axis, if defined\n\t\t\tif ( curves.x !== undefined ) times = times.concat( curves.x.times );\n\t\t\tif ( curves.y !== undefined ) times = times.concat( curves.y.times );\n\t\t\tif ( curves.z !== undefined ) times = times.concat( curves.z.times );\n\n\t\t\t// then sort them and remove duplicates\n\t\t\ttimes = times.sort( function ( a, b ) {\n\n\t\t\t\treturn a - b;\n\n\t\t\t} ).filter( function ( elem, index, array ) {\n\n\t\t\t\treturn array.indexOf( elem ) == index;\n\n\t\t\t} );\n\n\t\t\treturn times;\n\n\t\t},\n\n\t\tgetKeyframeTrackValues: function ( times, curves, initialValue ) {\n\n\t\t\tvar prevValue = initialValue;\n\n\t\t\tvar values = [];\n\n\t\t\tvar xIndex = - 1;\n\t\t\tvar yIndex = - 1;\n\t\t\tvar zIndex = - 1;\n\n\t\t\ttimes.forEach( function ( time ) {\n\n\t\t\t\tif ( curves.x ) xIndex = curves.x.times.indexOf( time );\n\t\t\t\tif ( curves.y ) yIndex = curves.y.times.indexOf( time );\n\t\t\t\tif ( curves.z ) zIndex = curves.z.times.indexOf( time );\n\n\t\t\t\t// if there is an x value defined for this frame, use that\n\t\t\t\tif ( xIndex !== - 1 ) {\n\n\t\t\t\t\tvar xValue = curves.x.values[ xIndex ];\n\t\t\t\t\tvalues.push( xValue );\n\t\t\t\t\tprevValue[ 0 ] = xValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// otherwise use the x value from the previous frame\n\t\t\t\t\tvalues.push( prevValue[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( yIndex !== - 1 ) {\n\n\t\t\t\t\tvar yValue = curves.y.values[ yIndex ];\n\t\t\t\t\tvalues.push( yValue );\n\t\t\t\t\tprevValue[ 1 ] = yValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues.push( prevValue[ 1 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( zIndex !== - 1 ) {\n\n\t\t\t\t\tvar zValue = curves.z.values[ zIndex ];\n\t\t\t\t\tvalues.push( zValue );\n\t\t\t\t\tprevValue[ 2 ] = zValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues.push( prevValue[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn values;\n\n\t\t},\n\n\t\t// Rotations are defined as Euler angles which can have values  of any size\n\t\t// These will be converted to quaternions which don't support values greater than\n\t\t// PI, so we'll interpolate large rotations\n\t\tinterpolateRotations: function ( curve ) {\n\n\t\t\tfor ( var i = 1; i < curve.values.length; i ++ ) {\n\n\t\t\t\tvar initialValue = curve.values[ i - 1 ];\n\t\t\t\tvar valuesSpan = curve.values[ i ] - initialValue;\n\n\t\t\t\tvar absoluteSpan = Math.abs( valuesSpan );\n\n\t\t\t\tif ( absoluteSpan >= 180 ) {\n\n\t\t\t\t\tvar numSubIntervals = absoluteSpan / 180;\n\n\t\t\t\t\tvar step = valuesSpan / numSubIntervals;\n\t\t\t\t\tvar nextValue = initialValue + step;\n\n\t\t\t\t\tvar initialTime = curve.times[ i - 1 ];\n\t\t\t\t\tvar timeSpan = curve.times[ i ] - initialTime;\n\t\t\t\t\tvar interval = timeSpan / numSubIntervals;\n\t\t\t\t\tvar nextTime = initialTime + interval;\n\n\t\t\t\t\tvar interpolatedTimes = [];\n\t\t\t\t\tvar interpolatedValues = [];\n\n\t\t\t\t\twhile ( nextTime < curve.times[ i ] ) {\n\n\t\t\t\t\t\tinterpolatedTimes.push( nextTime );\n\t\t\t\t\t\tnextTime += interval;\n\n\t\t\t\t\t\tinterpolatedValues.push( nextValue );\n\t\t\t\t\t\tnextValue += step;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurve.times = inject( curve.times, i, interpolatedTimes );\n\t\t\t\t\tcurve.values = inject( curve.values, i, interpolatedValues );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t};\n\n\t// parse an FBX file in ASCII format\n\tfunction TextParser() {}\n\n\tTextParser.prototype = {\n\n\t\tconstructor: TextParser,\n\n\t\tgetPrevNode: function () {\n\n\t\t\treturn this.nodeStack[ this.currentIndent - 2 ];\n\n\t\t},\n\n\t\tgetCurrentNode: function () {\n\n\t\t\treturn this.nodeStack[ this.currentIndent - 1 ];\n\n\t\t},\n\n\t\tgetCurrentProp: function () {\n\n\t\t\treturn this.currentProp;\n\n\t\t},\n\n\t\tpushStack: function ( node ) {\n\n\t\t\tthis.nodeStack.push( node );\n\t\t\tthis.currentIndent += 1;\n\n\t\t},\n\n\t\tpopStack: function () {\n\n\t\t\tthis.nodeStack.pop();\n\t\t\tthis.currentIndent -= 1;\n\n\t\t},\n\n\t\tsetCurrentProp: function ( val, name ) {\n\n\t\t\tthis.currentProp = val;\n\t\t\tthis.currentPropName = name;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tthis.currentIndent = 0;\n\n\t\t\tthis.allNodes = new FBXTree();\n\t\t\tthis.nodeStack = [];\n\t\t\tthis.currentProp = [];\n\t\t\tthis.currentPropName = '';\n\n\t\t\tvar self = this;\n\n\t\t\tvar split = text.split( /[\\r\\n]+/ );\n\n\t\t\tsplit.forEach( function ( line, i ) {\n\n\t\t\t\tvar matchComment = line.match( /^[\\s\\t]*;/ );\n\t\t\t\tvar matchEmpty = line.match( /^[\\s\\t]*$/ );\n\n\t\t\t\tif ( matchComment || matchEmpty ) return;\n\n\t\t\t\tvar matchBeginning = line.match( '^\\\\t{' + self.currentIndent + '}(\\\\w+):(.*){', '' );\n\t\t\t\tvar matchProperty = line.match( '^\\\\t{' + ( self.currentIndent ) + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)' );\n\t\t\t\tvar matchEnd = line.match( '^\\\\t{' + ( self.currentIndent - 1 ) + '}}' );\n\n\t\t\t\tif ( matchBeginning ) {\n\n\t\t\t\t\tself.parseNodeBegin( line, matchBeginning );\n\n\t\t\t\t} else if ( matchProperty ) {\n\n\t\t\t\t\tself.parseNodeProperty( line, matchProperty, split[ ++ i ] );\n\n\t\t\t\t} else if ( matchEnd ) {\n\n\t\t\t\t\tself.popStack();\n\n\t\t\t\t} else if ( line.match( /^[^\\s\\t}]/ ) ) {\n\n\t\t\t\t\t// large arrays are split over multiple lines terminated with a ',' character\n\t\t\t\t\t// if this is encountered the line needs to be joined to the previous line\n\t\t\t\t\tself.parseNodePropertyContinued( line );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn this.allNodes;\n\n\t\t},\n\n\t\tparseNodeBegin: function ( line, property ) {\n\n\t\t\tvar nodeName = property[ 1 ].trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t\tvar nodeAttrs = property[ 2 ].split( ',' ).map( function ( attr ) {\n\n\t\t\t\treturn attr.trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t\t} );\n\n\t\t\tvar node = { name: nodeName };\n\t\t\tvar attrs = this.parseNodeAttr( nodeAttrs );\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\n\t\t\t// a top node\n\t\t\tif ( this.currentIndent === 0 ) {\n\n\t\t\t\tthis.allNodes.add( nodeName, node );\n\n\t\t\t} else { // a subnode\n\n\t\t\t\t// if the subnode already exists, append it\n\t\t\t\tif ( nodeName in currentNode ) {\n\n\t\t\t\t\t// special case Pose needs PoseNodes as an array\n\t\t\t\t\tif ( nodeName === 'PoseNode' ) {\n\n\t\t\t\t\t\tcurrentNode.PoseNode.push( node );\n\n\t\t\t\t\t} else if ( currentNode[ nodeName ].id !== undefined ) {\n\n\t\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\t\tcurrentNode[ nodeName ][ currentNode[ nodeName ].id ] = currentNode[ nodeName ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attrs.id !== '' ) currentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t\t} else if ( typeof attrs.id === 'number' ) {\n\n\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\tcurrentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t\t} else if ( nodeName !== 'Properties70' ) {\n\n\t\t\t\t\tif ( nodeName === 'PoseNode' )\tcurrentNode[ nodeName ] = [ node ];\n\t\t\t\t\telse currentNode[ nodeName ] = node;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( typeof attrs.id === 'number' ) node.id = attrs.id;\n\t\t\tif ( attrs.name !== '' ) node.attrName = attrs.name;\n\t\t\tif ( attrs.type !== '' ) node.attrType = attrs.type;\n\n\t\t\tthis.pushStack( node );\n\n\t\t},\n\n\t\tparseNodeAttr: function ( attrs ) {\n\n\t\t\tvar id = attrs[ 0 ];\n\n\t\t\tif ( attrs[ 0 ] !== '' ) {\n\n\t\t\t\tid = parseInt( attrs[ 0 ] );\n\n\t\t\t\tif ( isNaN( id ) ) {\n\n\t\t\t\t\tid = attrs[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = '', type = '';\n\n\t\t\tif ( attrs.length > 1 ) {\n\n\t\t\t\tname = attrs[ 1 ].replace( /^(\\w+)::/, '' );\n\t\t\t\ttype = attrs[ 2 ];\n\n\t\t\t}\n\n\t\t\treturn { id: id, name: name, type: type };\n\n\t\t},\n\n\t\tparseNodeProperty: function ( line, property, contentLine ) {\n\n\t\t\tvar propName = property[ 1 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\t\t\tvar propValue = property[ 2 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\n\t\t\t// for special case: base64 image data follows \"Content: ,\" line\n\t\t\t//\tContent: ,\n\t\t\t//\t \"/9j/4RDaRXhpZgAATU0A...\"\n\t\t\tif ( propName === 'Content' && propValue === ',' ) {\n\n\t\t\t\tpropValue = contentLine.replace( /\"/g, '' ).replace( /,$/, '' ).trim();\n\n\t\t\t}\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\t\t\tvar parentName = currentNode.name;\n\n\t\t\tif ( parentName === 'Properties70' ) {\n\n\t\t\t\tthis.parseNodeSpecialProperty( line, propName, propValue );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t// Connections\n\t\t\tif ( propName === 'C' ) {\n\n\t\t\t\tvar connProps = propValue.split( ',' ).slice( 1 );\n\t\t\t\tvar from = parseInt( connProps[ 0 ] );\n\t\t\t\tvar to = parseInt( connProps[ 1 ] );\n\n\t\t\t\tvar rest = propValue.split( ',' ).slice( 3 );\n\n\t\t\t\trest = rest.map( function ( elem ) {\n\n\t\t\t\t\treturn elem.trim().replace( /^\"/, '' );\n\n\t\t\t\t} );\n\n\t\t\t\tpropName = 'connections';\n\t\t\t\tpropValue = [ from, to ];\n\t\t\t\tappend( propValue, rest );\n\n\t\t\t\tif ( currentNode[ propName ] === undefined ) {\n\n\t\t\t\t\tcurrentNode[ propName ] = [];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Node\n\t\t\tif ( propName === 'Node' ) currentNode.id = propValue;\n\n\t\t\t// connections\n\t\t\tif ( propName in currentNode && Array.isArray( currentNode[ propName ] ) ) {\n\n\t\t\t\tcurrentNode[ propName ].push( propValue );\n\n\t\t\t} else {\n\n\t\t\t\tif ( propName !== 'a' ) currentNode[ propName ] = propValue;\n\t\t\t\telse currentNode.a = propValue;\n\n\t\t\t}\n\n\t\t\tthis.setCurrentProp( currentNode, propName );\n\n\t\t\t// convert string to array, unless it ends in ',' in which case more will be added to it\n\t\t\tif ( propName === 'a' && propValue.slice( - 1 ) !== ',' ) {\n\n\t\t\t\tcurrentNode.a = parseNumberArray( propValue );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseNodePropertyContinued: function ( line ) {\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\n\t\t\tcurrentNode.a += line;\n\n\t\t\t// if the line doesn't end in ',' we have reached the end of the property value\n\t\t\t// so convert the string to an array\n\t\t\tif ( line.slice( - 1 ) !== ',' ) {\n\n\t\t\t\tcurrentNode.a = parseNumberArray( currentNode.a );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// parse \"Property70\"\n\t\tparseNodeSpecialProperty: function ( line, propName, propValue ) {\n\n\t\t\t// split this\n\t\t\t// P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n\t\t\t// into array like below\n\t\t\t// [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n\t\t\tvar props = propValue.split( '\",' ).map( function ( prop ) {\n\n\t\t\t\treturn prop.trim().replace( /^\\\"/, '' ).replace( /\\s/, '_' );\n\n\t\t\t} );\n\n\t\t\tvar innerPropName = props[ 0 ];\n\t\t\tvar innerPropType1 = props[ 1 ];\n\t\t\tvar innerPropType2 = props[ 2 ];\n\t\t\tvar innerPropFlag = props[ 3 ];\n\t\t\tvar innerPropValue = props[ 4 ];\n\n\t\t\t// cast values where needed, otherwise leave as strings\n\t\t\tswitch ( innerPropType1 ) {\n\n\t\t\t\tcase 'int':\n\t\t\t\tcase 'enum':\n\t\t\t\tcase 'bool':\n\t\t\t\tcase 'ULongLong':\n\t\t\t\tcase 'double':\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'FieldOfView':\n\t\t\t\t\tinnerPropValue = parseFloat( innerPropValue );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Color':\n\t\t\t\tcase 'ColorRGB':\n\t\t\t\tcase 'Vector3D':\n\t\t\t\tcase 'Lcl_Translation':\n\t\t\t\tcase 'Lcl_Rotation':\n\t\t\t\tcase 'Lcl_Scaling':\n\t\t\t\t\tinnerPropValue = parseNumberArray( innerPropValue );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\t// CAUTION: these props must append to parent's parent\n\t\t\tthis.getPrevNode()[ innerPropName ] = {\n\n\t\t\t\t'type': innerPropType1,\n\t\t\t\t'type2': innerPropType2,\n\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t'value': innerPropValue\n\n\t\t\t};\n\n\t\t\tthis.setCurrentProp( this.getPrevNode(), innerPropName );\n\n\t\t},\n\n\t};\n\n\t// Parse an FBX file in Binary format\n\tfunction BinaryParser() {}\n\n\tBinaryParser.prototype = {\n\n\t\tconstructor: BinaryParser,\n\n\t\tparse: function ( buffer ) {\n\n\t\t\tvar reader = new BinaryReader( buffer );\n\t\t\treader.skip( 23 ); // skip magic 23 bytes\n\n\t\t\tvar version = reader.getUint32();\n\n\t\t\tconsole.log( 'THREE.FBXLoader: FBX binary version: ' + version );\n\n\t\t\tvar allNodes = new FBXTree();\n\n\t\t\twhile ( ! this.endOfContent( reader ) ) {\n\n\t\t\t\tvar node = this.parseNode( reader, version );\n\t\t\t\tif ( node !== null ) allNodes.add( node.name, node );\n\n\t\t\t}\n\n\t\t\treturn allNodes;\n\n\t\t},\n\n\t\t// Check if reader has reached the end of content.\n\t\tendOfContent: function ( reader ) {\n\n\t\t\t// footer size: 160bytes + 16-byte alignment padding\n\t\t\t// - 16bytes: magic\n\t\t\t// - padding til 16-byte alignment (at least 1byte?)\n\t\t\t//\t(seems like some exporters embed fixed 15 or 16bytes?)\n\t\t\t// - 4bytes: magic\n\t\t\t// - 4bytes: version\n\t\t\t// - 120bytes: zero\n\t\t\t// - 16bytes: magic\n\t\t\tif ( reader.size() % 16 === 0 ) {\n\n\t\t\t\treturn ( ( reader.getOffset() + 160 + 16 ) & ~ 0xf ) >= reader.size();\n\n\t\t\t} else {\n\n\t\t\t\treturn reader.getOffset() + 160 + 16 >= reader.size();\n\n\t\t\t}\n\n\t\t},\n\n\t\t// recursively parse nodes until the end of the file is reached\n\t\tparseNode: function ( reader, version ) {\n\n\t\t\tvar node = {};\n\n\t\t\t// The first three data sizes depends on version.\n\t\t\tvar endOffset = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\t\t\tvar numProperties = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t\t// note: do not remove this even if you get a linter warning as it moves the buffer forward\n\t\t\tvar propertyListLen = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t\tvar nameLen = reader.getUint8();\n\t\t\tvar name = reader.getString( nameLen );\n\n\t\t\t// Regards this node as NULL-record if endOffset is zero\n\t\t\tif ( endOffset === 0 ) return null;\n\n\t\t\tvar propertyList = [];\n\n\t\t\tfor ( var i = 0; i < numProperties; i ++ ) {\n\n\t\t\t\tpropertyList.push( this.parseProperty( reader ) );\n\n\t\t\t}\n\n\t\t\t// Regards the first three elements in propertyList as id, attrName, and attrType\n\t\t\tvar id = propertyList.length > 0 ? propertyList[ 0 ] : '';\n\t\t\tvar attrName = propertyList.length > 1 ? propertyList[ 1 ] : '';\n\t\t\tvar attrType = propertyList.length > 2 ? propertyList[ 2 ] : '';\n\n\t\t\t// check if this node represents just a single property\n\t\t\t// like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\t\t\tnode.singleProperty = ( numProperties === 1 && reader.getOffset() === endOffset ) ? true : false;\n\n\t\t\twhile ( endOffset > reader.getOffset() ) {\n\n\t\t\t\tvar subNode = this.parseNode( reader, version );\n\n\t\t\t\tif ( subNode !== null ) this.parseSubNode( name, node, subNode );\n\n\t\t\t}\n\n\t\t\tnode.propertyList = propertyList; // raw property list used by parent\n\n\t\t\tif ( typeof id === 'number' ) node.id = id;\n\t\t\tif ( attrName !== '' ) node.attrName = attrName;\n\t\t\tif ( attrType !== '' ) node.attrType = attrType;\n\t\t\tif ( name !== '' ) node.name = name;\n\n\t\t\treturn node;\n\n\t\t},\n\n\t\tparseSubNode: function ( name, node, subNode ) {\n\n\t\t\t// special case: child node is single property\n\t\t\tif ( subNode.singleProperty === true ) {\n\n\t\t\t\tvar value = subNode.propertyList[ 0 ];\n\n\t\t\t\tif ( Array.isArray( value ) ) {\n\n\t\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\t\tsubNode.a = value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode[ subNode.name ] = value;\n\n\t\t\t\t}\n\n\t\t\t} else if ( name === 'Connections' && subNode.name === 'C' ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tsubNode.propertyList.forEach( function ( property, i ) {\n\n\t\t\t\t\t// first Connection is FBX type (OO, OP, etc.). We'll discard these\n\t\t\t\t\tif ( i !== 0 ) array.push( property );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( node.connections === undefined ) {\n\n\t\t\t\t\tnode.connections = [];\n\n\t\t\t\t}\n\n\t\t\t\tnode.connections.push( array );\n\n\t\t\t} else if ( subNode.name === 'Properties70' ) {\n\n\t\t\t\tvar keys = Object.keys( subNode );\n\n\t\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\t\tnode[ key ] = subNode[ key ];\n\n\t\t\t\t} );\n\n\t\t\t} else if ( name === 'Properties70' && subNode.name === 'P' ) {\n\n\t\t\t\tvar innerPropName = subNode.propertyList[ 0 ];\n\t\t\t\tvar innerPropType1 = subNode.propertyList[ 1 ];\n\t\t\t\tvar innerPropType2 = subNode.propertyList[ 2 ];\n\t\t\t\tvar innerPropFlag = subNode.propertyList[ 3 ];\n\t\t\t\tvar innerPropValue;\n\n\t\t\t\tif ( innerPropName.indexOf( 'Lcl ' ) === 0 ) innerPropName = innerPropName.replace( 'Lcl ', 'Lcl_' );\n\t\t\t\tif ( innerPropType1.indexOf( 'Lcl ' ) === 0 ) innerPropType1 = innerPropType1.replace( 'Lcl ', 'Lcl_' );\n\n\t\t\t\tif ( innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf( 'Lcl_' ) === 0 ) {\n\n\t\t\t\t\tinnerPropValue = [\n\t\t\t\t\t\tsubNode.propertyList[ 4 ],\n\t\t\t\t\t\tsubNode.propertyList[ 5 ],\n\t\t\t\t\t\tsubNode.propertyList[ 6 ]\n\t\t\t\t\t];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinnerPropValue = subNode.propertyList[ 4 ];\n\n\t\t\t\t}\n\n\t\t\t\t// this will be copied to parent, see above\n\t\t\t\tnode[ innerPropName ] = {\n\n\t\t\t\t\t'type': innerPropType1,\n\t\t\t\t\t'type2': innerPropType2,\n\t\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t\t'value': innerPropValue\n\n\t\t\t\t};\n\n\t\t\t} else if ( node[ subNode.name ] === undefined ) {\n\n\t\t\t\tif ( typeof subNode.id === 'number' ) {\n\n\t\t\t\t\tnode[ subNode.name ] = {};\n\t\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( subNode.name === 'PoseNode' ) {\n\n\t\t\t\t\tif ( ! Array.isArray( node[ subNode.name ] ) ) {\n\n\t\t\t\t\t\tnode[ subNode.name ] = [ node[ subNode.name ] ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnode[ subNode.name ].push( subNode );\n\n\t\t\t\t} else if ( node[ subNode.name ][ subNode.id ] === undefined ) {\n\n\t\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseProperty: function ( reader ) {\n\n\t\t\tvar type = reader.getString( 1 );\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'C':\n\t\t\t\t\treturn reader.getBoolean();\n\n\t\t\t\tcase 'D':\n\t\t\t\t\treturn reader.getFloat64();\n\n\t\t\t\tcase 'F':\n\t\t\t\t\treturn reader.getFloat32();\n\n\t\t\t\tcase 'I':\n\t\t\t\t\treturn reader.getInt32();\n\n\t\t\t\tcase 'L':\n\t\t\t\t\treturn reader.getInt64();\n\n\t\t\t\tcase 'R':\n\t\t\t\t\tvar length = reader.getUint32();\n\t\t\t\t\treturn reader.getArrayBuffer( length );\n\n\t\t\t\tcase 'S':\n\t\t\t\t\tvar length = reader.getUint32();\n\t\t\t\t\treturn reader.getString( length );\n\n\t\t\t\tcase 'Y':\n\t\t\t\t\treturn reader.getInt16();\n\n\t\t\t\tcase 'b':\n\t\t\t\tcase 'c':\n\t\t\t\tcase 'd':\n\t\t\t\tcase 'f':\n\t\t\t\tcase 'i':\n\t\t\t\tcase 'l':\n\n\t\t\t\t\tvar arrayLength = reader.getUint32();\n\t\t\t\t\tvar encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\t\t\t\t\tvar compressedLength = reader.getUint32();\n\n\t\t\t\t\tif ( encoding === 0 ) {\n\n\t\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\t\treturn reader.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\t\treturn reader.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\t\treturn reader.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\t\treturn reader.getInt32Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\treturn reader.getInt64Array( arrayLength );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( typeof Zlib === 'undefined' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar inflate = new Zlib.Inflate( new Uint8Array( reader.getArrayBuffer( compressedLength ) ) ); // eslint-disable-line no-undef\n\t\t\t\t\tvar reader2 = new BinaryReader( inflate.decompress().buffer );\n\n\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\treturn reader2.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn reader2.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\treturn reader2.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\treturn reader2.getInt32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\treturn reader2.getInt64Array( arrayLength );\n\n\t\t\t\t\t}\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown property type ' + type );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction BinaryReader( buffer, littleEndian ) {\n\n\t\tthis.dv = new DataView( buffer );\n\t\tthis.offset = 0;\n\t\tthis.littleEndian = ( littleEndian !== undefined ) ? littleEndian : true;\n\n\t}\n\n\tBinaryReader.prototype = {\n\n\t\tconstructor: BinaryReader,\n\n\t\tgetOffset: function () {\n\n\t\t\treturn this.offset;\n\n\t\t},\n\n\t\tsize: function () {\n\n\t\t\treturn this.dv.buffer.byteLength;\n\n\t\t},\n\n\t\tskip: function ( length ) {\n\n\t\t\tthis.offset += length;\n\n\t\t},\n\n\t\t// seems like true/false representation depends on exporter.\n\t\t// true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n\t\t// then sees LSB.\n\t\tgetBoolean: function () {\n\n\t\t\treturn ( this.getUint8() & 1 ) === 1;\n\n\t\t},\n\n\t\tgetBooleanArray: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getBoolean() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetUint8: function () {\n\n\t\t\tvar value = this.dv.getUint8( this.offset );\n\t\t\tthis.offset += 1;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt16: function () {\n\n\t\t\tvar value = this.dv.getInt16( this.offset, this.littleEndian );\n\t\t\tthis.offset += 2;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt32: function () {\n\n\t\t\tvar value = this.dv.getInt32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt32Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getInt32() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetUint32: function () {\n\n\t\t\tvar value = this.dv.getUint32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\t// JavaScript doesn't support 64-bit integer so calculate this here\n\t\t// 1 << 32 will return 1 so using multiply operation instead here.\n\t\t// There's a possibility that this method returns wrong value if the value\n\t\t// is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n\t\t// TODO: safely handle 64-bit integer\n\t\tgetInt64: function () {\n\n\t\t\tvar low, high;\n\n\t\t\tif ( this.littleEndian ) {\n\n\t\t\t\tlow = this.getUint32();\n\t\t\t\thigh = this.getUint32();\n\n\t\t\t} else {\n\n\t\t\t\thigh = this.getUint32();\n\t\t\t\tlow = this.getUint32();\n\n\t\t\t}\n\n\t\t\t// calculate negative value\n\t\t\tif ( high & 0x80000000 ) {\n\n\t\t\t\thigh = ~ high & 0xFFFFFFFF;\n\t\t\t\tlow = ~ low & 0xFFFFFFFF;\n\n\t\t\t\tif ( low === 0xFFFFFFFF ) high = ( high + 1 ) & 0xFFFFFFFF;\n\n\t\t\t\tlow = ( low + 1 ) & 0xFFFFFFFF;\n\n\t\t\t\treturn - ( high * 0x100000000 + low );\n\n\t\t\t}\n\n\t\t\treturn high * 0x100000000 + low;\n\n\t\t},\n\n\t\tgetInt64Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getInt64() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\t// Note: see getInt64() comment\n\t\tgetUint64: function () {\n\n\t\t\tvar low, high;\n\n\t\t\tif ( this.littleEndian ) {\n\n\t\t\t\tlow = this.getUint32();\n\t\t\t\thigh = this.getUint32();\n\n\t\t\t} else {\n\n\t\t\t\thigh = this.getUint32();\n\t\t\t\tlow = this.getUint32();\n\n\t\t\t}\n\n\t\t\treturn high * 0x100000000 + low;\n\n\t\t},\n\n\t\tgetFloat32: function () {\n\n\t\t\tvar value = this.dv.getFloat32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetFloat32Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getFloat32() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetFloat64: function () {\n\n\t\t\tvar value = this.dv.getFloat64( this.offset, this.littleEndian );\n\t\t\tthis.offset += 8;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetFloat64Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getFloat64() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetArrayBuffer: function ( size ) {\n\n\t\t\tvar value = this.dv.buffer.slice( this.offset, this.offset + size );\n\t\t\tthis.offset += size;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetString: function ( size ) {\n\n\t\t\t// note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta[ i ] = this.getUint8();\n\n\t\t\t}\n\n\t\t\tvar nullByte = a.indexOf( 0 );\n\t\t\tif ( nullByte >= 0 ) a = a.slice( 0, nullByte );\n\n\t\t\treturn THREE.LoaderUtils.decodeText( new Uint8Array( a ) );\n\n\t\t}\n\n\t};\n\n\t// FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n\t// and BinaryParser( FBX Binary format)\n\tfunction FBXTree() {}\n\n\tFBXTree.prototype = {\n\n\t\tconstructor: FBXTree,\n\n\t\tadd: function ( key, val ) {\n\n\t\t\tthis[ key ] = val;\n\n\t\t},\n\n\t};\n\n\t// ************** UTILITY FUNCTIONS **************\n\n\tfunction isFbxFormatBinary( buffer ) {\n\n\t\tvar CORRECT = 'Kaydara FBX Binary  \\0';\n\n\t\treturn buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString( buffer, 0, CORRECT.length );\n\n\t}\n\n\tfunction isFbxFormatASCII( text ) {\n\n\t\tvar CORRECT = [ 'K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\' ];\n\n\t\tvar cursor = 0;\n\n\t\tfunction read( offset ) {\n\n\t\t\tvar result = text[ offset - 1 ];\n\t\t\ttext = text.slice( cursor + offset );\n\t\t\tcursor ++;\n\t\t\treturn result;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < CORRECT.length; ++ i ) {\n\n\t\t\tvar num = read( 1 );\n\t\t\tif ( num === CORRECT[ i ] ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfunction getFbxVersion( text ) {\n\n\t\tvar versionRegExp = /FBXVersion: (\\d+)/;\n\t\tvar match = text.match( versionRegExp );\n\t\tif ( match ) {\n\n\t\t\tvar version = parseInt( match[ 1 ] );\n\t\t\treturn version;\n\n\t\t}\n\t\tthrow new Error( 'THREE.FBXLoader: Cannot find the version number for the file given.' );\n\n\t}\n\n\t// Converts FBX ticks into real time seconds.\n\tfunction convertFBXTimeToSeconds( time ) {\n\n\t\treturn time / 46186158000;\n\n\t}\n\n\tvar dataArray = [];\n\n\t// extracts the data from the correct position in the FBX array based on indexing type\n\tfunction getData( polygonVertexIndex, polygonIndex, vertexIndex, infoObject ) {\n\n\t\tvar index;\n\n\t\tswitch ( infoObject.mappingType ) {\n\n\t\t\tcase 'ByPolygonVertex' :\n\t\t\t\tindex = polygonVertexIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'ByPolygon' :\n\t\t\t\tindex = polygonIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'ByVertice' :\n\t\t\t\tindex = vertexIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'AllSame' :\n\t\t\t\tindex = infoObject.indices[ 0 ];\n\t\t\t\tbreak;\n\t\t\tdefault :\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType );\n\n\t\t}\n\n\t\tif ( infoObject.referenceType === 'IndexToDirect' ) index = infoObject.indices[ index ];\n\n\t\tvar from = index * infoObject.dataSize;\n\t\tvar to = from + infoObject.dataSize;\n\n\t\treturn slice( dataArray, infoObject.buffer, from, to );\n\n\t}\n\n\tvar tempEuler = new THREE.Euler();\n\tvar tempVec = new THREE.Vector3();\n\n\t// generate transformation from FBX transform data\n\t// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n\t// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\n\tfunction generateTransform( transformData ) {\n\n\t\tvar lTranslationM = new THREE.Matrix4();\n\t\tvar lPreRotationM = new THREE.Matrix4();\n\t\tvar lRotationM = new THREE.Matrix4();\n\t\tvar lPostRotationM = new THREE.Matrix4();\n\n\t\tvar lScalingM = new THREE.Matrix4();\n\t\tvar lScalingPivotM = new THREE.Matrix4();\n\t\tvar lScalingOffsetM = new THREE.Matrix4();\n\t\tvar lRotationOffsetM = new THREE.Matrix4();\n\t\tvar lRotationPivotM = new THREE.Matrix4();\n\n\t\tvar lParentGX = new THREE.Matrix4();\n\t\tvar lGlobalT = new THREE.Matrix4();\n\n\t\tvar inheritType = ( transformData.inheritType ) ? transformData.inheritType : 0;\n\n\t\tif ( transformData.translation ) lTranslationM.setPosition( tempVec.fromArray( transformData.translation ) );\n\n\t\tif ( transformData.preRotation ) {\n\n\t\t\tvar array = transformData.preRotation.map( THREE.Math.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlPreRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.rotation ) {\n\n\t\t\tvar array = transformData.rotation.map( THREE.Math.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.postRotation ) {\n\n\t\t\tvar array = transformData.postRotation.map( THREE.Math.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlPostRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.scale ) lScalingM.scale( tempVec.fromArray( transformData.scale ) );\n\n\t\t// Pivots and offsets\n\t\tif ( transformData.scalingOffset ) lScalingOffsetM.setPosition( tempVec.fromArray( transformData.scalingOffset ) );\n\t\tif ( transformData.scalingPivot ) lScalingPivotM.setPosition( tempVec.fromArray( transformData.scalingPivot ) );\n\t\tif ( transformData.rotationOffset ) lRotationOffsetM.setPosition( tempVec.fromArray( transformData.rotationOffset ) );\n\t\tif ( transformData.rotationPivot ) lRotationPivotM.setPosition( tempVec.fromArray( transformData.rotationPivot ) );\n\n\t\t// parent transform\n\t\tif ( transformData.parentMatrixWorld ) lParentGX = transformData.parentMatrixWorld;\n\n\t\t// Global Rotation\n\t\tvar lLRM = lPreRotationM.multiply( lRotationM ).multiply( lPostRotationM );\n\t\tvar lParentGRM = new THREE.Matrix4();\n\t\tlParentGX.extractRotation( lParentGRM );\n\n\t\t// Global Shear*Scaling\n\t\tvar lParentTM = new THREE.Matrix4();\n\t\tvar lLSM;\n\t\tvar lParentGSM;\n\t\tvar lParentGRSM;\n\n\t\tlParentTM.copyPosition( lParentGX );\n\t\tlParentGRSM = lParentTM.getInverse( lParentTM ).multiply( lParentGX );\n\t\tlParentGSM = lParentGRM.getInverse( lParentGRM ).multiply( lParentGRSM );\n\t\tlLSM = lScalingM;\n\n\t\tvar lGlobalRS;\n\t\tif ( inheritType === 0 ) {\n\n\t\t\tlGlobalRS = lParentGRM.multiply( lLRM ).multiply( lParentGSM ).multiply( lLSM );\n\n\t\t} else if ( inheritType === 1 ) {\n\n\t\t\tlGlobalRS = lParentGRM.multiply( lParentGSM ).multiply( lLRM ).multiply( lLSM );\n\n\t\t} else {\n\n\t\t\tvar lParentLSM = new THREE.Matrix4().copy( lScalingM );\n\n\t\t\tvar lParentGSM_noLocal = lParentGSM.multiply( lParentLSM.getInverse( lParentLSM ) );\n\n\t\t\tlGlobalRS = lParentGRM.multiply( lLRM ).multiply( lParentGSM_noLocal ).multiply( lLSM );\n\n\t\t}\n\n\t\t// Calculate the local transform matrix\n\t\tvar lTransform = lTranslationM.multiply( lRotationOffsetM ).multiply( lRotationPivotM ).multiply( lPreRotationM ).multiply( lRotationM ).multiply( lPostRotationM ).multiply( lRotationPivotM.getInverse( lRotationPivotM ) ).multiply( lScalingOffsetM ).multiply( lScalingPivotM ).multiply( lScalingM ).multiply( lScalingPivotM.getInverse( lScalingPivotM ) );\n\n\t\tvar lLocalTWithAllPivotAndOffsetInfo = new THREE.Matrix4().copyPosition( lTransform );\n\n\t\tvar lGlobalTranslation = lParentGX.multiply( lLocalTWithAllPivotAndOffsetInfo );\n\t\tlGlobalT.copyPosition( lGlobalTranslation );\n\n\t\tlTransform = lGlobalT.multiply( lGlobalRS );\n\n\t\treturn lTransform;\n\n\t}\n\n\t// Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n\t// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\n\tfunction getEulerOrder( order ) {\n\n\t\torder = order || 0;\n\n\t\tvar enums = [\n\t\t\t'ZYX', // -> XYZ extrinsic\n\t\t\t'YZX', // -> XZY extrinsic\n\t\t\t'XZY', // -> YZX extrinsic\n\t\t\t'ZXY', // -> YXZ extrinsic\n\t\t\t'YXZ', // -> ZXY extrinsic\n\t\t\t'XYZ', // -> ZYX extrinsic\n\t\t\t//'SphericXYZ', // not possible to support\n\t\t];\n\n\t\tif ( order === 6 ) {\n\n\t\t\tconsole.warn( 'THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.' );\n\t\t\treturn enums[ 0 ];\n\n\t\t}\n\n\t\treturn enums[ order ];\n\n\t}\n\n\t// Parses comma separated list of numbers and returns them an array.\n\t// Used internally by the TextParser\n\tfunction parseNumberArray( value ) {\n\n\t\tvar array = value.split( ',' ).map( function ( val ) {\n\n\t\t\treturn parseFloat( val );\n\n\t\t} );\n\n\t\treturn array;\n\n\t}\n\n\tfunction convertArrayBufferToString( buffer, from, to ) {\n\n\t\tif ( from === undefined ) from = 0;\n\t\tif ( to === undefined ) to = buffer.byteLength;\n\n\t\treturn THREE.LoaderUtils.decodeText( new Uint8Array( buffer, from, to ) );\n\n\t}\n\n\tfunction append( a, b ) {\n\n\t\tfor ( var i = 0, j = a.length, l = b.length; i < l; i ++, j ++ ) {\n\n\t\t\ta[ j ] = b[ i ];\n\n\t\t}\n\n\t}\n\n\tfunction slice( a, b, from, to ) {\n\n\t\tfor ( var i = from, j = 0; i < to; i ++, j ++ ) {\n\n\t\t\ta[ j ] = b[ i ];\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\t// inject array a2 into array a1 at index\n\tfunction inject( a1, index, a2 ) {\n\n\t\treturn a1.slice( 0, index ).concat( a2 ).concat( a1.slice( index ) );\n\n\t}\n\n\treturn FBXLoader;\n\n} )();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"margin\":\"0\",\"border\":\"0\",\"padding\":\"0\"}},[(_vm.suportWebGL)?_c('canvas',{ref:\"stage\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}):_c('div',[_vm._t(\"default\",[_vm._v(\"浏览器不支持WebGL\")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as THREE from \"three\";\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = false; // if true, pan in screen-space\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: THREE.MOUSE.LEFT, MIDDLE: THREE.MOUSE.MIDDLE, RIGHT: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t// console.log( 'handleKeyDown' );\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\t//console.log( 'handleTouchStartDollyPan' );\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t//console.log( 'handleTouchMoveDollyPan' );\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyIn( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\t// Prevent the browser from scrolling.\n\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase scope.mouseButtons.LEFT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.MIDDLE:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.RIGHT:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties( THREE.OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n","\nimport * as THREE from \"three\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.OBJLoader = ( function () {\n\n\t// o object_name | g group_name\n\tvar object_pattern = /^[og]\\s*(.+)?/;\n\t// mtllib file_reference\n\tvar material_library_pattern = /^mtllib /;\n\t// usemtl material_name\n\tvar material_use_pattern = /^usemtl /;\n\n\tfunction ParserState() {\n\n\t\tvar state = {\n\t\t\tobjects: [],\n\t\t\tobject: {},\n\n\t\t\tvertices: [],\n\t\t\tnormals: [],\n\t\t\tcolors: [],\n\t\t\tuvs: [],\n\n\t\t\tmaterialLibraries: [],\n\n\t\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object = {\n\t\t\t\t\tname: name || '',\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\t\tgeometry: {\n\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\tcolors: [],\n\t\t\t\t\t\tuvs: []\n\t\t\t\t\t},\n\t\t\t\t\tmaterials: [],\n\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\t\tvar previous = this._finalize( false );\n\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar material = {\n\t\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\t\tvar cloned = {\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\t\treturn material;\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn undefined;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Inherit previous objects material.\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\n\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t\t}\n\n\t\t\t\tthis.objects.push( this.object );\n\n\t\t\t},\n\n\t\t\tfinalize: function () {\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t\t},\n\n\t\t\taddVertex: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexPoint: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexLine: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddNormal: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.normals;\n\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddColor: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.colors;\n\t\t\t\tvar dst = this.object.geometry.colors;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddUV: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t\t},\n\n\t\t\taddUVLine: function ( a ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t\t},\n\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\n\n\t\t\t\tthis.addVertex( ia, ib, ic );\n\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\t\tvar uvLen = this.uvs.length;\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\t\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\n\t\t\t\t\tvar nLen = this.normals.length;\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\n\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.colors.length > 0 ) {\n\n\t\t\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tstate.startObject( '', false );\n\n\t\treturn state;\n\n\t}\n\n\t//\n\n\tfunction OBJLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t\tthis.materials = null;\n\n\t}\n\n\tOBJLoader.prototype = {\n\n\t\tconstructor: OBJLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.load( url, function ( text ) {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetMaterials: function ( materials ) {\n\n\t\t\tthis.materials = materials;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tconsole.time( 'OBJLoader' );\n\n\t\t\tvar state = new ParserState();\n\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t\t}\n\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t\t}\n\n\t\t\tvar lines = text.split( '\\n' );\n\t\t\tvar line = '', lineFirstChar = '';\n\t\t\tvar lineLength = 0;\n\t\t\tvar result = [];\n\n\t\t\t// Faster to just trim left side of the line. Use if available.\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\t\tline = lines[ i ];\n\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\t\tlineLength = line.length;\n\n\t\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t\t// @todo invoke passed in handler if any\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\t\tvar data = line.split( /\\s+/ );\n\n\t\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( data.length === 8 ) {\n\n\t\t\t\t\t\t\t\tstate.colors.push(\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\n\t\t\t\t\tvar faceVertices = [];\n\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\n\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\n\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\n\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\n\n\t\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\n\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\n\n\t\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// o object_name\n\t\t\t\t\t// or\n\t\t\t\t\t// g group_name\n\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n\t\t\t\t\tstate.startObject( name );\n\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\n\n\t\t\t\t\t// material\n\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\n\n\t\t\t\t\t// mtl file\n\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t\t// smooth shading\n\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t * or\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t\t}\n\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Handle null terminated files without exception\n\t\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\t\tthrow new Error( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.finalize();\n\n\t\t\tvar container = new THREE.Group();\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tvar object = state.objects[ i ];\n\t\t\t\tvar geometry = object.geometry;\n\t\t\t\tvar materials = object.materials;\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\n\t\t\t\tvar hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tvar buffergeometry = new THREE.BufferGeometry();\n\n\t\t\t\tbuffergeometry.addAttribute( 'position', new THREE.Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.addAttribute( 'color', new THREE.Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tvar createdMaterials = [];\n\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\tvar material = undefined;\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialLine = new THREE.LineBasicMaterial();\n\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialLine.lights = false;\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof THREE.PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialPoints = new THREE.PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tTHREE.Material.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterialPoints.lights = false;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! material ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new THREE.LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new THREE.PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\tmaterial.vertexColors = hasVertexColors ? THREE.VertexColors : THREE.NoColors;\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t\tconsole.timeEnd( 'OBJLoader' );\n\n\t\t\treturn container;\n\n\t\t}\n\n\t};\n\n\treturn OBJLoader;\n\n} )();\n","import * as THREE from \"three\";\n\n/**\n * @author Kyle-Larson https://github.com/Kyle-Larson\n * @author Takahiro https://github.com/takahirox\n * @author Lewy Blue https://github.com/looeee\n *\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * \tBinary format specification:\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\n\nTHREE.FBXLoader = ( function () {\n\n\tvar fbxTree;\n\tvar connections;\n\tvar sceneGraph;\n\n\tfunction FBXLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t}\n\n\tFBXLoader.prototype = {\n\n\t\tconstructor: FBXLoader,\n\n\t\tcrossOrigin: 'anonymous',\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar self = this;\n\n\t\t\tvar path = ( self.path === undefined ) ? THREE.LoaderUtils.extractUrlBase( url ) : self.path;\n\n\t\t\tvar loader = new THREE.FileLoader( this.manager );\n\t\t\tloader.setPath( self.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tonLoad( self.parse( buffer, path ) );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\t\tself.manager.itemError( url );\n\n\t\t\t\t\t}, 0 );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetResourcePath: function ( value ) {\n\n\t\t\tthis.resourcePath = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetCrossOrigin: function ( value ) {\n\n\t\t\tthis.crossOrigin = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( FBXBuffer, path ) {\n\n\t\t\tif ( isFbxFormatBinary( FBXBuffer ) ) {\n\n\t\t\t\tfbxTree = new BinaryParser().parse( FBXBuffer );\n\n\t\t\t} else {\n\n\t\t\t\tvar FBXText = convertArrayBufferToString( FBXBuffer );\n\n\t\t\t\tif ( ! isFbxFormatASCII( FBXText ) ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown format.' );\n\n\t\t\t\t}\n\n\t\t\t\tif ( getFbxVersion( FBXText ) < 7000 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion( FBXText ) );\n\n\t\t\t\t}\n\n\t\t\t\tfbxTree = new TextParser().parse( FBXText );\n\n\t\t\t}\n\n\t\t\t// console.log( fbxTree );\n\n\t\t\tvar textureLoader = new THREE.TextureLoader( this.manager ).setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\t\treturn new FBXTreeParser( textureLoader ).parse( fbxTree );\n\n\t\t}\n\n\t};\n\n\t// Parse the FBXTree object returned by the BinaryParser or TextParser and return a THREE.Group\n\tfunction FBXTreeParser( textureLoader ) {\n\n\t\tthis.textureLoader = textureLoader;\n\n\t}\n\n\tFBXTreeParser.prototype = {\n\n\t\tconstructor: FBXTreeParser,\n\n\t\tparse: function () {\n\n\t\t\tconnections = this.parseConnections();\n\n\t\t\tvar images = this.parseImages();\n\t\t\tvar textures = this.parseTextures( images );\n\t\t\tvar materials = this.parseMaterials( textures );\n\t\t\tvar deformers = this.parseDeformers();\n\t\t\tvar geometryMap = new GeometryParser().parse( deformers );\n\n\t\t\tthis.parseScene( deformers, geometryMap, materials );\n\n\t\t\treturn sceneGraph;\n\n\t\t},\n\n\t\t// Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n\t\t// and details the connection type\n\t\tparseConnections: function () {\n\n\t\t\tvar connectionMap = new Map();\n\n\t\t\tif ( 'Connections' in fbxTree ) {\n\n\t\t\t\tvar rawConnections = fbxTree.Connections.connections;\n\n\t\t\t\trawConnections.forEach( function ( rawConnection ) {\n\n\t\t\t\t\tvar fromID = rawConnection[ 0 ];\n\t\t\t\t\tvar toID = rawConnection[ 1 ];\n\t\t\t\t\tvar relationship = rawConnection[ 2 ];\n\n\t\t\t\t\tif ( ! connectionMap.has( fromID ) ) {\n\n\t\t\t\t\t\tconnectionMap.set( fromID, {\n\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar parentRelationship = { ID: toID, relationship: relationship };\n\t\t\t\t\tconnectionMap.get( fromID ).parents.push( parentRelationship );\n\n\t\t\t\t\tif ( ! connectionMap.has( toID ) ) {\n\n\t\t\t\t\t\tconnectionMap.set( toID, {\n\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar childRelationship = { ID: fromID, relationship: relationship };\n\t\t\t\t\tconnectionMap.get( toID ).children.push( childRelationship );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn connectionMap;\n\n\t\t},\n\n\t\t// Parse FBXTree.Objects.Video for embedded image data\n\t\t// These images are connected to textures in FBXTree.Objects.Textures\n\t\t// via FBXTree.Connections.\n\t\tparseImages: function () {\n\n\t\t\tvar images = {};\n\t\t\tvar blobs = {};\n\n\t\t\tif ( 'Video' in fbxTree.Objects ) {\n\n\t\t\t\tvar videoNodes = fbxTree.Objects.Video;\n\n\t\t\t\tfor ( var nodeID in videoNodes ) {\n\n\t\t\t\t\tvar videoNode = videoNodes[ nodeID ];\n\n\t\t\t\t\tvar id = parseInt( nodeID );\n\n\t\t\t\t\timages[ id ] = videoNode.RelativeFilename || videoNode.Filename;\n\n\t\t\t\t\t// raw image data is in videoNode.Content\n\t\t\t\t\tif ( 'Content' in videoNode ) {\n\n\t\t\t\t\t\tvar arrayBufferContent = ( videoNode.Content instanceof ArrayBuffer ) && ( videoNode.Content.byteLength > 0 );\n\t\t\t\t\t\tvar base64Content = ( typeof videoNode.Content === 'string' ) && ( videoNode.Content !== '' );\n\n\t\t\t\t\t\tif ( arrayBufferContent || base64Content ) {\n\n\t\t\t\t\t\t\tvar image = this.parseImage( videoNodes[ nodeID ] );\n\n\t\t\t\t\t\t\tblobs[ videoNode.RelativeFilename || videoNode.Filename ] = image;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( var id in images ) {\n\n\t\t\t\tvar filename = images[ id ];\n\n\t\t\t\tif ( blobs[ filename ] !== undefined ) images[ id ] = blobs[ filename ];\n\t\t\t\telse images[ id ] = images[ id ].split( '\\\\' ).pop();\n\n\t\t\t}\n\n\t\t\treturn images;\n\n\t\t},\n\n\t\t// Parse embedded image data in FBXTree.Video.Content\n\t\tparseImage: function ( videoNode ) {\n\n\t\t\tvar content = videoNode.Content;\n\t\t\tvar fileName = videoNode.RelativeFilename || videoNode.Filename;\n\t\t\tvar extension = fileName.slice( fileName.lastIndexOf( '.' ) + 1 ).toLowerCase();\n\n\t\t\tvar type;\n\n\t\t\tswitch ( extension ) {\n\n\t\t\t\tcase 'bmp':\n\n\t\t\t\t\ttype = 'image/bmp';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\n\t\t\t\t\ttype = 'image/jpeg';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'png':\n\n\t\t\t\t\ttype = 'image/png';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tif':\n\n\t\t\t\t\ttype = 'image/tiff';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tga':\n\n\t\t\t\t\tif ( typeof THREE.TGALoader !== 'function' ) {\n\n\t\t\t\t\t\tconsole.warn( 'FBXLoader: THREE.TGALoader is required to load TGA textures' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( THREE.Loader.Handlers.get( '.tga' ) === null ) {\n\n\t\t\t\t\t\t\tvar tgaLoader = new THREE.TGALoader();\n\t\t\t\t\t\t\ttgaLoader.setPath( this.textureLoader.path );\n\n\t\t\t\t\t\t\tTHREE.Loader.Handlers.add( /\\.tga$/i, tgaLoader );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttype = 'image/tga';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: Image type \"' + extension + '\" is not supported.' );\n\t\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( typeof content === 'string' ) { // ASCII format\n\n\t\t\t\treturn 'data:' + type + ';base64,' + content;\n\n\t\t\t} else { // Binary Format\n\n\t\t\t\tvar array = new Uint8Array( content );\n\t\t\t\treturn window.URL.createObjectURL( new Blob( [ array ], { type: type } ) );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Texture\n\t\t// These contain details such as UV scaling, cropping, rotation etc and are connected\n\t\t// to images in FBXTree.Objects.Video\n\t\tparseTextures: function ( images ) {\n\n\t\t\tvar textureMap = new Map();\n\n\t\t\tif ( 'Texture' in fbxTree.Objects ) {\n\n\t\t\t\tvar textureNodes = fbxTree.Objects.Texture;\n\t\t\t\tfor ( var nodeID in textureNodes ) {\n\n\t\t\t\t\tvar texture = this.parseTexture( textureNodes[ nodeID ], images );\n\t\t\t\t\ttextureMap.set( parseInt( nodeID ), texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn textureMap;\n\n\t\t},\n\n\t\t// Parse individual node in FBXTree.Objects.Texture\n\t\tparseTexture: function ( textureNode, images ) {\n\n\t\t\tvar texture = this.loadTexture( textureNode, images );\n\n\t\t\ttexture.ID = textureNode.id;\n\n\t\t\ttexture.name = textureNode.attrName;\n\n\t\t\tvar wrapModeU = textureNode.WrapModeU;\n\t\t\tvar wrapModeV = textureNode.WrapModeV;\n\n\t\t\tvar valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n\t\t\tvar valueV = wrapModeV !== undefined ? wrapModeV.value : 0;\n\n\t\t\t// http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n\t\t\t// 0: repeat(default), 1: clamp\n\n\t\t\ttexture.wrapS = valueU === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = valueV === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n\n\t\t\tif ( 'Scaling' in textureNode ) {\n\n\t\t\t\tvar values = textureNode.Scaling.value;\n\n\t\t\t\ttexture.repeat.x = values[ 0 ];\n\t\t\t\ttexture.repeat.y = values[ 1 ];\n\n\t\t\t}\n\n\t\t\treturn texture;\n\n\t\t},\n\n\t\t// load a texture specified as a blob or data URI, or via an external URL using THREE.TextureLoader\n\t\tloadTexture: function ( textureNode, images ) {\n\n\t\t\tvar fileName;\n\n\t\t\tvar currentPath = this.textureLoader.path;\n\n\t\t\tvar children = connections.get( textureNode.id ).children;\n\n\t\t\tif ( children !== undefined && children.length > 0 && images[ children[ 0 ].ID ] !== undefined ) {\n\n\t\t\t\tfileName = images[ children[ 0 ].ID ];\n\n\t\t\t\tif ( fileName.indexOf( 'blob:' ) === 0 || fileName.indexOf( 'data:' ) === 0 ) {\n\n\t\t\t\t\tthis.textureLoader.setPath( undefined );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar texture;\n\n\t\t\tvar extension = textureNode.FileName.slice( - 3 ).toLowerCase();\n\n\t\t\tif ( extension === 'tga' ) {\n\n\t\t\t\tvar loader = THREE.Loader.Handlers.get( '.tga' );\n\n\t\t\t\tif ( loader === null ) {\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: TGALoader not found, creating empty placeholder texture for', fileName );\n\t\t\t\t\ttexture = new THREE.Texture();\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = loader.load( fileName );\n\n\t\t\t\t}\n\n\t\t\t} else if ( extension === 'psd' ) {\n\n\t\t\t\tconsole.warn( 'FBXLoader: PSD textures are not supported, creating empty placeholder texture for', fileName );\n\t\t\t\ttexture = new THREE.Texture();\n\n\t\t\t} else {\n\n\t\t\t\ttexture = this.textureLoader.load( fileName );\n\n\t\t\t}\n\n\t\t\tthis.textureLoader.setPath( currentPath );\n\n\t\t\treturn texture;\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Material\n\t\tparseMaterials: function ( textureMap ) {\n\n\t\t\tvar materialMap = new Map();\n\n\t\t\tif ( 'Material' in fbxTree.Objects ) {\n\n\t\t\t\tvar materialNodes = fbxTree.Objects.Material;\n\n\t\t\t\tfor ( var nodeID in materialNodes ) {\n\n\t\t\t\t\tvar material = this.parseMaterial( materialNodes[ nodeID ], textureMap );\n\n\t\t\t\t\tif ( material !== null ) materialMap.set( parseInt( nodeID ), material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn materialMap;\n\n\t\t},\n\n\t\t// Parse single node in FBXTree.Objects.Material\n\t\t// Materials are connected to texture maps in FBXTree.Objects.Textures\n\t\t// FBX format currently only supports Lambert and Phong shading models\n\t\tparseMaterial: function ( materialNode, textureMap ) {\n\n\t\t\tvar ID = materialNode.id;\n\t\t\tvar name = materialNode.attrName;\n\t\t\tvar type = materialNode.ShadingModel;\n\n\t\t\t// Case where FBX wraps shading model in property object.\n\t\t\tif ( typeof type === 'object' ) {\n\n\t\t\t\ttype = type.value;\n\n\t\t\t}\n\n\t\t\t// Ignore unused materials which don't have any connections.\n\t\t\tif ( ! connections.has( ID ) ) return null;\n\n\t\t\tvar parameters = this.parseParameters( materialNode, textureMap, ID );\n\n\t\t\tvar material;\n\n\t\t\tswitch ( type.toLowerCase() ) {\n\n\t\t\t\tcase 'phong':\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lambert':\n\t\t\t\t\tmaterial = new THREE.MeshLambertMaterial();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type );\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tmaterial.setValues( parameters );\n\t\t\tmaterial.name = name;\n\n\t\t\treturn material;\n\n\t\t},\n\n\t\t// Parse FBX material and return parameters suitable for a three.js material\n\t\t// Also parse the texture map and return any textures associated with the material\n\t\tparseParameters: function ( materialNode, textureMap, ID ) {\n\n\t\t\tvar parameters = {};\n\n\t\t\tif ( materialNode.BumpFactor ) {\n\n\t\t\t\tparameters.bumpScale = materialNode.BumpFactor.value;\n\n\t\t\t}\n\t\t\tif ( materialNode.Diffuse ) {\n\n\t\t\t\tparameters.color = new THREE.Color().fromArray( materialNode.Diffuse.value );\n\n\t\t\t} else if ( materialNode.DiffuseColor && materialNode.DiffuseColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports diffuse here instead of in materialNode.Diffuse\n\t\t\t\tparameters.color = new THREE.Color().fromArray( materialNode.DiffuseColor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.DisplacementFactor ) {\n\n\t\t\t\tparameters.displacementScale = materialNode.DisplacementFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Emissive ) {\n\n\t\t\t\tparameters.emissive = new THREE.Color().fromArray( materialNode.Emissive.value );\n\n\t\t\t} else if ( materialNode.EmissiveColor && materialNode.EmissiveColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports emissive color here instead of in materialNode.Emissive\n\t\t\t\tparameters.emissive = new THREE.Color().fromArray( materialNode.EmissiveColor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.EmissiveFactor ) {\n\n\t\t\t\tparameters.emissiveIntensity = parseFloat( materialNode.EmissiveFactor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Opacity ) {\n\n\t\t\t\tparameters.opacity = parseFloat( materialNode.Opacity.value );\n\n\t\t\t}\n\n\t\t\tif ( parameters.opacity < 1.0 ) {\n\n\t\t\t\tparameters.transparent = true;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.ReflectionFactor ) {\n\n\t\t\t\tparameters.reflectivity = materialNode.ReflectionFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Shininess ) {\n\n\t\t\t\tparameters.shininess = materialNode.Shininess.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Specular ) {\n\n\t\t\t\tparameters.specular = new THREE.Color().fromArray( materialNode.Specular.value );\n\n\t\t\t} else if ( materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports specular color here instead of in materialNode.Specular\n\t\t\t\tparameters.specular = new THREE.Color().fromArray( materialNode.SpecularColor.value );\n\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tconnections.get( ID ).children.forEach( function ( child ) {\n\n\t\t\t\tvar type = child.relationship;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'Bump':\n\t\t\t\t\t\tparameters.bumpMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Maya|TEX_ao_map':\n\t\t\t\t\t\tparameters.aoMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DiffuseColor':\n\t\t\t\t\tcase 'Maya|TEX_color_map':\n\t\t\t\t\t\tparameters.map = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DisplacementColor':\n\t\t\t\t\t\tparameters.displacementMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'EmissiveColor':\n\t\t\t\t\t\tparameters.emissiveMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'NormalMap':\n\t\t\t\t\tcase 'Maya|TEX_normal_map':\n\t\t\t\t\t\tparameters.normalMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ReflectionColor':\n\t\t\t\t\t\tparameters.envMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.envMap.mapping = THREE.EquirectangularReflectionMapping;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpecularColor':\n\t\t\t\t\t\tparameters.specularMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TransparentColor':\n\t\t\t\t\t\tparameters.alphaMap = self.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.transparent = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'AmbientColor':\n\t\t\t\t\tcase 'ShininessExponent': // AKA glossiness map\n\t\t\t\t\tcase 'SpecularFactor': // AKA specularLevel\n\t\t\t\t\tcase 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn parameters;\n\n\t\t},\n\n\t\t// get a texture from the textureMap for use by a material.\n\t\tgetTexture: function ( textureMap, id ) {\n\n\t\t\t// if the texture is a layered texture, just use the first layer and issue a warning\n\t\t\tif ( 'LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.' );\n\t\t\t\tid = connections.get( id ).children[ 0 ].ID;\n\n\t\t\t}\n\n\t\t\treturn textureMap.get( id );\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Deformer\n\t\t// Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n\t\t// Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n\t\tparseDeformers: function () {\n\n\t\t\tvar skeletons = {};\n\t\t\tvar morphTargets = {};\n\n\t\t\tif ( 'Deformer' in fbxTree.Objects ) {\n\n\t\t\t\tvar DeformerNodes = fbxTree.Objects.Deformer;\n\n\t\t\t\tfor ( var nodeID in DeformerNodes ) {\n\n\t\t\t\t\tvar deformerNode = DeformerNodes[ nodeID ];\n\n\t\t\t\t\tvar relationships = connections.get( parseInt( nodeID ) );\n\n\t\t\t\t\tif ( deformerNode.attrType === 'Skin' ) {\n\n\t\t\t\t\t\tvar skeleton = this.parseSkeleton( relationships, DeformerNodes );\n\t\t\t\t\t\tskeleton.ID = nodeID;\n\n\t\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: skeleton attached to more than one geometry is not supported.' );\n\t\t\t\t\t\tskeleton.geometryID = relationships.parents[ 0 ].ID;\n\n\t\t\t\t\t\tskeletons[ nodeID ] = skeleton;\n\n\t\t\t\t\t} else if ( deformerNode.attrType === 'BlendShape' ) {\n\n\t\t\t\t\t\tvar morphTarget = {\n\t\t\t\t\t\t\tid: nodeID,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tmorphTarget.rawTargets = this.parseMorphTargets( relationships, DeformerNodes );\n\t\t\t\t\t\tmorphTarget.id = nodeID;\n\n\t\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: morph target attached to more than one geometry is not supported.' );\n\n\t\t\t\t\t\tmorphTargets[ nodeID ] = morphTarget;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\n\t\t\t\tskeletons: skeletons,\n\t\t\t\tmorphTargets: morphTargets,\n\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse single nodes in FBXTree.Objects.Deformer\n\t\t// The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n\t\t// Each skin node represents a skeleton and each cluster node represents a bone\n\t\tparseSkeleton: function ( relationships, deformerNodes ) {\n\n\t\t\tvar rawBones = [];\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar boneNode = deformerNodes[ child.ID ];\n\n\t\t\t\tif ( boneNode.attrType !== 'Cluster' ) return;\n\n\t\t\t\tvar rawBone = {\n\n\t\t\t\t\tID: child.ID,\n\t\t\t\t\tindices: [],\n\t\t\t\t\tweights: [],\n\t\t\t\t\ttransformLink: new THREE.Matrix4().fromArray( boneNode.TransformLink.a ),\n\t\t\t\t\t// transform: new THREE.Matrix4().fromArray( boneNode.Transform.a ),\n\t\t\t\t\t// linkMode: boneNode.Mode,\n\n\t\t\t\t};\n\n\t\t\t\tif ( 'Indexes' in boneNode ) {\n\n\t\t\t\t\trawBone.indices = boneNode.Indexes.a;\n\t\t\t\t\trawBone.weights = boneNode.Weights.a;\n\n\t\t\t\t}\n\n\t\t\t\trawBones.push( rawBone );\n\n\t\t\t} );\n\n\t\t\treturn {\n\n\t\t\t\trawBones: rawBones,\n\t\t\t\tbones: []\n\n\t\t\t};\n\n\t\t},\n\n\t\t// The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n\t\tparseMorphTargets: function ( relationships, deformerNodes ) {\n\n\t\t\tvar rawMorphTargets = [];\n\n\t\t\tfor ( var i = 0; i < relationships.children.length; i ++ ) {\n\n\t\t\t\tvar child = relationships.children[ i ];\n\n\t\t\t\tvar morphTargetNode = deformerNodes[ child.ID ];\n\n\t\t\t\tvar rawMorphTarget = {\n\n\t\t\t\t\tname: morphTargetNode.attrName,\n\t\t\t\t\tinitialWeight: morphTargetNode.DeformPercent,\n\t\t\t\t\tid: morphTargetNode.id,\n\t\t\t\t\tfullWeights: morphTargetNode.FullWeights.a\n\n\t\t\t\t};\n\n\t\t\t\tif ( morphTargetNode.attrType !== 'BlendShapeChannel' ) return;\n\n\t\t\t\trawMorphTarget.geoID = connections.get( parseInt( child.ID ) ).children.filter( function ( child ) {\n\n\t\t\t\t\treturn child.relationship === undefined;\n\n\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\trawMorphTargets.push( rawMorphTarget );\n\n\t\t\t}\n\n\t\t\treturn rawMorphTargets;\n\n\t\t},\n\n\t\t// create the main THREE.Group() to be returned by the loader\n\t\tparseScene: function ( deformers, geometryMap, materialMap ) {\n\n\t\t\tsceneGraph = new THREE.Group();\n\n\t\t\tvar modelMap = this.parseModels( deformers.skeletons, geometryMap, materialMap );\n\n\t\t\tvar modelNodes = fbxTree.Objects.Model;\n\n\t\t\tvar self = this;\n\t\t\tmodelMap.forEach( function ( model ) {\n\n\t\t\t\tvar modelNode = modelNodes[ model.ID ];\n\t\t\t\tself.setLookAtProperties( model, modelNode );\n\n\t\t\t\tvar parentConnections = connections.get( model.ID ).parents;\n\n\t\t\t\tparentConnections.forEach( function ( connection ) {\n\n\t\t\t\t\tvar parent = modelMap.get( connection.ID );\n\t\t\t\t\tif ( parent !== undefined ) parent.add( model );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( model.parent === null ) {\n\n\t\t\t\t\tsceneGraph.add( model );\n\n\t\t\t\t}\n\n\n\t\t\t} );\n\n\t\t\tthis.bindSkeleton( deformers.skeletons, geometryMap, modelMap );\n\n\t\t\tthis.createAmbientLight();\n\n\t\t\tthis.setupMorphMaterials();\n\n\t\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\t\tif ( node.userData.transformData ) {\n\n\t\t\t\t\tif ( node.parent ) node.userData.transformData.parentMatrixWorld = node.parent.matrix;\n\n\t\t\t\t\tvar transform = generateTransform( node.userData.transformData );\n\n\t\t\t\t\tnode.applyMatrix( transform );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tvar animations = new AnimationParser().parse();\n\n\t\t\t// if all the models where already combined in a single group, just return that\n\t\t\tif ( sceneGraph.children.length === 1 && sceneGraph.children[ 0 ].isGroup ) {\n\n\t\t\t\tsceneGraph.children[ 0 ].animations = animations;\n\t\t\t\tsceneGraph = sceneGraph.children[ 0 ];\n\n\t\t\t}\n\n\t\t\tsceneGraph.animations = animations;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.Model\n\t\tparseModels: function ( skeletons, geometryMap, materialMap ) {\n\n\t\t\tvar modelMap = new Map();\n\t\t\tvar modelNodes = fbxTree.Objects.Model;\n\n\t\t\tfor ( var nodeID in modelNodes ) {\n\n\t\t\t\tvar id = parseInt( nodeID );\n\t\t\t\tvar node = modelNodes[ nodeID ];\n\t\t\t\tvar relationships = connections.get( id );\n\n\t\t\t\tvar model = this.buildSkeleton( relationships, skeletons, id, node.attrName );\n\n\t\t\t\tif ( ! model ) {\n\n\t\t\t\t\tswitch ( node.attrType ) {\n\n\t\t\t\t\t\tcase 'Camera':\n\t\t\t\t\t\t\tmodel = this.createCamera( relationships );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Light':\n\t\t\t\t\t\t\tmodel = this.createLight( relationships );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Mesh':\n\t\t\t\t\t\t\tmodel = this.createMesh( relationships, geometryMap, materialMap );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\t\t\tmodel = this.createCurve( relationships, geometryMap );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'LimbNode':\n\t\t\t\t\t\tcase 'Root':\n\t\t\t\t\t\t\tmodel = new THREE.Bone();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Null':\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmodel = new THREE.Group();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmodel.name = THREE.PropertyBinding.sanitizeNodeName( node.attrName );\n\t\t\t\t\tmodel.ID = id;\n\n\t\t\t\t}\n\n\t\t\t\tthis.getTransformData( model, node );\n\t\t\t\tmodelMap.set( id, model );\n\n\t\t\t}\n\n\t\t\treturn modelMap;\n\n\t\t},\n\n\t\tbuildSkeleton: function ( relationships, skeletons, id, name ) {\n\n\t\t\tvar bone = null;\n\n\t\t\trelationships.parents.forEach( function ( parent ) {\n\n\t\t\t\tfor ( var ID in skeletons ) {\n\n\t\t\t\t\tvar skeleton = skeletons[ ID ];\n\n\t\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\t\tif ( rawBone.ID === parent.ID ) {\n\n\t\t\t\t\t\t\tvar subBone = bone;\n\t\t\t\t\t\t\tbone = new THREE.Bone();\n\n\t\t\t\t\t\t\tbone.matrixWorld.copy( rawBone.transformLink );\n\n\t\t\t\t\t\t\t// set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\t\t\t\t\t\t\tbone.name = THREE.PropertyBinding.sanitizeNodeName( name );\n\t\t\t\t\t\t\tbone.ID = id;\n\n\t\t\t\t\t\t\tskeleton.bones[ i ] = bone;\n\n\t\t\t\t\t\t\t// In cases where a bone is shared between multiple meshes\n\t\t\t\t\t\t\t// duplicate the bone here and and it as a child of the first bone\n\t\t\t\t\t\t\tif ( subBone !== null ) {\n\n\t\t\t\t\t\t\t\tbone.add( subBone );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn bone;\n\n\t\t},\n\n\t\t// create a THREE.PerspectiveCamera or THREE.OrthographicCamera\n\t\tcreateCamera: function ( relationships ) {\n\n\t\t\tvar model;\n\t\t\tvar cameraAttribute;\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\t\tcameraAttribute = attr;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( cameraAttribute === undefined ) {\n\n\t\t\t\tmodel = new THREE.Object3D();\n\n\t\t\t} else {\n\n\t\t\t\tvar type = 0;\n\t\t\t\tif ( cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1 ) {\n\n\t\t\t\t\ttype = 1;\n\n\t\t\t\t}\n\n\t\t\t\tvar nearClippingPlane = 1;\n\t\t\t\tif ( cameraAttribute.NearPlane !== undefined ) {\n\n\t\t\t\t\tnearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n\n\t\t\t\t}\n\n\t\t\t\tvar farClippingPlane = 1000;\n\t\t\t\tif ( cameraAttribute.FarPlane !== undefined ) {\n\n\t\t\t\t\tfarClippingPlane = cameraAttribute.FarPlane.value / 1000;\n\n\t\t\t\t}\n\n\n\t\t\t\tvar width = window.innerWidth;\n\t\t\t\tvar height = window.innerHeight;\n\n\t\t\t\tif ( cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined ) {\n\n\t\t\t\t\twidth = cameraAttribute.AspectWidth.value;\n\t\t\t\t\theight = cameraAttribute.AspectHeight.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar aspect = width / height;\n\n\t\t\t\tvar fov = 45;\n\t\t\t\tif ( cameraAttribute.FieldOfView !== undefined ) {\n\n\t\t\t\t\tfov = cameraAttribute.FieldOfView.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 0: // Perspective\n\t\t\t\t\t\tmodel = new THREE.PerspectiveCamera( fov, aspect, nearClippingPlane, farClippingPlane );\n\t\t\t\t\t\tif ( focalLength !== null ) model.setFocalLength( focalLength );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1: // Orthographic\n\t\t\t\t\t\tmodel = new THREE.OrthographicCamera( - width / 2, width / 2, height / 2, - height / 2, nearClippingPlane, farClippingPlane );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown camera type ' + type + '.' );\n\t\t\t\t\t\tmodel = new THREE.Object3D();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\t// Create a THREE.DirectionalLight, THREE.PointLight or THREE.SpotLight\n\t\tcreateLight: function ( relationships ) {\n\n\t\t\tvar model;\n\t\t\tvar lightAttribute;\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\t\tlightAttribute = attr;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( lightAttribute === undefined ) {\n\n\t\t\t\tmodel = new THREE.Object3D();\n\n\t\t\t} else {\n\n\t\t\t\tvar type;\n\n\t\t\t\t// LightType can be undefined for Point lights\n\t\t\t\tif ( lightAttribute.LightType === undefined ) {\n\n\t\t\t\t\ttype = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttype = lightAttribute.LightType.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar color = 0xffffff;\n\n\t\t\t\tif ( lightAttribute.Color !== undefined ) {\n\n\t\t\t\t\tcolor = new THREE.Color().fromArray( lightAttribute.Color.value );\n\n\t\t\t\t}\n\n\t\t\t\tvar intensity = ( lightAttribute.Intensity === undefined ) ? 1 : lightAttribute.Intensity.value / 100;\n\n\t\t\t\t// light disabled\n\t\t\t\tif ( lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0 ) {\n\n\t\t\t\t\tintensity = 0;\n\n\t\t\t\t}\n\n\t\t\t\tvar distance = 0;\n\t\t\t\tif ( lightAttribute.FarAttenuationEnd !== undefined ) {\n\n\t\t\t\t\tif ( lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0 ) {\n\n\t\t\t\t\t\tdistance = 0;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdistance = lightAttribute.FarAttenuationEnd.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\t\t\t\tvar decay = 1;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 0: // Point\n\t\t\t\t\t\tmodel = new THREE.PointLight( color, intensity, distance, decay );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1: // Directional\n\t\t\t\t\t\tmodel = new THREE.DirectionalLight( color, intensity );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2: // Spot\n\t\t\t\t\t\tvar angle = Math.PI / 3;\n\n\t\t\t\t\t\tif ( lightAttribute.InnerAngle !== undefined ) {\n\n\t\t\t\t\t\t\tangle = THREE.Math.degToRad( lightAttribute.InnerAngle.value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar penumbra = 0;\n\t\t\t\t\t\tif ( lightAttribute.OuterAngle !== undefined ) {\n\n\t\t\t\t\t\t\t// TODO: this is not correct - FBX calculates outer and inner angle in degrees\n\t\t\t\t\t\t\t// with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n\t\t\t\t\t\t\t// while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n\t\t\t\t\t\t\tpenumbra = THREE.Math.degToRad( lightAttribute.OuterAngle.value );\n\t\t\t\t\t\t\tpenumbra = Math.max( penumbra, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmodel = new THREE.SpotLight( color, intensity, distance, angle, penumbra, decay );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a THREE.PointLight.' );\n\t\t\t\t\t\tmodel = new THREE.PointLight( color, intensity );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1 ) {\n\n\t\t\t\t\tmodel.castShadow = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\tcreateMesh: function ( relationships, geometryMap, materialMap ) {\n\n\t\t\tvar model;\n\t\t\tvar geometry = null;\n\t\t\tvar material = null;\n\t\t\tvar materials = [];\n\n\t\t\t// get geometry and materials(s) from connections\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tif ( geometryMap.has( child.ID ) ) {\n\n\t\t\t\t\tgeometry = geometryMap.get( child.ID );\n\n\t\t\t\t}\n\n\t\t\t\tif ( materialMap.has( child.ID ) ) {\n\n\t\t\t\t\tmaterials.push( materialMap.get( child.ID ) );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( materials.length > 1 ) {\n\n\t\t\t\tmaterial = materials;\n\n\t\t\t} else if ( materials.length > 0 ) {\n\n\t\t\t\tmaterial = materials[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new THREE.MeshPhongMaterial( { color: 0xcccccc } );\n\t\t\t\tmaterials.push( material );\n\n\t\t\t}\n\n\t\t\tif ( 'color' in geometry.attributes ) {\n\n\t\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\t\tmaterial.vertexColors = THREE.VertexColors;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( geometry.FBX_Deformer ) {\n\n\t\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\t\tmaterial.skinning = true;\n\n\t\t\t\t} );\n\n\t\t\t\tmodel = new THREE.SkinnedMesh( geometry, material );\n\t\t\t\tmodel.normalizeSkinWeights();\n\n\t\t\t} else {\n\n\t\t\t\tmodel = new THREE.Mesh( geometry, material );\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\tcreateCurve: function ( relationships, geometryMap ) {\n\n\t\t\tvar geometry = relationships.children.reduce( function ( geo, child ) {\n\n\t\t\t\tif ( geometryMap.has( child.ID ) ) geo = geometryMap.get( child.ID );\n\n\t\t\t\treturn geo;\n\n\t\t\t}, null );\n\n\t\t\t// FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\t\t\tvar material = new THREE.LineBasicMaterial( { color: 0x3300ff, linewidth: 1 } );\n\t\t\treturn new THREE.Line( geometry, material );\n\n\t\t},\n\n\t\t// parse the model node for transform data\n\t\tgetTransformData: function ( model, modelNode ) {\n\n\t\t\tvar transformData = {};\n\n\t\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\t\telse transformData.eulerOrder = 'ZYX';\n\n\t\t\tif ( 'Lcl_Translation' in modelNode ) transformData.translation = modelNode.Lcl_Translation.value;\n\n\t\t\tif ( 'PreRotation' in modelNode ) transformData.preRotation = modelNode.PreRotation.value;\n\t\t\tif ( 'Lcl_Rotation' in modelNode ) transformData.rotation = modelNode.Lcl_Rotation.value;\n\t\t\tif ( 'PostRotation' in modelNode ) transformData.postRotation = modelNode.PostRotation.value;\n\n\t\t\tif ( 'Lcl_Scaling' in modelNode ) transformData.scale = modelNode.Lcl_Scaling.value;\n\n\t\t\tif ( 'ScalingOffset' in modelNode ) transformData.scalingOffset = modelNode.ScalingOffset.value;\n\t\t\tif ( 'ScalingPivot' in modelNode ) transformData.scalingPivot = modelNode.ScalingPivot.value;\n\n\t\t\tif ( 'RotationOffset' in modelNode ) transformData.rotationOffset = modelNode.RotationOffset.value;\n\t\t\tif ( 'RotationPivot' in modelNode ) transformData.rotationPivot = modelNode.RotationPivot.value;\n\n\t\t\tmodel.userData.transformData = transformData;\n\n\t\t},\n\n\t\tsetLookAtProperties: function ( model, modelNode ) {\n\n\t\t\tif ( 'LookAtProperty' in modelNode ) {\n\n\t\t\t\tvar children = connections.get( model.ID ).children;\n\n\t\t\t\tchildren.forEach( function ( child ) {\n\n\t\t\t\t\tif ( child.relationship === 'LookAtProperty' ) {\n\n\t\t\t\t\t\tvar lookAtTarget = fbxTree.Objects.Model[ child.ID ];\n\n\t\t\t\t\t\tif ( 'Lcl_Translation' in lookAtTarget ) {\n\n\t\t\t\t\t\t\tvar pos = lookAtTarget.Lcl_Translation.value;\n\n\t\t\t\t\t\t\t// DirectionalLight, SpotLight\n\t\t\t\t\t\t\tif ( model.target !== undefined ) {\n\n\t\t\t\t\t\t\t\tmodel.target.position.fromArray( pos );\n\t\t\t\t\t\t\t\tsceneGraph.add( model.target );\n\n\t\t\t\t\t\t\t} else { // Cameras and other Object3Ds\n\n\t\t\t\t\t\t\t\tmodel.lookAt( new THREE.Vector3().fromArray( pos ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\n\t\tbindSkeleton: function ( skeletons, geometryMap, modelMap ) {\n\n\t\t\tvar bindMatrices = this.parsePoseNodes();\n\n\t\t\tfor ( var ID in skeletons ) {\n\n\t\t\t\tvar skeleton = skeletons[ ID ];\n\n\t\t\t\tvar parents = connections.get( parseInt( skeleton.ID ) ).parents;\n\n\t\t\t\tparents.forEach( function ( parent ) {\n\n\t\t\t\t\tif ( geometryMap.has( parent.ID ) ) {\n\n\t\t\t\t\t\tvar geoID = parent.ID;\n\t\t\t\t\t\tvar geoRelationships = connections.get( geoID );\n\n\t\t\t\t\t\tgeoRelationships.parents.forEach( function ( geoConnParent ) {\n\n\t\t\t\t\t\t\tif ( modelMap.has( geoConnParent.ID ) ) {\n\n\t\t\t\t\t\t\t\tvar model = modelMap.get( geoConnParent.ID );\n\n\t\t\t\t\t\t\t\tmodel.bind( new THREE.Skeleton( skeleton.bones ), bindMatrices[ geoConnParent.ID ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparsePoseNodes: function () {\n\n\t\t\tvar bindMatrices = {};\n\n\t\t\tif ( 'Pose' in fbxTree.Objects ) {\n\n\t\t\t\tvar BindPoseNode = fbxTree.Objects.Pose;\n\n\t\t\t\tfor ( var nodeID in BindPoseNode ) {\n\n\t\t\t\t\tif ( BindPoseNode[ nodeID ].attrType === 'BindPose' ) {\n\n\t\t\t\t\t\tvar poseNodes = BindPoseNode[ nodeID ].PoseNode;\n\n\t\t\t\t\t\tif ( Array.isArray( poseNodes ) ) {\n\n\t\t\t\t\t\t\tposeNodes.forEach( function ( poseNode ) {\n\n\t\t\t\t\t\t\t\tbindMatrices[ poseNode.Node ] = new THREE.Matrix4().fromArray( poseNode.Matrix.a );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tbindMatrices[ poseNodes.Node ] = new THREE.Matrix4().fromArray( poseNodes.Matrix.a );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bindMatrices;\n\n\t\t},\n\n\t\t// Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n\t\tcreateAmbientLight: function () {\n\n\t\t\tif ( 'GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings ) {\n\n\t\t\t\tvar ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n\t\t\t\tvar r = ambientColor[ 0 ];\n\t\t\t\tvar g = ambientColor[ 1 ];\n\t\t\t\tvar b = ambientColor[ 2 ];\n\n\t\t\t\tif ( r !== 0 || g !== 0 || b !== 0 ) {\n\n\t\t\t\t\tvar color = new THREE.Color( r, g, b );\n\t\t\t\t\tsceneGraph.add( new THREE.AmbientLight( color, 1 ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tsetupMorphMaterials: function () {\n\n\t\t\tvar self = this;\n\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\tif ( child.isMesh ) {\n\n\t\t\t\t\tif ( child.geometry.morphAttributes.position && child.geometry.morphAttributes.position.length ) {\n\n\t\t\t\t\t\tif ( Array.isArray( child.material ) ) {\n\n\t\t\t\t\t\t\tchild.material.forEach( function ( material, i ) {\n\n\t\t\t\t\t\t\t\tself.setupMorphMaterial( child, material, i );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tself.setupMorphMaterial( child, child.material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t},\n\n\t\tsetupMorphMaterial: function ( child, material, index ) {\n\n\t\t\tvar uuid = child.uuid;\n\t\t\tvar matUuid = material.uuid;\n\n\t\t\t// if a geometry has morph targets, it cannot share the material with other geometries\n\t\t\tvar sharedMat = false;\n\n\t\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\t\tif ( node.isMesh ) {\n\n\t\t\t\t\tif ( Array.isArray( node.material ) ) {\n\n\t\t\t\t\t\tnode.material.forEach( function ( mat ) {\n\n\t\t\t\t\t\t\tif ( mat.uuid === matUuid && node.uuid !== uuid ) sharedMat = true;\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} else if ( node.material.uuid === matUuid && node.uuid !== uuid ) sharedMat = true;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( sharedMat === true ) {\n\n\t\t\t\tvar clonedMat = material.clone();\n\t\t\t\tclonedMat.morphTargets = true;\n\n\t\t\t\tif ( index === undefined ) child.material = clonedMat;\n\t\t\t\telse child.material[ index ] = clonedMat;\n\n\t\t\t} else material.morphTargets = true;\n\n\t\t}\n\n\t};\n\n\t// parse Geometry data from FBXTree and return map of BufferGeometries\n\tfunction GeometryParser() {}\n\n\tGeometryParser.prototype = {\n\n\t\tconstructor: GeometryParser,\n\n\t\t// Parse nodes in FBXTree.Objects.Geometry\n\t\tparse: function ( deformers ) {\n\n\t\t\tvar geometryMap = new Map();\n\n\t\t\tif ( 'Geometry' in fbxTree.Objects ) {\n\n\t\t\t\tvar geoNodes = fbxTree.Objects.Geometry;\n\n\t\t\t\tfor ( var nodeID in geoNodes ) {\n\n\t\t\t\t\tvar relationships = connections.get( parseInt( nodeID ) );\n\t\t\t\t\tvar geo = this.parseGeometry( relationships, geoNodes[ nodeID ], deformers );\n\n\t\t\t\t\tgeometryMap.set( parseInt( nodeID ), geo );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn geometryMap;\n\n\t\t},\n\n\t\t// Parse single node in FBXTree.Objects.Geometry\n\t\tparseGeometry: function ( relationships, geoNode, deformers ) {\n\n\t\t\tswitch ( geoNode.attrType ) {\n\n\t\t\t\tcase 'Mesh':\n\t\t\t\t\treturn this.parseMeshGeometry( relationships, geoNode, deformers );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\treturn this.parseNurbsGeometry( geoNode );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// Parse single node mesh geometry in FBXTree.Objects.Geometry\n\t\tparseMeshGeometry: function ( relationships, geoNode, deformers ) {\n\n\t\t\tvar skeletons = deformers.skeletons;\n\t\t\tvar morphTargets = deformers.morphTargets;\n\n\t\t\tvar modelNodes = relationships.parents.map( function ( parent ) {\n\n\t\t\t\treturn fbxTree.Objects.Model[ parent.ID ];\n\n\t\t\t} );\n\n\t\t\t// don't create geometry if it is not associated with any models\n\t\t\tif ( modelNodes.length === 0 ) return;\n\n\t\t\tvar skeleton = relationships.children.reduce( function ( skeleton, child ) {\n\n\t\t\t\tif ( skeletons[ child.ID ] !== undefined ) skeleton = skeletons[ child.ID ];\n\n\t\t\t\treturn skeleton;\n\n\t\t\t}, null );\n\n\t\t\tvar morphTarget = relationships.children.reduce( function ( morphTarget, child ) {\n\n\t\t\t\tif ( morphTargets[ child.ID ] !== undefined ) morphTarget = morphTargets[ child.ID ];\n\n\t\t\t\treturn morphTarget;\n\n\t\t\t}, null );\n\n\t\t\t// Assume one model and get the preRotation from that\n\t\t\t// if there is more than one model associated with the geometry this may cause problems\n\t\t\tvar modelNode = modelNodes[ 0 ];\n\n\t\t\tvar transformData = {};\n\n\t\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\t\tif ( 'GeometricTranslation' in modelNode ) transformData.translation = modelNode.GeometricTranslation.value;\n\t\t\tif ( 'GeometricRotation' in modelNode ) transformData.rotation = modelNode.GeometricRotation.value;\n\t\t\tif ( 'GeometricScaling' in modelNode ) transformData.scale = modelNode.GeometricScaling.value;\n\n\t\t\tvar transform = generateTransform( transformData );\n\n\t\t\treturn this.genGeometry( geoNode, skeleton, morphTarget, transform );\n\n\t\t},\n\n\t\t// Generate a THREE.BufferGeometry from a node in FBXTree.Objects.Geometry\n\t\tgenGeometry: function ( geoNode, skeleton, morphTarget, preTransform ) {\n\n\t\t\tvar geo = new THREE.BufferGeometry();\n\t\t\tif ( geoNode.attrName ) geo.name = geoNode.attrName;\n\n\t\t\tvar geoInfo = this.parseGeoNode( geoNode, skeleton );\n\t\t\tvar buffers = this.genBuffers( geoInfo );\n\n\t\t\tvar positionAttribute = new THREE.Float32BufferAttribute( buffers.vertex, 3 );\n\n\t\t\tpreTransform.applyToBufferAttribute( positionAttribute );\n\n\t\t\tgeo.addAttribute( 'position', positionAttribute );\n\n\t\t\tif ( buffers.colors.length > 0 ) {\n\n\t\t\t\tgeo.addAttribute( 'color', new THREE.Float32BufferAttribute( buffers.colors, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tgeo.addAttribute( 'skinIndex', new THREE.Uint16BufferAttribute( buffers.weightsIndices, 4 ) );\n\n\t\t\t\tgeo.addAttribute( 'skinWeight', new THREE.Float32BufferAttribute( buffers.vertexWeights, 4 ) );\n\n\t\t\t\t// used later to bind the skeleton to the model\n\t\t\t\tgeo.FBX_Deformer = skeleton;\n\n\t\t\t}\n\n\t\t\tif ( buffers.normal.length > 0 ) {\n\n\t\t\t\tvar normalAttribute = new THREE.Float32BufferAttribute( buffers.normal, 3 );\n\n\t\t\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( preTransform );\n\t\t\t\tnormalMatrix.applyToBufferAttribute( normalAttribute );\n\n\t\t\t\tgeo.addAttribute( 'normal', normalAttribute );\n\n\t\t\t}\n\n\t\t\tbuffers.uvs.forEach( function ( uvBuffer, i ) {\n\n\t\t\t\t// subsequent uv buffers are called 'uv1', 'uv2', ...\n\t\t\t\tvar name = 'uv' + ( i + 1 ).toString();\n\n\t\t\t\t// the first uv buffer is just called 'uv'\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tname = 'uv';\n\n\t\t\t\t}\n\n\t\t\t\tgeo.addAttribute( name, new THREE.Float32BufferAttribute( buffers.uvs[ i ], 2 ) );\n\n\t\t\t} );\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t// Convert the material indices of each vertex into rendering groups on the geometry.\n\t\t\t\tvar prevMaterialIndex = buffers.materialIndex[ 0 ];\n\t\t\t\tvar startIndex = 0;\n\n\t\t\t\tbuffers.materialIndex.forEach( function ( currentIndex, i ) {\n\n\t\t\t\t\tif ( currentIndex !== prevMaterialIndex ) {\n\n\t\t\t\t\t\tgeo.addGroup( startIndex, i - startIndex, prevMaterialIndex );\n\n\t\t\t\t\t\tprevMaterialIndex = currentIndex;\n\t\t\t\t\t\tstartIndex = i;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t// the loop above doesn't add the last group, do that here.\n\t\t\t\tif ( geo.groups.length > 0 ) {\n\n\t\t\t\t\tvar lastGroup = geo.groups[ geo.groups.length - 1 ];\n\t\t\t\t\tvar lastIndex = lastGroup.start + lastGroup.count;\n\n\t\t\t\t\tif ( lastIndex !== buffers.materialIndex.length ) {\n\n\t\t\t\t\t\tgeo.addGroup( lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// case where there are multiple materials but the whole geometry is only\n\t\t\t\t// using one of them\n\t\t\t\tif ( geo.groups.length === 0 ) {\n\n\t\t\t\t\tgeo.addGroup( 0, buffers.materialIndex.length, buffers.materialIndex[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.addMorphTargets( geo, geoNode, morphTarget, preTransform );\n\n\t\t\treturn geo;\n\n\t\t},\n\n\t\tparseGeoNode: function ( geoNode, skeleton ) {\n\n\t\t\tvar geoInfo = {};\n\n\t\t\tgeoInfo.vertexPositions = ( geoNode.Vertices !== undefined ) ? geoNode.Vertices.a : [];\n\t\t\tgeoInfo.vertexIndices = ( geoNode.PolygonVertexIndex !== undefined ) ? geoNode.PolygonVertexIndex.a : [];\n\n\t\t\tif ( geoNode.LayerElementColor ) {\n\n\t\t\t\tgeoInfo.color = this.parseVertexColors( geoNode.LayerElementColor[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementMaterial ) {\n\n\t\t\t\tgeoInfo.material = this.parseMaterialIndices( geoNode.LayerElementMaterial[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementNormal ) {\n\n\t\t\t\tgeoInfo.normal = this.parseNormals( geoNode.LayerElementNormal[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementUV ) {\n\n\t\t\t\tgeoInfo.uv = [];\n\n\t\t\t\tvar i = 0;\n\t\t\t\twhile ( geoNode.LayerElementUV[ i ] ) {\n\n\t\t\t\t\tgeoInfo.uv.push( this.parseUVs( geoNode.LayerElementUV[ i ] ) );\n\t\t\t\t\ti ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeoInfo.weightTable = {};\n\n\t\t\tif ( skeleton !== null ) {\n\n\t\t\t\tgeoInfo.skeleton = skeleton;\n\n\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\t// loop over the bone's vertex indices and weights\n\t\t\t\t\trawBone.indices.forEach( function ( index, j ) {\n\n\t\t\t\t\t\tif ( geoInfo.weightTable[ index ] === undefined ) geoInfo.weightTable[ index ] = [];\n\n\t\t\t\t\t\tgeoInfo.weightTable[ index ].push( {\n\n\t\t\t\t\t\t\tid: i,\n\t\t\t\t\t\t\tweight: rawBone.weights[ j ],\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn geoInfo;\n\n\t\t},\n\n\t\tgenBuffers: function ( geoInfo ) {\n\n\t\t\tvar buffers = {\n\t\t\t\tvertex: [],\n\t\t\t\tnormal: [],\n\t\t\t\tcolors: [],\n\t\t\t\tuvs: [],\n\t\t\t\tmaterialIndex: [],\n\t\t\t\tvertexWeights: [],\n\t\t\t\tweightsIndices: [],\n\t\t\t};\n\n\t\t\tvar polygonIndex = 0;\n\t\t\tvar faceLength = 0;\n\t\t\tvar displayedWeightsWarning = false;\n\n\t\t\t// these will hold data for a single face\n\t\t\tvar facePositionIndexes = [];\n\t\t\tvar faceNormals = [];\n\t\t\tvar faceColors = [];\n\t\t\tvar faceUVs = [];\n\t\t\tvar faceWeights = [];\n\t\t\tvar faceWeightIndices = [];\n\n\t\t\tvar self = this;\n\t\t\tgeoInfo.vertexIndices.forEach( function ( vertexIndex, polygonVertexIndex ) {\n\n\t\t\t\tvar endOfFace = false;\n\n\t\t\t\t// Face index and vertex index arrays are combined in a single array\n\t\t\t\t// A cube with quad faces looks like this:\n\t\t\t\t// PolygonVertexIndex: *24 {\n\t\t\t\t//  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n\t\t\t\t//  }\n\t\t\t\t// Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n\t\t\t\t// to find index of last vertex bit shift the index: ^ - 1\n\t\t\t\tif ( vertexIndex < 0 ) {\n\n\t\t\t\t\tvertexIndex = vertexIndex ^ - 1; // equivalent to ( x * -1 ) - 1\n\t\t\t\t\tendOfFace = true;\n\n\t\t\t\t}\n\n\t\t\t\tvar weightIndices = [];\n\t\t\t\tvar weights = [];\n\n\t\t\t\tfacePositionIndexes.push( vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2 );\n\n\t\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color );\n\n\t\t\t\t\tfaceColors.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\t\tif ( geoInfo.weightTable[ vertexIndex ] !== undefined ) {\n\n\t\t\t\t\t\tgeoInfo.weightTable[ vertexIndex ].forEach( function ( wt ) {\n\n\t\t\t\t\t\t\tweights.push( wt.weight );\n\t\t\t\t\t\t\tweightIndices.push( wt.id );\n\n\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( weights.length > 4 ) {\n\n\t\t\t\t\t\tif ( ! displayedWeightsWarning ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.' );\n\t\t\t\t\t\t\tdisplayedWeightsWarning = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar wIndex = [ 0, 0, 0, 0 ];\n\t\t\t\t\t\tvar Weight = [ 0, 0, 0, 0 ];\n\n\t\t\t\t\t\tweights.forEach( function ( weight, weightIndex ) {\n\n\t\t\t\t\t\t\tvar currentWeight = weight;\n\t\t\t\t\t\t\tvar currentIndex = weightIndices[ weightIndex ];\n\n\t\t\t\t\t\t\tWeight.forEach( function ( comparedWeight, comparedWeightIndex, comparedWeightArray ) {\n\n\t\t\t\t\t\t\t\tif ( currentWeight > comparedWeight ) {\n\n\t\t\t\t\t\t\t\t\tcomparedWeightArray[ comparedWeightIndex ] = currentWeight;\n\t\t\t\t\t\t\t\t\tcurrentWeight = comparedWeight;\n\n\t\t\t\t\t\t\t\t\tvar tmp = wIndex[ comparedWeightIndex ];\n\t\t\t\t\t\t\t\t\twIndex[ comparedWeightIndex ] = currentIndex;\n\t\t\t\t\t\t\t\t\tcurrentIndex = tmp;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tweightIndices = wIndex;\n\t\t\t\t\t\tweights = Weight;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if the weight array is shorter than 4 pad with 0s\n\t\t\t\t\twhile ( weights.length < 4 ) {\n\n\t\t\t\t\t\tweights.push( 0 );\n\t\t\t\t\t\tweightIndices.push( 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < 4; ++ i ) {\n\n\t\t\t\t\t\tfaceWeights.push( weights[ i ] );\n\t\t\t\t\t\tfaceWeightIndices.push( weightIndices[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal );\n\n\t\t\t\t\tfaceNormals.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t\tvar materialIndex = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material )[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\t\tgeoInfo.uv.forEach( function ( uv, i ) {\n\n\t\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, uv );\n\n\t\t\t\t\t\tif ( faceUVs[ i ] === undefined ) {\n\n\t\t\t\t\t\t\tfaceUVs[ i ] = [];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfaceUVs[ i ].push( data[ 0 ] );\n\t\t\t\t\t\tfaceUVs[ i ].push( data[ 1 ] );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tfaceLength ++;\n\n\t\t\t\tif ( endOfFace ) {\n\n\t\t\t\t\tself.genFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength );\n\n\t\t\t\t\tpolygonIndex ++;\n\t\t\t\t\tfaceLength = 0;\n\n\t\t\t\t\t// reset arrays for the next face\n\t\t\t\t\tfacePositionIndexes = [];\n\t\t\t\t\tfaceNormals = [];\n\t\t\t\t\tfaceColors = [];\n\t\t\t\t\tfaceUVs = [];\n\t\t\t\t\tfaceWeights = [];\n\t\t\t\t\tfaceWeightIndices = [];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn buffers;\n\n\t\t},\n\n\t\t// Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n\t\tgenFace: function ( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength ) {\n\n\t\t\tfor ( var i = 2; i < faceLength; i ++ ) {\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 0 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 2 ] ] );\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 2 ] ] );\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 2 ] ] );\n\n\t\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 0 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 3 ] );\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 0 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 3 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ 0 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ 2 ] );\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 0 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 2 ] );\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\t\tgeoInfo.uv.forEach( function ( uv, j ) {\n\n\t\t\t\t\t\tif ( buffers.uvs[ j ] === undefined ) buffers.uvs[ j ] = [];\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 0 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 1 ] );\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 + 1 ] );\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 + 1 ] );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\taddMorphTargets: function ( parentGeo, parentGeoNode, morphTarget, preTransform ) {\n\n\t\t\tif ( morphTarget === null ) return;\n\n\t\t\tparentGeo.morphAttributes.position = [];\n\t\t\t// parentGeo.morphAttributes.normal = []; // not implemented\n\n\t\t\tvar self = this;\n\t\t\tmorphTarget.rawTargets.forEach( function ( rawTarget ) {\n\n\t\t\t\tvar morphGeoNode = fbxTree.Objects.Geometry[ rawTarget.geoID ];\n\n\t\t\t\tif ( morphGeoNode !== undefined ) {\n\n\t\t\t\t\tself.genMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t},\n\n\t\t// a morph geometry node is similar to a standard  node, and the node is also contained\n\t\t// in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n\t\t// and a special attribute Index defining which vertices of the original geometry are affected\n\t\t// Normal and position attributes only have data for the vertices that are affected by the morph\n\t\tgenMorphGeometry: function ( parentGeo, parentGeoNode, morphGeoNode, preTransform, name ) {\n\n\t\t\tvar morphGeo = new THREE.BufferGeometry();\n\t\t\tif ( morphGeoNode.attrName ) morphGeo.name = morphGeoNode.attrName;\n\n\t\t\tvar vertexIndices = ( parentGeoNode.PolygonVertexIndex !== undefined ) ? parentGeoNode.PolygonVertexIndex.a : [];\n\n\t\t\t// make a copy of the parent's vertex positions\n\t\t\tvar vertexPositions = ( parentGeoNode.Vertices !== undefined ) ? parentGeoNode.Vertices.a.slice() : [];\n\n\t\t\tvar morphPositions = ( morphGeoNode.Vertices !== undefined ) ? morphGeoNode.Vertices.a : [];\n\t\t\tvar indices = ( morphGeoNode.Indexes !== undefined ) ? morphGeoNode.Indexes.a : [];\n\n\t\t\tfor ( var i = 0; i < indices.length; i ++ ) {\n\n\t\t\t\tvar morphIndex = indices[ i ] * 3;\n\n\t\t\t\t// FBX format uses blend shapes rather than morph targets. This can be converted\n\t\t\t\t// by additively combining the blend shape positions with the original geometry's positions\n\t\t\t\tvertexPositions[ morphIndex ] += morphPositions[ i * 3 ];\n\t\t\t\tvertexPositions[ morphIndex + 1 ] += morphPositions[ i * 3 + 1 ];\n\t\t\t\tvertexPositions[ morphIndex + 2 ] += morphPositions[ i * 3 + 2 ];\n\n\t\t\t}\n\n\t\t\t// TODO: add morph normal support\n\t\t\tvar morphGeoInfo = {\n\t\t\t\tvertexIndices: vertexIndices,\n\t\t\t\tvertexPositions: vertexPositions,\n\t\t\t};\n\n\t\t\tvar morphBuffers = this.genBuffers( morphGeoInfo );\n\n\t\t\tvar positionAttribute = new THREE.Float32BufferAttribute( morphBuffers.vertex, 3 );\n\t\t\tpositionAttribute.name = name || morphGeoNode.attrName;\n\n\t\t\tpreTransform.applyToBufferAttribute( positionAttribute );\n\n\t\t\tparentGeo.morphAttributes.position.push( positionAttribute );\n\n\t\t},\n\n\t\t// Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n\t\tparseNormals: function ( NormalNode ) {\n\n\t\t\tvar mappingType = NormalNode.MappingInformationType;\n\t\t\tvar referenceType = NormalNode.ReferenceInformationType;\n\t\t\tvar buffer = NormalNode.Normals.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tif ( 'NormalIndex' in NormalNode ) {\n\n\t\t\t\t\tindexBuffer = NormalNode.NormalIndex.a;\n\n\t\t\t\t} else if ( 'NormalsIndex' in NormalNode ) {\n\n\t\t\t\t\tindexBuffer = NormalNode.NormalsIndex.a;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 3,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n\t\tparseUVs: function ( UVNode ) {\n\n\t\t\tvar mappingType = UVNode.MappingInformationType;\n\t\t\tvar referenceType = UVNode.ReferenceInformationType;\n\t\t\tvar buffer = UVNode.UV.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tindexBuffer = UVNode.UVIndex.a;\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 2,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n\t\tparseVertexColors: function ( ColorNode ) {\n\n\t\t\tvar mappingType = ColorNode.MappingInformationType;\n\t\t\tvar referenceType = ColorNode.ReferenceInformationType;\n\t\t\tvar buffer = ColorNode.Colors.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tindexBuffer = ColorNode.ColorIndex.a;\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 4,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n\t\tparseMaterialIndices: function ( MaterialNode ) {\n\n\t\t\tvar mappingType = MaterialNode.MappingInformationType;\n\t\t\tvar referenceType = MaterialNode.ReferenceInformationType;\n\n\t\t\tif ( mappingType === 'NoMappingInformation' ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tdataSize: 1,\n\t\t\t\t\tbuffer: [ 0 ],\n\t\t\t\t\tindices: [ 0 ],\n\t\t\t\t\tmappingType: 'AllSame',\n\t\t\t\t\treferenceType: referenceType\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tvar materialIndexBuffer = MaterialNode.Materials.a;\n\n\t\t\t// Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n\t\t\t// we expect.So we create an intermediate buffer that points to the index in the buffer,\n\t\t\t// for conforming with the other functions we've written for other data.\n\t\t\tvar materialIndices = [];\n\n\t\t\tfor ( var i = 0; i < materialIndexBuffer.length; ++ i ) {\n\n\t\t\t\tmaterialIndices.push( i );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 1,\n\t\t\t\tbuffer: materialIndexBuffer,\n\t\t\t\tindices: materialIndices,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n\t\tparseNurbsGeometry: function ( geoNode ) {\n\n\t\t\tif ( THREE.NURBSCurve === undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.' );\n\t\t\t\treturn new THREE.BufferGeometry();\n\n\t\t\t}\n\n\t\t\tvar order = parseInt( geoNode.Order );\n\n\t\t\tif ( isNaN( order ) ) {\n\n\t\t\t\tconsole.error( 'THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id );\n\t\t\t\treturn new THREE.BufferGeometry();\n\n\t\t\t}\n\n\t\t\tvar degree = order - 1;\n\n\t\t\tvar knots = geoNode.KnotVector.a;\n\t\t\tvar controlPoints = [];\n\t\t\tvar pointsValues = geoNode.Points.a;\n\n\t\t\tfor ( var i = 0, l = pointsValues.length; i < l; i += 4 ) {\n\n\t\t\t\tcontrolPoints.push( new THREE.Vector4().fromArray( pointsValues, i ) );\n\n\t\t\t}\n\n\t\t\tvar startKnot, endKnot;\n\n\t\t\tif ( geoNode.Form === 'Closed' ) {\n\n\t\t\t\tcontrolPoints.push( controlPoints[ 0 ] );\n\n\t\t\t} else if ( geoNode.Form === 'Periodic' ) {\n\n\t\t\t\tstartKnot = degree;\n\t\t\t\tendKnot = knots.length - 1 - startKnot;\n\n\t\t\t\tfor ( var i = 0; i < degree; ++ i ) {\n\n\t\t\t\t\tcontrolPoints.push( controlPoints[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar curve = new THREE.NURBSCurve( degree, knots, controlPoints, startKnot, endKnot );\n\t\t\tvar vertices = curve.getPoints( controlPoints.length * 7 );\n\n\t\t\tvar positions = new Float32Array( vertices.length * 3 );\n\n\t\t\tvertices.forEach( function ( vertex, i ) {\n\n\t\t\t\tvertex.toArray( positions, i * 3 );\n\n\t\t\t} );\n\n\t\t\tvar geometry = new THREE.BufferGeometry();\n\t\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t},\n\n\t};\n\n\t// parse animation data from FBXTree\n\tfunction AnimationParser() {}\n\n\tAnimationParser.prototype = {\n\n\t\tconstructor: AnimationParser,\n\n\t\t// take raw animation clips and turn them into three.js animation clips\n\t\tparse: function () {\n\n\t\t\tvar animationClips = [];\n\n\t\t\tvar rawClips = this.parseClips();\n\n\t\t\tif ( rawClips !== undefined ) {\n\n\t\t\t\tfor ( var key in rawClips ) {\n\n\t\t\t\t\tvar rawClip = rawClips[ key ];\n\n\t\t\t\t\tvar clip = this.addClip( rawClip );\n\n\t\t\t\t\tanimationClips.push( clip );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn animationClips;\n\n\t\t},\n\n\t\tparseClips: function () {\n\n\t\t\t// since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n\t\t\t// if this is undefined we can safely assume there are no animations\n\t\t\tif ( fbxTree.Objects.AnimationCurve === undefined ) return undefined;\n\n\t\t\tvar curveNodesMap = this.parseAnimationCurveNodes();\n\n\t\t\tthis.parseAnimationCurves( curveNodesMap );\n\n\t\t\tvar layersMap = this.parseAnimationLayers( curveNodesMap );\n\t\t\tvar rawClips = this.parseAnimStacks( layersMap );\n\n\t\t\treturn rawClips;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationCurveNode\n\t\t// each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n\t\t// and is referenced by an AnimationLayer\n\t\tparseAnimationCurveNodes: function () {\n\n\t\t\tvar rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n\n\t\t\tvar curveNodesMap = new Map();\n\n\t\t\tfor ( var nodeID in rawCurveNodes ) {\n\n\t\t\t\tvar rawCurveNode = rawCurveNodes[ nodeID ];\n\n\t\t\t\tif ( rawCurveNode.attrName.match( /S|R|T|DeformPercent/ ) !== null ) {\n\n\t\t\t\t\tvar curveNode = {\n\n\t\t\t\t\t\tid: rawCurveNode.id,\n\t\t\t\t\t\tattr: rawCurveNode.attrName,\n\t\t\t\t\t\tcurves: {},\n\n\t\t\t\t\t};\n\n\t\t\t\t\tcurveNodesMap.set( curveNode.id, curveNode );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn curveNodesMap;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n\t\t// previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n\t\t// axis ( e.g. times and values of x rotation)\n\t\tparseAnimationCurves: function ( curveNodesMap ) {\n\n\t\t\tvar rawCurves = fbxTree.Objects.AnimationCurve;\n\n\t\t\t// TODO: Many values are identical up to roundoff error, but won't be optimised\n\t\t\t// e.g. position times: [0, 0.4, 0. 8]\n\t\t\t// position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n\t\t\t// clearly, this should be optimised to\n\t\t\t// times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n\t\t\t// this shows up in nearly every FBX file, and generally time array is length > 100\n\n\t\t\tfor ( var nodeID in rawCurves ) {\n\n\t\t\t\tvar animationCurve = {\n\n\t\t\t\t\tid: rawCurves[ nodeID ].id,\n\t\t\t\t\ttimes: rawCurves[ nodeID ].KeyTime.a.map( convertFBXTimeToSeconds ),\n\t\t\t\t\tvalues: rawCurves[ nodeID ].KeyValueFloat.a,\n\n\t\t\t\t};\n\n\t\t\t\tvar relationships = connections.get( animationCurve.id );\n\n\t\t\t\tif ( relationships !== undefined ) {\n\n\t\t\t\t\tvar animationCurveID = relationships.parents[ 0 ].ID;\n\t\t\t\t\tvar animationCurveRelationship = relationships.parents[ 0 ].relationship;\n\n\t\t\t\t\tif ( animationCurveRelationship.match( /X/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'x' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /Y/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'y' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /Z/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'z' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /d|DeformPercent/ ) && curveNodesMap.has( animationCurveID ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'morph' ] = animationCurve;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n\t\t// to various AnimationCurveNodes and is referenced by an AnimationStack node\n\t\t// note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n\t\tparseAnimationLayers: function ( curveNodesMap ) {\n\n\t\t\tvar rawLayers = fbxTree.Objects.AnimationLayer;\n\n\t\t\tvar layersMap = new Map();\n\n\t\t\tfor ( var nodeID in rawLayers ) {\n\n\t\t\t\tvar layerCurveNodes = [];\n\n\t\t\t\tvar connection = connections.get( parseInt( nodeID ) );\n\n\t\t\t\tif ( connection !== undefined ) {\n\n\t\t\t\t\t// all the animationCurveNodes used in the layer\n\t\t\t\t\tvar children = connection.children;\n\n\t\t\t\t\tchildren.forEach( function ( child, i ) {\n\n\t\t\t\t\t\tif ( curveNodesMap.has( child.ID ) ) {\n\n\t\t\t\t\t\t\tvar curveNode = curveNodesMap.get( child.ID );\n\n\t\t\t\t\t\t\t// check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\t\t\t\t\t\t\tif ( curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined ) {\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tvar modelID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tif ( modelID !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\tvar rawModel = fbxTree.Objects.Model[ modelID.toString() ];\n\n\t\t\t\t\t\t\t\t\t\tvar node = {\n\n\t\t\t\t\t\t\t\t\t\t\tmodelName: THREE.PropertyBinding.sanitizeNodeName( rawModel.attrName ),\n\t\t\t\t\t\t\t\t\t\t\tID: rawModel.id,\n\t\t\t\t\t\t\t\t\t\t\tinitialPosition: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\t\tinitialRotation: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\t\tinitialScale: [ 1, 1, 1 ],\n\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( child.ID === rawModel.id ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tnode.transform = child.matrix;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( child.userData.transformData ) node.eulerOrder = child.userData.transformData.eulerOrder;\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\t\tif ( ! node.transform ) node.transform = new THREE.Matrix4();\n\n\t\t\t\t\t\t\t\t\t\t// if the animated model is pre rotated, we'll have to apply the pre rotations to every\n\t\t\t\t\t\t\t\t\t\t// animation value as well\n\t\t\t\t\t\t\t\t\t\tif ( 'PreRotation' in rawModel ) node.preRotation = rawModel.PreRotation.value;\n\t\t\t\t\t\t\t\t\t\tif ( 'PostRotation' in rawModel ) node.postRotation = rawModel.PostRotation.value;\n\n\t\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] ) layerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t\t} else if ( curveNode.curves.morph !== undefined ) {\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tvar deformerID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tvar morpherID = connections.get( deformerID ).parents[ 0 ].ID;\n\t\t\t\t\t\t\t\t\tvar geoID = connections.get( morpherID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\t// assuming geometry is not used in more than one model\n\t\t\t\t\t\t\t\t\tvar modelID = connections.get( geoID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tvar rawModel = fbxTree.Objects.Model[ modelID ];\n\n\t\t\t\t\t\t\t\t\tvar node = {\n\n\t\t\t\t\t\t\t\t\t\tmodelName: THREE.PropertyBinding.sanitizeNodeName( rawModel.attrName ),\n\t\t\t\t\t\t\t\t\t\tmorphName: fbxTree.Objects.Deformer[ deformerID ].attrName,\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlayerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tlayersMap.set( parseInt( nodeID ), layerCurveNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn layersMap;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n\t\t// hierarchy. Each Stack node will be used to create a THREE.AnimationClip\n\t\tparseAnimStacks: function ( layersMap ) {\n\n\t\t\tvar rawStacks = fbxTree.Objects.AnimationStack;\n\n\t\t\t// connect the stacks (clips) up to the layers\n\t\t\tvar rawClips = {};\n\n\t\t\tfor ( var nodeID in rawStacks ) {\n\n\t\t\t\tvar children = connections.get( parseInt( nodeID ) ).children;\n\n\t\t\t\tif ( children.length > 1 ) {\n\n\t\t\t\t\t// it seems like stacks will always be associated with a single layer. But just in case there are files\n\t\t\t\t\t// where there are multiple layers per stack, we'll display a warning\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar layer = layersMap.get( children[ 0 ].ID );\n\n\t\t\t\trawClips[ nodeID ] = {\n\n\t\t\t\t\tname: rawStacks[ nodeID ].attrName,\n\t\t\t\t\tlayer: layer,\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\treturn rawClips;\n\n\t\t},\n\n\t\taddClip: function ( rawClip ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar self = this;\n\t\t\trawClip.layer.forEach( function ( rawTracks ) {\n\n\t\t\t\ttracks = tracks.concat( self.generateTracks( rawTracks ) );\n\n\t\t\t} );\n\n\t\t\treturn new THREE.AnimationClip( rawClip.name, - 1, tracks );\n\n\t\t},\n\n\t\tgenerateTracks: function ( rawTracks ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar initialPosition = new THREE.Vector3();\n\t\t\tvar initialRotation = new THREE.Quaternion();\n\t\t\tvar initialScale = new THREE.Vector3();\n\n\t\t\tif ( rawTracks.transform ) rawTracks.transform.decompose( initialPosition, initialRotation, initialScale );\n\n\t\t\tinitialPosition = initialPosition.toArray();\n\t\t\tinitialRotation = new THREE.Euler().setFromQuaternion( initialRotation, rawTracks.eulerOrder ).toArray();\n\t\t\tinitialScale = initialScale.toArray();\n\n\t\t\tif ( rawTracks.T !== undefined && Object.keys( rawTracks.T.curves ).length > 0 ) {\n\n\t\t\t\tvar positionTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position' );\n\t\t\t\tif ( positionTrack !== undefined ) tracks.push( positionTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.R !== undefined && Object.keys( rawTracks.R.curves ).length > 0 ) {\n\n\t\t\t\tvar rotationTrack = this.generateRotationTrack( rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder );\n\t\t\t\tif ( rotationTrack !== undefined ) tracks.push( rotationTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.S !== undefined && Object.keys( rawTracks.S.curves ).length > 0 ) {\n\n\t\t\t\tvar scaleTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale' );\n\t\t\t\tif ( scaleTrack !== undefined ) tracks.push( scaleTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.DeformPercent !== undefined ) {\n\n\t\t\t\tvar morphTrack = this.generateMorphTrack( rawTracks );\n\t\t\t\tif ( morphTrack !== undefined ) tracks.push( morphTrack );\n\n\t\t\t}\n\n\t\t\treturn tracks;\n\n\t\t},\n\n\t\tgenerateVectorTrack: function ( modelName, curves, initialValue, type ) {\n\n\t\t\tvar times = this.getTimesForAllAxes( curves );\n\t\t\tvar values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\t\treturn new THREE.VectorKeyframeTrack( modelName + '.' + type, times, values );\n\n\t\t},\n\n\t\tgenerateRotationTrack: function ( modelName, curves, initialValue, preRotation, postRotation, eulerOrder ) {\n\n\t\t\tif ( curves.x !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.x );\n\t\t\t\tcurves.x.values = curves.x.values.map( THREE.Math.degToRad );\n\n\t\t\t}\n\t\t\tif ( curves.y !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.y );\n\t\t\t\tcurves.y.values = curves.y.values.map( THREE.Math.degToRad );\n\n\t\t\t}\n\t\t\tif ( curves.z !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.z );\n\t\t\t\tcurves.z.values = curves.z.values.map( THREE.Math.degToRad );\n\n\t\t\t}\n\n\t\t\tvar times = this.getTimesForAllAxes( curves );\n\t\t\tvar values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\t\tif ( preRotation !== undefined ) {\n\n\t\t\t\tpreRotation = preRotation.map( THREE.Math.degToRad );\n\t\t\t\tpreRotation.push( eulerOrder );\n\n\t\t\t\tpreRotation = new THREE.Euler().fromArray( preRotation );\n\t\t\t\tpreRotation = new THREE.Quaternion().setFromEuler( preRotation );\n\n\t\t\t}\n\n\t\t\tif ( postRotation !== undefined ) {\n\n\t\t\t\tpostRotation = postRotation.map( THREE.Math.degToRad );\n\t\t\t\tpostRotation.push( eulerOrder );\n\n\t\t\t\tpostRotation = new THREE.Euler().fromArray( postRotation );\n\t\t\t\tpostRotation = new THREE.Quaternion().setFromEuler( postRotation ).inverse();\n\n\t\t\t}\n\n\t\t\tvar quaternion = new THREE.Quaternion();\n\t\t\tvar euler = new THREE.Euler();\n\n\t\t\tvar quaternionValues = [];\n\n\t\t\tfor ( var i = 0; i < values.length; i += 3 ) {\n\n\t\t\t\teuler.set( values[ i ], values[ i + 1 ], values[ i + 2 ], eulerOrder );\n\n\t\t\t\tquaternion.setFromEuler( euler );\n\n\t\t\t\tif ( preRotation !== undefined ) quaternion.premultiply( preRotation );\n\t\t\t\tif ( postRotation !== undefined ) quaternion.multiply( postRotation );\n\n\t\t\t\tquaternion.toArray( quaternionValues, ( i / 3 ) * 4 );\n\n\t\t\t}\n\n\t\t\treturn new THREE.QuaternionKeyframeTrack( modelName + '.quaternion', times, quaternionValues );\n\n\t\t},\n\n\t\tgenerateMorphTrack: function ( rawTracks ) {\n\n\t\t\tvar curves = rawTracks.DeformPercent.curves.morph;\n\t\t\tvar values = curves.values.map( function ( val ) {\n\n\t\t\t\treturn val / 100;\n\n\t\t\t} );\n\n\t\t\tvar morphNum = sceneGraph.getObjectByName( rawTracks.modelName ).morphTargetDictionary[ rawTracks.morphName ];\n\n\t\t\treturn new THREE.NumberKeyframeTrack( rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values );\n\n\t\t},\n\n\t\t// For all animated objects, times are defined separately for each axis\n\t\t// Here we'll combine the times into one sorted array without duplicates\n\t\tgetTimesForAllAxes: function ( curves ) {\n\n\t\t\tvar times = [];\n\n\t\t\t// first join together the times for each axis, if defined\n\t\t\tif ( curves.x !== undefined ) times = times.concat( curves.x.times );\n\t\t\tif ( curves.y !== undefined ) times = times.concat( curves.y.times );\n\t\t\tif ( curves.z !== undefined ) times = times.concat( curves.z.times );\n\n\t\t\t// then sort them and remove duplicates\n\t\t\ttimes = times.sort( function ( a, b ) {\n\n\t\t\t\treturn a - b;\n\n\t\t\t} ).filter( function ( elem, index, array ) {\n\n\t\t\t\treturn array.indexOf( elem ) == index;\n\n\t\t\t} );\n\n\t\t\treturn times;\n\n\t\t},\n\n\t\tgetKeyframeTrackValues: function ( times, curves, initialValue ) {\n\n\t\t\tvar prevValue = initialValue;\n\n\t\t\tvar values = [];\n\n\t\t\tvar xIndex = - 1;\n\t\t\tvar yIndex = - 1;\n\t\t\tvar zIndex = - 1;\n\n\t\t\ttimes.forEach( function ( time ) {\n\n\t\t\t\tif ( curves.x ) xIndex = curves.x.times.indexOf( time );\n\t\t\t\tif ( curves.y ) yIndex = curves.y.times.indexOf( time );\n\t\t\t\tif ( curves.z ) zIndex = curves.z.times.indexOf( time );\n\n\t\t\t\t// if there is an x value defined for this frame, use that\n\t\t\t\tif ( xIndex !== - 1 ) {\n\n\t\t\t\t\tvar xValue = curves.x.values[ xIndex ];\n\t\t\t\t\tvalues.push( xValue );\n\t\t\t\t\tprevValue[ 0 ] = xValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// otherwise use the x value from the previous frame\n\t\t\t\t\tvalues.push( prevValue[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( yIndex !== - 1 ) {\n\n\t\t\t\t\tvar yValue = curves.y.values[ yIndex ];\n\t\t\t\t\tvalues.push( yValue );\n\t\t\t\t\tprevValue[ 1 ] = yValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues.push( prevValue[ 1 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( zIndex !== - 1 ) {\n\n\t\t\t\t\tvar zValue = curves.z.values[ zIndex ];\n\t\t\t\t\tvalues.push( zValue );\n\t\t\t\t\tprevValue[ 2 ] = zValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues.push( prevValue[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn values;\n\n\t\t},\n\n\t\t// Rotations are defined as Euler angles which can have values  of any size\n\t\t// These will be converted to quaternions which don't support values greater than\n\t\t// PI, so we'll interpolate large rotations\n\t\tinterpolateRotations: function ( curve ) {\n\n\t\t\tfor ( var i = 1; i < curve.values.length; i ++ ) {\n\n\t\t\t\tvar initialValue = curve.values[ i - 1 ];\n\t\t\t\tvar valuesSpan = curve.values[ i ] - initialValue;\n\n\t\t\t\tvar absoluteSpan = Math.abs( valuesSpan );\n\n\t\t\t\tif ( absoluteSpan >= 180 ) {\n\n\t\t\t\t\tvar numSubIntervals = absoluteSpan / 180;\n\n\t\t\t\t\tvar step = valuesSpan / numSubIntervals;\n\t\t\t\t\tvar nextValue = initialValue + step;\n\n\t\t\t\t\tvar initialTime = curve.times[ i - 1 ];\n\t\t\t\t\tvar timeSpan = curve.times[ i ] - initialTime;\n\t\t\t\t\tvar interval = timeSpan / numSubIntervals;\n\t\t\t\t\tvar nextTime = initialTime + interval;\n\n\t\t\t\t\tvar interpolatedTimes = [];\n\t\t\t\t\tvar interpolatedValues = [];\n\n\t\t\t\t\twhile ( nextTime < curve.times[ i ] ) {\n\n\t\t\t\t\t\tinterpolatedTimes.push( nextTime );\n\t\t\t\t\t\tnextTime += interval;\n\n\t\t\t\t\t\tinterpolatedValues.push( nextValue );\n\t\t\t\t\t\tnextValue += step;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurve.times = inject( curve.times, i, interpolatedTimes );\n\t\t\t\t\tcurve.values = inject( curve.values, i, interpolatedValues );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t};\n\n\t// parse an FBX file in ASCII format\n\tfunction TextParser() {}\n\n\tTextParser.prototype = {\n\n\t\tconstructor: TextParser,\n\n\t\tgetPrevNode: function () {\n\n\t\t\treturn this.nodeStack[ this.currentIndent - 2 ];\n\n\t\t},\n\n\t\tgetCurrentNode: function () {\n\n\t\t\treturn this.nodeStack[ this.currentIndent - 1 ];\n\n\t\t},\n\n\t\tgetCurrentProp: function () {\n\n\t\t\treturn this.currentProp;\n\n\t\t},\n\n\t\tpushStack: function ( node ) {\n\n\t\t\tthis.nodeStack.push( node );\n\t\t\tthis.currentIndent += 1;\n\n\t\t},\n\n\t\tpopStack: function () {\n\n\t\t\tthis.nodeStack.pop();\n\t\t\tthis.currentIndent -= 1;\n\n\t\t},\n\n\t\tsetCurrentProp: function ( val, name ) {\n\n\t\t\tthis.currentProp = val;\n\t\t\tthis.currentPropName = name;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tthis.currentIndent = 0;\n\n\t\t\tthis.allNodes = new FBXTree();\n\t\t\tthis.nodeStack = [];\n\t\t\tthis.currentProp = [];\n\t\t\tthis.currentPropName = '';\n\n\t\t\tvar self = this;\n\n\t\t\tvar split = text.split( /[\\r\\n]+/ );\n\n\t\t\tsplit.forEach( function ( line, i ) {\n\n\t\t\t\tvar matchComment = line.match( /^[\\s\\t]*;/ );\n\t\t\t\tvar matchEmpty = line.match( /^[\\s\\t]*$/ );\n\n\t\t\t\tif ( matchComment || matchEmpty ) return;\n\n\t\t\t\tvar matchBeginning = line.match( '^\\\\t{' + self.currentIndent + '}(\\\\w+):(.*){', '' );\n\t\t\t\tvar matchProperty = line.match( '^\\\\t{' + ( self.currentIndent ) + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)' );\n\t\t\t\tvar matchEnd = line.match( '^\\\\t{' + ( self.currentIndent - 1 ) + '}}' );\n\n\t\t\t\tif ( matchBeginning ) {\n\n\t\t\t\t\tself.parseNodeBegin( line, matchBeginning );\n\n\t\t\t\t} else if ( matchProperty ) {\n\n\t\t\t\t\tself.parseNodeProperty( line, matchProperty, split[ ++ i ] );\n\n\t\t\t\t} else if ( matchEnd ) {\n\n\t\t\t\t\tself.popStack();\n\n\t\t\t\t} else if ( line.match( /^[^\\s\\t}]/ ) ) {\n\n\t\t\t\t\t// large arrays are split over multiple lines terminated with a ',' character\n\t\t\t\t\t// if this is encountered the line needs to be joined to the previous line\n\t\t\t\t\tself.parseNodePropertyContinued( line );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn this.allNodes;\n\n\t\t},\n\n\t\tparseNodeBegin: function ( line, property ) {\n\n\t\t\tvar nodeName = property[ 1 ].trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t\tvar nodeAttrs = property[ 2 ].split( ',' ).map( function ( attr ) {\n\n\t\t\t\treturn attr.trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t\t} );\n\n\t\t\tvar node = { name: nodeName };\n\t\t\tvar attrs = this.parseNodeAttr( nodeAttrs );\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\n\t\t\t// a top node\n\t\t\tif ( this.currentIndent === 0 ) {\n\n\t\t\t\tthis.allNodes.add( nodeName, node );\n\n\t\t\t} else { // a subnode\n\n\t\t\t\t// if the subnode already exists, append it\n\t\t\t\tif ( nodeName in currentNode ) {\n\n\t\t\t\t\t// special case Pose needs PoseNodes as an array\n\t\t\t\t\tif ( nodeName === 'PoseNode' ) {\n\n\t\t\t\t\t\tcurrentNode.PoseNode.push( node );\n\n\t\t\t\t\t} else if ( currentNode[ nodeName ].id !== undefined ) {\n\n\t\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\t\tcurrentNode[ nodeName ][ currentNode[ nodeName ].id ] = currentNode[ nodeName ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attrs.id !== '' ) currentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t\t} else if ( typeof attrs.id === 'number' ) {\n\n\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\tcurrentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t\t} else if ( nodeName !== 'Properties70' ) {\n\n\t\t\t\t\tif ( nodeName === 'PoseNode' )\tcurrentNode[ nodeName ] = [ node ];\n\t\t\t\t\telse currentNode[ nodeName ] = node;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( typeof attrs.id === 'number' ) node.id = attrs.id;\n\t\t\tif ( attrs.name !== '' ) node.attrName = attrs.name;\n\t\t\tif ( attrs.type !== '' ) node.attrType = attrs.type;\n\n\t\t\tthis.pushStack( node );\n\n\t\t},\n\n\t\tparseNodeAttr: function ( attrs ) {\n\n\t\t\tvar id = attrs[ 0 ];\n\n\t\t\tif ( attrs[ 0 ] !== '' ) {\n\n\t\t\t\tid = parseInt( attrs[ 0 ] );\n\n\t\t\t\tif ( isNaN( id ) ) {\n\n\t\t\t\t\tid = attrs[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = '', type = '';\n\n\t\t\tif ( attrs.length > 1 ) {\n\n\t\t\t\tname = attrs[ 1 ].replace( /^(\\w+)::/, '' );\n\t\t\t\ttype = attrs[ 2 ];\n\n\t\t\t}\n\n\t\t\treturn { id: id, name: name, type: type };\n\n\t\t},\n\n\t\tparseNodeProperty: function ( line, property, contentLine ) {\n\n\t\t\tvar propName = property[ 1 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\t\t\tvar propValue = property[ 2 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\n\t\t\t// for special case: base64 image data follows \"Content: ,\" line\n\t\t\t//\tContent: ,\n\t\t\t//\t \"/9j/4RDaRXhpZgAATU0A...\"\n\t\t\tif ( propName === 'Content' && propValue === ',' ) {\n\n\t\t\t\tpropValue = contentLine.replace( /\"/g, '' ).replace( /,$/, '' ).trim();\n\n\t\t\t}\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\t\t\tvar parentName = currentNode.name;\n\n\t\t\tif ( parentName === 'Properties70' ) {\n\n\t\t\t\tthis.parseNodeSpecialProperty( line, propName, propValue );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t// Connections\n\t\t\tif ( propName === 'C' ) {\n\n\t\t\t\tvar connProps = propValue.split( ',' ).slice( 1 );\n\t\t\t\tvar from = parseInt( connProps[ 0 ] );\n\t\t\t\tvar to = parseInt( connProps[ 1 ] );\n\n\t\t\t\tvar rest = propValue.split( ',' ).slice( 3 );\n\n\t\t\t\trest = rest.map( function ( elem ) {\n\n\t\t\t\t\treturn elem.trim().replace( /^\"/, '' );\n\n\t\t\t\t} );\n\n\t\t\t\tpropName = 'connections';\n\t\t\t\tpropValue = [ from, to ];\n\t\t\t\tappend( propValue, rest );\n\n\t\t\t\tif ( currentNode[ propName ] === undefined ) {\n\n\t\t\t\t\tcurrentNode[ propName ] = [];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Node\n\t\t\tif ( propName === 'Node' ) currentNode.id = propValue;\n\n\t\t\t// connections\n\t\t\tif ( propName in currentNode && Array.isArray( currentNode[ propName ] ) ) {\n\n\t\t\t\tcurrentNode[ propName ].push( propValue );\n\n\t\t\t} else {\n\n\t\t\t\tif ( propName !== 'a' ) currentNode[ propName ] = propValue;\n\t\t\t\telse currentNode.a = propValue;\n\n\t\t\t}\n\n\t\t\tthis.setCurrentProp( currentNode, propName );\n\n\t\t\t// convert string to array, unless it ends in ',' in which case more will be added to it\n\t\t\tif ( propName === 'a' && propValue.slice( - 1 ) !== ',' ) {\n\n\t\t\t\tcurrentNode.a = parseNumberArray( propValue );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseNodePropertyContinued: function ( line ) {\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\n\t\t\tcurrentNode.a += line;\n\n\t\t\t// if the line doesn't end in ',' we have reached the end of the property value\n\t\t\t// so convert the string to an array\n\t\t\tif ( line.slice( - 1 ) !== ',' ) {\n\n\t\t\t\tcurrentNode.a = parseNumberArray( currentNode.a );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// parse \"Property70\"\n\t\tparseNodeSpecialProperty: function ( line, propName, propValue ) {\n\n\t\t\t// split this\n\t\t\t// P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n\t\t\t// into array like below\n\t\t\t// [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n\t\t\tvar props = propValue.split( '\",' ).map( function ( prop ) {\n\n\t\t\t\treturn prop.trim().replace( /^\\\"/, '' ).replace( /\\s/, '_' );\n\n\t\t\t} );\n\n\t\t\tvar innerPropName = props[ 0 ];\n\t\t\tvar innerPropType1 = props[ 1 ];\n\t\t\tvar innerPropType2 = props[ 2 ];\n\t\t\tvar innerPropFlag = props[ 3 ];\n\t\t\tvar innerPropValue = props[ 4 ];\n\n\t\t\t// cast values where needed, otherwise leave as strings\n\t\t\tswitch ( innerPropType1 ) {\n\n\t\t\t\tcase 'int':\n\t\t\t\tcase 'enum':\n\t\t\t\tcase 'bool':\n\t\t\t\tcase 'ULongLong':\n\t\t\t\tcase 'double':\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'FieldOfView':\n\t\t\t\t\tinnerPropValue = parseFloat( innerPropValue );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Color':\n\t\t\t\tcase 'ColorRGB':\n\t\t\t\tcase 'Vector3D':\n\t\t\t\tcase 'Lcl_Translation':\n\t\t\t\tcase 'Lcl_Rotation':\n\t\t\t\tcase 'Lcl_Scaling':\n\t\t\t\t\tinnerPropValue = parseNumberArray( innerPropValue );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\t// CAUTION: these props must append to parent's parent\n\t\t\tthis.getPrevNode()[ innerPropName ] = {\n\n\t\t\t\t'type': innerPropType1,\n\t\t\t\t'type2': innerPropType2,\n\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t'value': innerPropValue\n\n\t\t\t};\n\n\t\t\tthis.setCurrentProp( this.getPrevNode(), innerPropName );\n\n\t\t},\n\n\t};\n\n\t// Parse an FBX file in Binary format\n\tfunction BinaryParser() {}\n\n\tBinaryParser.prototype = {\n\n\t\tconstructor: BinaryParser,\n\n\t\tparse: function ( buffer ) {\n\n\t\t\tvar reader = new BinaryReader( buffer );\n\t\t\treader.skip( 23 ); // skip magic 23 bytes\n\n\t\t\tvar version = reader.getUint32();\n\n\t\t\tconsole.log( 'THREE.FBXLoader: FBX binary version: ' + version );\n\n\t\t\tvar allNodes = new FBXTree();\n\n\t\t\twhile ( ! this.endOfContent( reader ) ) {\n\n\t\t\t\tvar node = this.parseNode( reader, version );\n\t\t\t\tif ( node !== null ) allNodes.add( node.name, node );\n\n\t\t\t}\n\n\t\t\treturn allNodes;\n\n\t\t},\n\n\t\t// Check if reader has reached the end of content.\n\t\tendOfContent: function ( reader ) {\n\n\t\t\t// footer size: 160bytes + 16-byte alignment padding\n\t\t\t// - 16bytes: magic\n\t\t\t// - padding til 16-byte alignment (at least 1byte?)\n\t\t\t//\t(seems like some exporters embed fixed 15 or 16bytes?)\n\t\t\t// - 4bytes: magic\n\t\t\t// - 4bytes: version\n\t\t\t// - 120bytes: zero\n\t\t\t// - 16bytes: magic\n\t\t\tif ( reader.size() % 16 === 0 ) {\n\n\t\t\t\treturn ( ( reader.getOffset() + 160 + 16 ) & ~ 0xf ) >= reader.size();\n\n\t\t\t} else {\n\n\t\t\t\treturn reader.getOffset() + 160 + 16 >= reader.size();\n\n\t\t\t}\n\n\t\t},\n\n\t\t// recursively parse nodes until the end of the file is reached\n\t\tparseNode: function ( reader, version ) {\n\n\t\t\tvar node = {};\n\n\t\t\t// The first three data sizes depends on version.\n\t\t\tvar endOffset = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\t\t\tvar numProperties = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t\t// note: do not remove this even if you get a linter warning as it moves the buffer forward\n\t\t\tvar propertyListLen = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t\tvar nameLen = reader.getUint8();\n\t\t\tvar name = reader.getString( nameLen );\n\n\t\t\t// Regards this node as NULL-record if endOffset is zero\n\t\t\tif ( endOffset === 0 ) return null;\n\n\t\t\tvar propertyList = [];\n\n\t\t\tfor ( var i = 0; i < numProperties; i ++ ) {\n\n\t\t\t\tpropertyList.push( this.parseProperty( reader ) );\n\n\t\t\t}\n\n\t\t\t// Regards the first three elements in propertyList as id, attrName, and attrType\n\t\t\tvar id = propertyList.length > 0 ? propertyList[ 0 ] : '';\n\t\t\tvar attrName = propertyList.length > 1 ? propertyList[ 1 ] : '';\n\t\t\tvar attrType = propertyList.length > 2 ? propertyList[ 2 ] : '';\n\n\t\t\t// check if this node represents just a single property\n\t\t\t// like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\t\t\tnode.singleProperty = ( numProperties === 1 && reader.getOffset() === endOffset ) ? true : false;\n\n\t\t\twhile ( endOffset > reader.getOffset() ) {\n\n\t\t\t\tvar subNode = this.parseNode( reader, version );\n\n\t\t\t\tif ( subNode !== null ) this.parseSubNode( name, node, subNode );\n\n\t\t\t}\n\n\t\t\tnode.propertyList = propertyList; // raw property list used by parent\n\n\t\t\tif ( typeof id === 'number' ) node.id = id;\n\t\t\tif ( attrName !== '' ) node.attrName = attrName;\n\t\t\tif ( attrType !== '' ) node.attrType = attrType;\n\t\t\tif ( name !== '' ) node.name = name;\n\n\t\t\treturn node;\n\n\t\t},\n\n\t\tparseSubNode: function ( name, node, subNode ) {\n\n\t\t\t// special case: child node is single property\n\t\t\tif ( subNode.singleProperty === true ) {\n\n\t\t\t\tvar value = subNode.propertyList[ 0 ];\n\n\t\t\t\tif ( Array.isArray( value ) ) {\n\n\t\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\t\tsubNode.a = value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode[ subNode.name ] = value;\n\n\t\t\t\t}\n\n\t\t\t} else if ( name === 'Connections' && subNode.name === 'C' ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tsubNode.propertyList.forEach( function ( property, i ) {\n\n\t\t\t\t\t// first Connection is FBX type (OO, OP, etc.). We'll discard these\n\t\t\t\t\tif ( i !== 0 ) array.push( property );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( node.connections === undefined ) {\n\n\t\t\t\t\tnode.connections = [];\n\n\t\t\t\t}\n\n\t\t\t\tnode.connections.push( array );\n\n\t\t\t} else if ( subNode.name === 'Properties70' ) {\n\n\t\t\t\tvar keys = Object.keys( subNode );\n\n\t\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\t\tnode[ key ] = subNode[ key ];\n\n\t\t\t\t} );\n\n\t\t\t} else if ( name === 'Properties70' && subNode.name === 'P' ) {\n\n\t\t\t\tvar innerPropName = subNode.propertyList[ 0 ];\n\t\t\t\tvar innerPropType1 = subNode.propertyList[ 1 ];\n\t\t\t\tvar innerPropType2 = subNode.propertyList[ 2 ];\n\t\t\t\tvar innerPropFlag = subNode.propertyList[ 3 ];\n\t\t\t\tvar innerPropValue;\n\n\t\t\t\tif ( innerPropName.indexOf( 'Lcl ' ) === 0 ) innerPropName = innerPropName.replace( 'Lcl ', 'Lcl_' );\n\t\t\t\tif ( innerPropType1.indexOf( 'Lcl ' ) === 0 ) innerPropType1 = innerPropType1.replace( 'Lcl ', 'Lcl_' );\n\n\t\t\t\tif ( innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf( 'Lcl_' ) === 0 ) {\n\n\t\t\t\t\tinnerPropValue = [\n\t\t\t\t\t\tsubNode.propertyList[ 4 ],\n\t\t\t\t\t\tsubNode.propertyList[ 5 ],\n\t\t\t\t\t\tsubNode.propertyList[ 6 ]\n\t\t\t\t\t];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinnerPropValue = subNode.propertyList[ 4 ];\n\n\t\t\t\t}\n\n\t\t\t\t// this will be copied to parent, see above\n\t\t\t\tnode[ innerPropName ] = {\n\n\t\t\t\t\t'type': innerPropType1,\n\t\t\t\t\t'type2': innerPropType2,\n\t\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t\t'value': innerPropValue\n\n\t\t\t\t};\n\n\t\t\t} else if ( node[ subNode.name ] === undefined ) {\n\n\t\t\t\tif ( typeof subNode.id === 'number' ) {\n\n\t\t\t\t\tnode[ subNode.name ] = {};\n\t\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( subNode.name === 'PoseNode' ) {\n\n\t\t\t\t\tif ( ! Array.isArray( node[ subNode.name ] ) ) {\n\n\t\t\t\t\t\tnode[ subNode.name ] = [ node[ subNode.name ] ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnode[ subNode.name ].push( subNode );\n\n\t\t\t\t} else if ( node[ subNode.name ][ subNode.id ] === undefined ) {\n\n\t\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseProperty: function ( reader ) {\n\n\t\t\tvar type = reader.getString( 1 );\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'C':\n\t\t\t\t\treturn reader.getBoolean();\n\n\t\t\t\tcase 'D':\n\t\t\t\t\treturn reader.getFloat64();\n\n\t\t\t\tcase 'F':\n\t\t\t\t\treturn reader.getFloat32();\n\n\t\t\t\tcase 'I':\n\t\t\t\t\treturn reader.getInt32();\n\n\t\t\t\tcase 'L':\n\t\t\t\t\treturn reader.getInt64();\n\n\t\t\t\tcase 'R':\n\t\t\t\t\tvar length = reader.getUint32();\n\t\t\t\t\treturn reader.getArrayBuffer( length );\n\n\t\t\t\tcase 'S':\n\t\t\t\t\tvar length = reader.getUint32();\n\t\t\t\t\treturn reader.getString( length );\n\n\t\t\t\tcase 'Y':\n\t\t\t\t\treturn reader.getInt16();\n\n\t\t\t\tcase 'b':\n\t\t\t\tcase 'c':\n\t\t\t\tcase 'd':\n\t\t\t\tcase 'f':\n\t\t\t\tcase 'i':\n\t\t\t\tcase 'l':\n\n\t\t\t\t\tvar arrayLength = reader.getUint32();\n\t\t\t\t\tvar encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\t\t\t\t\tvar compressedLength = reader.getUint32();\n\n\t\t\t\t\tif ( encoding === 0 ) {\n\n\t\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\t\treturn reader.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\t\treturn reader.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\t\treturn reader.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\t\treturn reader.getInt32Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\treturn reader.getInt64Array( arrayLength );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( typeof Zlib === 'undefined' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar inflate = new Zlib.Inflate( new Uint8Array( reader.getArrayBuffer( compressedLength ) ) ); // eslint-disable-line no-undef\n\t\t\t\t\tvar reader2 = new BinaryReader( inflate.decompress().buffer );\n\n\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\treturn reader2.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn reader2.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\treturn reader2.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\treturn reader2.getInt32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\treturn reader2.getInt64Array( arrayLength );\n\n\t\t\t\t\t}\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown property type ' + type );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction BinaryReader( buffer, littleEndian ) {\n\n\t\tthis.dv = new DataView( buffer );\n\t\tthis.offset = 0;\n\t\tthis.littleEndian = ( littleEndian !== undefined ) ? littleEndian : true;\n\n\t}\n\n\tBinaryReader.prototype = {\n\n\t\tconstructor: BinaryReader,\n\n\t\tgetOffset: function () {\n\n\t\t\treturn this.offset;\n\n\t\t},\n\n\t\tsize: function () {\n\n\t\t\treturn this.dv.buffer.byteLength;\n\n\t\t},\n\n\t\tskip: function ( length ) {\n\n\t\t\tthis.offset += length;\n\n\t\t},\n\n\t\t// seems like true/false representation depends on exporter.\n\t\t// true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n\t\t// then sees LSB.\n\t\tgetBoolean: function () {\n\n\t\t\treturn ( this.getUint8() & 1 ) === 1;\n\n\t\t},\n\n\t\tgetBooleanArray: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getBoolean() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetUint8: function () {\n\n\t\t\tvar value = this.dv.getUint8( this.offset );\n\t\t\tthis.offset += 1;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt16: function () {\n\n\t\t\tvar value = this.dv.getInt16( this.offset, this.littleEndian );\n\t\t\tthis.offset += 2;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt32: function () {\n\n\t\t\tvar value = this.dv.getInt32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt32Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getInt32() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetUint32: function () {\n\n\t\t\tvar value = this.dv.getUint32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\t// JavaScript doesn't support 64-bit integer so calculate this here\n\t\t// 1 << 32 will return 1 so using multiply operation instead here.\n\t\t// There's a possibility that this method returns wrong value if the value\n\t\t// is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n\t\t// TODO: safely handle 64-bit integer\n\t\tgetInt64: function () {\n\n\t\t\tvar low, high;\n\n\t\t\tif ( this.littleEndian ) {\n\n\t\t\t\tlow = this.getUint32();\n\t\t\t\thigh = this.getUint32();\n\n\t\t\t} else {\n\n\t\t\t\thigh = this.getUint32();\n\t\t\t\tlow = this.getUint32();\n\n\t\t\t}\n\n\t\t\t// calculate negative value\n\t\t\tif ( high & 0x80000000 ) {\n\n\t\t\t\thigh = ~ high & 0xFFFFFFFF;\n\t\t\t\tlow = ~ low & 0xFFFFFFFF;\n\n\t\t\t\tif ( low === 0xFFFFFFFF ) high = ( high + 1 ) & 0xFFFFFFFF;\n\n\t\t\t\tlow = ( low + 1 ) & 0xFFFFFFFF;\n\n\t\t\t\treturn - ( high * 0x100000000 + low );\n\n\t\t\t}\n\n\t\t\treturn high * 0x100000000 + low;\n\n\t\t},\n\n\t\tgetInt64Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getInt64() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\t// Note: see getInt64() comment\n\t\tgetUint64: function () {\n\n\t\t\tvar low, high;\n\n\t\t\tif ( this.littleEndian ) {\n\n\t\t\t\tlow = this.getUint32();\n\t\t\t\thigh = this.getUint32();\n\n\t\t\t} else {\n\n\t\t\t\thigh = this.getUint32();\n\t\t\t\tlow = this.getUint32();\n\n\t\t\t}\n\n\t\t\treturn high * 0x100000000 + low;\n\n\t\t},\n\n\t\tgetFloat32: function () {\n\n\t\t\tvar value = this.dv.getFloat32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetFloat32Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getFloat32() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetFloat64: function () {\n\n\t\t\tvar value = this.dv.getFloat64( this.offset, this.littleEndian );\n\t\t\tthis.offset += 8;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetFloat64Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getFloat64() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetArrayBuffer: function ( size ) {\n\n\t\t\tvar value = this.dv.buffer.slice( this.offset, this.offset + size );\n\t\t\tthis.offset += size;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetString: function ( size ) {\n\n\t\t\t// note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta[ i ] = this.getUint8();\n\n\t\t\t}\n\n\t\t\tvar nullByte = a.indexOf( 0 );\n\t\t\tif ( nullByte >= 0 ) a = a.slice( 0, nullByte );\n\n\t\t\treturn THREE.LoaderUtils.decodeText( new Uint8Array( a ) );\n\n\t\t}\n\n\t};\n\n\t// FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n\t// and BinaryParser( FBX Binary format)\n\tfunction FBXTree() {}\n\n\tFBXTree.prototype = {\n\n\t\tconstructor: FBXTree,\n\n\t\tadd: function ( key, val ) {\n\n\t\t\tthis[ key ] = val;\n\n\t\t},\n\n\t};\n\n\t// ************** UTILITY FUNCTIONS **************\n\n\tfunction isFbxFormatBinary( buffer ) {\n\n\t\tvar CORRECT = 'Kaydara FBX Binary  \\0';\n\n\t\treturn buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString( buffer, 0, CORRECT.length );\n\n\t}\n\n\tfunction isFbxFormatASCII( text ) {\n\n\t\tvar CORRECT = [ 'K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\' ];\n\n\t\tvar cursor = 0;\n\n\t\tfunction read( offset ) {\n\n\t\t\tvar result = text[ offset - 1 ];\n\t\t\ttext = text.slice( cursor + offset );\n\t\t\tcursor ++;\n\t\t\treturn result;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < CORRECT.length; ++ i ) {\n\n\t\t\tvar num = read( 1 );\n\t\t\tif ( num === CORRECT[ i ] ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfunction getFbxVersion( text ) {\n\n\t\tvar versionRegExp = /FBXVersion: (\\d+)/;\n\t\tvar match = text.match( versionRegExp );\n\t\tif ( match ) {\n\n\t\t\tvar version = parseInt( match[ 1 ] );\n\t\t\treturn version;\n\n\t\t}\n\t\tthrow new Error( 'THREE.FBXLoader: Cannot find the version number for the file given.' );\n\n\t}\n\n\t// Converts FBX ticks into real time seconds.\n\tfunction convertFBXTimeToSeconds( time ) {\n\n\t\treturn time / 46186158000;\n\n\t}\n\n\tvar dataArray = [];\n\n\t// extracts the data from the correct position in the FBX array based on indexing type\n\tfunction getData( polygonVertexIndex, polygonIndex, vertexIndex, infoObject ) {\n\n\t\tvar index;\n\n\t\tswitch ( infoObject.mappingType ) {\n\n\t\t\tcase 'ByPolygonVertex' :\n\t\t\t\tindex = polygonVertexIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'ByPolygon' :\n\t\t\t\tindex = polygonIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'ByVertice' :\n\t\t\t\tindex = vertexIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'AllSame' :\n\t\t\t\tindex = infoObject.indices[ 0 ];\n\t\t\t\tbreak;\n\t\t\tdefault :\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType );\n\n\t\t}\n\n\t\tif ( infoObject.referenceType === 'IndexToDirect' ) index = infoObject.indices[ index ];\n\n\t\tvar from = index * infoObject.dataSize;\n\t\tvar to = from + infoObject.dataSize;\n\n\t\treturn slice( dataArray, infoObject.buffer, from, to );\n\n\t}\n\n\tvar tempEuler = new THREE.Euler();\n\tvar tempVec = new THREE.Vector3();\n\n\t// generate transformation from FBX transform data\n\t// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n\t// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\n\tfunction generateTransform( transformData ) {\n\n\t\tvar lTranslationM = new THREE.Matrix4();\n\t\tvar lPreRotationM = new THREE.Matrix4();\n\t\tvar lRotationM = new THREE.Matrix4();\n\t\tvar lPostRotationM = new THREE.Matrix4();\n\n\t\tvar lScalingM = new THREE.Matrix4();\n\t\tvar lScalingPivotM = new THREE.Matrix4();\n\t\tvar lScalingOffsetM = new THREE.Matrix4();\n\t\tvar lRotationOffsetM = new THREE.Matrix4();\n\t\tvar lRotationPivotM = new THREE.Matrix4();\n\n\t\tvar lParentGX = new THREE.Matrix4();\n\t\tvar lGlobalT = new THREE.Matrix4();\n\n\t\tvar inheritType = ( transformData.inheritType ) ? transformData.inheritType : 0;\n\n\t\tif ( transformData.translation ) lTranslationM.setPosition( tempVec.fromArray( transformData.translation ) );\n\n\t\tif ( transformData.preRotation ) {\n\n\t\t\tvar array = transformData.preRotation.map( THREE.Math.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlPreRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.rotation ) {\n\n\t\t\tvar array = transformData.rotation.map( THREE.Math.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.postRotation ) {\n\n\t\t\tvar array = transformData.postRotation.map( THREE.Math.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlPostRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.scale ) lScalingM.scale( tempVec.fromArray( transformData.scale ) );\n\n\t\t// Pivots and offsets\n\t\tif ( transformData.scalingOffset ) lScalingOffsetM.setPosition( tempVec.fromArray( transformData.scalingOffset ) );\n\t\tif ( transformData.scalingPivot ) lScalingPivotM.setPosition( tempVec.fromArray( transformData.scalingPivot ) );\n\t\tif ( transformData.rotationOffset ) lRotationOffsetM.setPosition( tempVec.fromArray( transformData.rotationOffset ) );\n\t\tif ( transformData.rotationPivot ) lRotationPivotM.setPosition( tempVec.fromArray( transformData.rotationPivot ) );\n\n\t\t// parent transform\n\t\tif ( transformData.parentMatrixWorld ) lParentGX = transformData.parentMatrixWorld;\n\n\t\t// Global Rotation\n\t\tvar lLRM = lPreRotationM.multiply( lRotationM ).multiply( lPostRotationM );\n\t\tvar lParentGRM = new THREE.Matrix4();\n\t\tlParentGX.extractRotation( lParentGRM );\n\n\t\t// Global Shear*Scaling\n\t\tvar lParentTM = new THREE.Matrix4();\n\t\tvar lLSM;\n\t\tvar lParentGSM;\n\t\tvar lParentGRSM;\n\n\t\tlParentTM.copyPosition( lParentGX );\n\t\tlParentGRSM = lParentTM.getInverse( lParentTM ).multiply( lParentGX );\n\t\tlParentGSM = lParentGRM.getInverse( lParentGRM ).multiply( lParentGRSM );\n\t\tlLSM = lScalingM;\n\n\t\tvar lGlobalRS;\n\t\tif ( inheritType === 0 ) {\n\n\t\t\tlGlobalRS = lParentGRM.multiply( lLRM ).multiply( lParentGSM ).multiply( lLSM );\n\n\t\t} else if ( inheritType === 1 ) {\n\n\t\t\tlGlobalRS = lParentGRM.multiply( lParentGSM ).multiply( lLRM ).multiply( lLSM );\n\n\t\t} else {\n\n\t\t\tvar lParentLSM = new THREE.Matrix4().copy( lScalingM );\n\n\t\t\tvar lParentGSM_noLocal = lParentGSM.multiply( lParentLSM.getInverse( lParentLSM ) );\n\n\t\t\tlGlobalRS = lParentGRM.multiply( lLRM ).multiply( lParentGSM_noLocal ).multiply( lLSM );\n\n\t\t}\n\n\t\t// Calculate the local transform matrix\n\t\tvar lTransform = lTranslationM.multiply( lRotationOffsetM ).multiply( lRotationPivotM ).multiply( lPreRotationM ).multiply( lRotationM ).multiply( lPostRotationM ).multiply( lRotationPivotM.getInverse( lRotationPivotM ) ).multiply( lScalingOffsetM ).multiply( lScalingPivotM ).multiply( lScalingM ).multiply( lScalingPivotM.getInverse( lScalingPivotM ) );\n\n\t\tvar lLocalTWithAllPivotAndOffsetInfo = new THREE.Matrix4().copyPosition( lTransform );\n\n\t\tvar lGlobalTranslation = lParentGX.multiply( lLocalTWithAllPivotAndOffsetInfo );\n\t\tlGlobalT.copyPosition( lGlobalTranslation );\n\n\t\tlTransform = lGlobalT.multiply( lGlobalRS );\n\n\t\treturn lTransform;\n\n\t}\n\n\t// Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n\t// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\n\tfunction getEulerOrder( order ) {\n\n\t\torder = order || 0;\n\n\t\tvar enums = [\n\t\t\t'ZYX', // -> XYZ extrinsic\n\t\t\t'YZX', // -> XZY extrinsic\n\t\t\t'XZY', // -> YZX extrinsic\n\t\t\t'ZXY', // -> YXZ extrinsic\n\t\t\t'YXZ', // -> ZXY extrinsic\n\t\t\t'XYZ', // -> ZYX extrinsic\n\t\t\t//'SphericXYZ', // not possible to support\n\t\t];\n\n\t\tif ( order === 6 ) {\n\n\t\t\tconsole.warn( 'THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.' );\n\t\t\treturn enums[ 0 ];\n\n\t\t}\n\n\t\treturn enums[ order ];\n\n\t}\n\n\t// Parses comma separated list of numbers and returns them an array.\n\t// Used internally by the TextParser\n\tfunction parseNumberArray( value ) {\n\n\t\tvar array = value.split( ',' ).map( function ( val ) {\n\n\t\t\treturn parseFloat( val );\n\n\t\t} );\n\n\t\treturn array;\n\n\t}\n\n\tfunction convertArrayBufferToString( buffer, from, to ) {\n\n\t\tif ( from === undefined ) from = 0;\n\t\tif ( to === undefined ) to = buffer.byteLength;\n\n\t\treturn THREE.LoaderUtils.decodeText( new Uint8Array( buffer, from, to ) );\n\n\t}\n\n\tfunction append( a, b ) {\n\n\t\tfor ( var i = 0, j = a.length, l = b.length; i < l; i ++, j ++ ) {\n\n\t\t\ta[ j ] = b[ i ];\n\n\t\t}\n\n\t}\n\n\tfunction slice( a, b, from, to ) {\n\n\t\tfor ( var i = from, j = 0; i < to; i ++, j ++ ) {\n\n\t\t\ta[ j ] = b[ i ];\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\t// inject array a2 into array a1 at index\n\tfunction inject( a1, index, a2 ) {\n\n\t\treturn a1.slice( 0, index ).concat( a2 ).concat( a1.slice( index ) );\n\n\t}\n\n\treturn FBXLoader;\n\n} )();\n","<template>\n  <!-- 挂载点 -->\n  <div style=\"width: 100%; height: 100%; margin: 0; border: 0; padding: 0;\">\n    <canvas v-if=\"suportWebGL\" ref=\"stage\" style=\"width: 100%; height: 100%;\"></canvas>\n    <div v-else>\n      <slot>浏览器不支持WebGL</slot>\n    </div>\n  </div>\n</template>\n<script>\nimport \"./plugins/OrbitControls\";\nimport \"./plugins/OBJLoader\";\nimport \"./plugins/FBXLoader\";\n\nimport {\n  CubeTextureLoader,\n  Scene,\n  WebGLRenderer,\n  PerspectiveCamera,\n  AmbientLight,\n  DirectionalLight,\n  OrbitControls\n} from \"three\";\n\n//判断浏览器是否支持WebGL\nconst suportWebGL = (() => {\n  try {\n    var canvas = document.createElement(\"canvas\");\n    return !!(\n      window.WebGLRenderingContext &&\n      (canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"))\n    );\n  } catch (e) {\n    return false;\n  }\n})();\n\nexport default {\n  props: [\"componentsInfo\", \"cameraControll\"],\n  data() {\n    return {\n      //requestAnimationFrame ID\n      reqId: null,\n      //浏览器是否支持WebGL\n      suportWebGL,\n      //相机\n      camera: null,\n      //场景\n      scene: new Scene(),\n      //相机控制器\n      control: null\n    };\n  },\n  //在DOM上树后进行初始化\n  mounted() {\n    //相机设置\n    this.camera = new PerspectiveCamera(\n      45,\n      this.$el.offsetWidth / this.$el.offsetHeight,\n      0.01,\n      100000\n    );\n    //灯光\n    this.scene.add(new AmbientLight(0xffffff));\n    //天空盒\n    this.scene.background = new CubeTextureLoader()\n      .setPath(\"/img/skybox/\")\n      .load([\"px.jpg\", \"nx.jpg\", \"py.jpg\", \"ny.jpg\", \"pz.jpg\", \"nz.jpg\"]);\n    //相机控制器\n    this.control = new OrbitControls(this.camera, this.$refs.stage);\n    //固定视角\n    this.camera.position.y = this.cameraControll.height;\n    this.control.target.set(0, this.cameraControll.height, 0);\n    this.control.minDistance = this.cameraControll.distance;\n    this.control.maxDistance = this.cameraControll.distance;\n    // this.control.maxPolarAngle = Math.PI / 2;\n    // this.control.minPolarAngle = Math.PI / 2;\n    this.control.enablePan = false;\n    this.control.enableKeys = false;\n    this.control.update();\n    //初始化渲染器\n    this.renderer = new WebGLRenderer({\n      antialias: true,\n      preserveDrawingBuffer: true,\n      alpha: true,\n      canvas: this.$refs.stage\n    });\n    this.onResize();\n    //浏览器自动重绘\n    this.animate();\n    //窗口进行拉伸需要更新\n    window.addEventListener(\"resize\", this.onResize, false);\n\n    // var grid = new GridHelper(20, 20, 0x0000ff, 0xff0000);\n    // grid.material.opacity = 0.2;\n    // grid.material.transparent = true;\n    // this.scene.add(grid);\n  },\n  //在组件销毁前要取消各种监听\n  beforeDestroy() {\n    //取消窗口拉伸监听\n    window.removeEventListener(\"resize\", this.onResize, false);\n    //取消浏览器自动重绘\n    cancelAnimationFrame(this.reqId);\n  },\n  methods: {\n    //窗口拉伸触发事件\n    onResize() {\n      let width = this.$el.offsetWidth,\n        height = this.$el.offsetHeight;\n      //相机更新\n      this.camera.aspect = width / height;\n      this.camera.updateProjectionMatrix();\n      //渲染器更新\n      this.renderer.setSize(width, height);\n      this.renderer.setPixelRatio(window.devicePixelRatio || 1);\n    },\n    //页面刷新重绘方法\n    animate() {\n      this.reqId = requestAnimationFrame(this.animate);\n      this.renderer.render(this.scene, this.camera);\n    },\n    updateScene() {\n      if (this.componentsInfo != null) {\n        this.componentsInfo.map(item => {\n          let modelIndex = item.modelSelected;\n          let textureIndex = item.textureSelected;\n          let modelObj = null;\n          if (item.models[modelIndex] != null) {\n            modelObj = item.models[modelIndex].obj;\n          }\n          let textureObj = null;\n          if (item.textures[textureIndex] != null) {\n            textureObj = item.textures[textureIndex].obj;\n          }\n          if (modelObj != null) {\n            if (textureObj != null) {\n              modelObj.traverse(child => {\n                if (child.isMesh) {\n                  //贴图放大\n                  textureObj.repeat.set(\n                    this.cameraControll.textureSize,\n                    this.cameraControll.textureSize\n                  );\n                  child.material.map = textureObj;\n                }\n              });\n            }\n            item.models.map((subItem, index) => {\n              if (subItem.obj != null) {\n                // if (subItem.obj.parent == null) {\n                //   this.scene.add(subItem.obj);\n                // }\n                this.scene.add(subItem.obj);\n                if (index == modelIndex) {\n                  subItem.obj.visible = true;\n                } else {\n                  subItem.obj.visible = false;\n                }\n              }\n            });\n          }\n        });\n      }\n    },\n    //获取当前的缩略图，并且返回为File\n    getCover() {\n      var dataurl = this.$refs.stage.toDataURL(\"image/jpeg\", 0.2);\n      var arr = dataurl.split(\",\"),\n        mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      return new File([u8arr], \"cover.jpg\", { type: mime });\n    }\n  },\n  watch: {\n    cameraControll: {\n      handler() {\n        if (!isNaN(this.cameraControll.height)) {\n          this.camera.position.y = this.cameraControll.height;\n          this.control.target.set(0, this.cameraControll.height, 0);\n          this.control.update();\n        }\n        if (!isNaN(this.cameraControll.distance)) {\n          this.control.minDistance = this.cameraControll.distance;\n          this.control.maxDistance = this.cameraControll.distance;\n          this.control.update();\n        }\n        if (!isNaN(this.cameraControll.textureSize)) {\n          this.updateScene();\n        }\n      },\n      deep: true\n    }\n  }\n};\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=053d82b9&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app dark id=\"keep\">\r\n    <!-- 侧边栏开始 -->\r\n    <v-navigation-drawer v-model=\"mainDrawer\" absolute fixed clipped app>\r\n      <v-list dense>\r\n        <v-layout row align-center>\r\n          <v-flex xs6>\r\n            <v-subheader>所有部件</v-subheader>\r\n          </v-flex>\r\n          <v-flex xs6 class=\"text-xs-right\">\r\n            <v-btn small flat @click=\"componentDialog=true\">编辑</v-btn>\r\n          </v-flex>\r\n        </v-layout>\r\n        <!-- 部件列表开始 -->\r\n        <v-list-group v-for=\"(item,index) in componentsInfo\" :key=\"index\">\r\n          <template v-slot:activator>\r\n            <v-list-tile>\r\n              <v-list-tile-content>\r\n                <v-list-tile-title>{{ item.componentName }}</v-list-tile-title>\r\n              </v-list-tile-content>\r\n            </v-list-tile>\r\n          </template>\r\n          <v-list-tile\r\n            color=\"amber lighten-1\"\r\n            v-for=\"(subItem,subIndex) in item.models\"\r\n            :key=\"subItem.fid\"\r\n            @click=\"modelChange(index,subIndex)\"\r\n          >\r\n            <v-list-tile-content>\r\n              <v-list-tile-title>\r\n                {{ subItem.name }}&nbsp;\r\n                <v-icon small v-if=\"subIndex==item.modelSelected\">arrow_left</v-icon>\r\n              </v-list-tile-title>\r\n            </v-list-tile-content>\r\n          </v-list-tile>\r\n          <v-divider/>\r\n          <v-container grid-list-sm fluid v-if=\"item.textures.length>0\">\r\n            <v-layout row wrap>\r\n              <v-flex v-for=\"(subItem,subIndex) in item.textures\" :key=\"subItem.fid\" xs2 d-flex>\r\n                <v-card flat tile class=\"d-flex\" @click=\"textureChange(index,subIndex)\">\r\n                  <v-img :src=\"subItem.path+'?size=60'\" aspect-ratio=\"1\" class=\"grey lighten-2\">\r\n                    <template v-slot:placeholder>\r\n                      <v-layout fill-height align-center justify-center ma-0>\r\n                        <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\r\n                      </v-layout>\r\n                    </template>\r\n                  </v-img>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n          <v-list-tile @click=\"componentIndex=index;waitUploadList=[];uploadDrawer = true\">\r\n            <v-list-tile-action>\r\n              <v-icon>cloud_upload</v-icon>\r\n            </v-list-tile-action>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title>上传模型文件</v-list-tile-title>\r\n            </v-list-tile-content>\r\n          </v-list-tile>\r\n          <v-list-tile @click=\"componentIndex=index;textureDialog=true\">\r\n            <v-list-tile-action>\r\n              <v-icon>picture_in_picture</v-icon>\r\n            </v-list-tile-action>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title>贴图文件管理</v-list-tile-title>\r\n            </v-list-tile-content>\r\n          </v-list-tile>\r\n        </v-list-group>\r\n        <!-- 部件列表结束 -->\r\n        <v-list-tile @click=\"addComponentDialog=true\">\r\n          <v-list-tile-action>\r\n            <v-icon>add</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>添加新部件</v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n      </v-list>\r\n      <!-- 相机参数 -->\r\n      <v-list two-line>\r\n        <v-list-tile>\r\n          <v-layout row>\r\n            <v-flex class=\"pr-3\">\r\n              <v-slider\r\n                label=\"相机高度\"\r\n                v-model=\"cameraControll.height\"\r\n                :max=\"cameraControll.heightMax\"\r\n                min=\"0\"\r\n              ></v-slider>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-list-tile>\r\n        <v-list-tile>\r\n          <v-layout row>\r\n            <v-flex class=\"pr-3\">\r\n              <v-slider\r\n                label=\"相机距离\"\r\n                v-model=\"cameraControll.distance\"\r\n                :max=\"cameraControll.distanceMax\"\r\n                min=\"0\"\r\n              ></v-slider>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-list-tile>\r\n        <v-list-tile>\r\n          <v-layout row>\r\n            <v-flex class=\"pr-3\">\r\n              <v-slider\r\n                label=\"贴图缩放\"\r\n                v-model=\"cameraControll.textureSize\"\r\n                max=\"100\"\r\n                min=\"1\"\r\n              ></v-slider>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-list-tile>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n    <!-- 侧边栏结束 -->\r\n    <!-- 工具栏开始 -->\r\n    <v-toolbar dark color=\"red\" app clipped-left>\r\n      <v-toolbar-side-icon @click=\"mainDrawer = !mainDrawer\"></v-toolbar-side-icon>\r\n      <span class=\"title ml-3 mr-5\">\r\n        V3D&nbsp;\r\n        <span class=\"font-weight-light\">创建方案</span>\r\n      </span>\r\n      <v-spacer/>\r\n      <v-text-field v-model=\"name\" solo-inverted flat hide-details class=\"hidden-sm-and-down\"></v-text-field>\r\n      <v-spacer/>\r\n      <v-toolbar-items>\r\n        <v-btn icon>\r\n          <v-icon @click=\"settingDialog=true\">settings</v-icon>\r\n        </v-btn>\r\n        <v-btn icon>\r\n          <v-icon @click=\"refresh\">refresh</v-icon>\r\n        </v-btn>\r\n        <v-tooltip bottom>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn icon v-on=\"on\" @click=\"saveScheme\">\r\n              <v-icon>save</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <span>保存方案</span>\r\n        </v-tooltip>\r\n        <v-btn icon @click=\"exitDialog = true\">\r\n          <v-icon>exit_to_app</v-icon>\r\n        </v-btn>\r\n      </v-toolbar-items>\r\n    </v-toolbar>\r\n    <!-- 工具栏结束 -->\r\n    <!-- 诡异的样式问题 -->\r\n    <v-content style=\"height:0px;background-color:#ddd\">\r\n      <ThreeStage\r\n        :components-info=\"componentsInfo\"\r\n        :camera-controll=\"cameraControll\"\r\n        ref=\"threeStage\"\r\n      />\r\n    </v-content>\r\n    <!-- 右侧drawer开始 -->\r\n    <v-navigation-drawer v-model=\"uploadDrawer\" right temporary fixed>\r\n      <input\r\n        type=\"file\"\r\n        multiple=\"multiple\"\r\n        ref=\"file\"\r\n        style=\"display:none\"\r\n        accept=\".fbx, .obj\"\r\n        @change=\"fileChange\"\r\n      >\r\n      <v-list>\r\n        <v-subheader\r\n          v-if=\"componentsInfo[componentIndex]\"\r\n        >{{componentsInfo[componentIndex].componentName}} - 待上传文件</v-subheader>\r\n        <div v-for=\"(item,index) in waitUploadList\" :key=\"index\">\r\n          <v-list-tile>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title v-text=\"item.name\"></v-list-tile-title>\r\n              <v-list-tile-sub-title>{{item.size|fileSize}}</v-list-tile-sub-title>\r\n            </v-list-tile-content>\r\n            <v-list-tile-action>\r\n              <v-btn icon ripple @click=\"waitUploadList.splice(index, 1)\">\r\n                <v-icon color=\"grey lighten-1\">cancel</v-icon>\r\n              </v-btn>\r\n            </v-list-tile-action>\r\n          </v-list-tile>\r\n          <v-divider></v-divider>\r\n        </div>\r\n        <v-list-tile>\r\n          <v-list-tile-content>\r\n            <v-btn block dark color=\"blue\" @click=\"$refs.file.click()\">\r\n              选择文件\r\n              <v-icon right dark>folder_open</v-icon>\r\n            </v-btn>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n        <v-list-tile>\r\n          <v-list-tile-content>\r\n            <v-btn block dark color=\"red\" @click=\"uploadModel\">\r\n              开始上传\r\n              <v-icon right dark>cloud_upload</v-icon>\r\n            </v-btn>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n    <!-- 右侧drawer结束 -->\r\n    <!-- 贴图管理 开始 -->\r\n    <v-dialog v-model=\"textureDialog\" persistent max-width=\"600px\">\r\n      <input\r\n        type=\"file\"\r\n        multiple=\"multiple\"\r\n        ref=\"textureFile\"\r\n        style=\"display:none\"\r\n        accept=\".jpg, .png\"\r\n        @change=\"textureFileChange\"\r\n      >\r\n      <v-card light>\r\n        <v-card-title>\r\n          <span\r\n            class=\"headline\"\r\n            v-if=\"componentsInfo[componentIndex]\"\r\n          >{{componentsInfo[componentIndex].componentName}} - 贴图管理</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-container grid-list-sm fluid v-if=\"componentsInfo[componentIndex]\">\r\n            <v-layout row wrap>\r\n              <v-flex\r\n                v-for=\"(item,index) in componentsInfo[componentIndex].textures\"\r\n                :key=\"item.name\"\r\n                xs1\r\n                d-flex\r\n                @click=\"delTexture(componentIndex,index)\"\r\n              >\r\n                <v-card flat tile class=\"d-flex elevation-1\">\r\n                  <v-img :src=\"item.path+'?size=40'\" aspect-ratio=\"1\" class=\"grey lighten-2\">\r\n                    <template v-slot:placeholder>\r\n                      <v-layout fill-height align-center justify-center ma-0>\r\n                        <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\r\n                      </v-layout>\r\n                    </template>\r\n                  </v-img>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n          <small style=\"display:block;text-align:right;color:#aaa\" class=\"pr-4\">*单击可删除贴图</small>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-btn color=\"blue\" flat @click=\"$refs.textureFile.click()\">添加贴图</v-btn>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"red\" flat @click=\"textureDialog = false\">确定</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 贴图管理 结束 -->\r\n    <!-- 部件管理 开始 -->\r\n    <v-dialog v-model=\"componentDialog\" max-width=\"600px\">\r\n      <v-card light>\r\n        <v-card-text>\r\n          <v-tabs v-model=\"tabActive\" color=\"red\" dark slider-color=\"yellow\">\r\n            <v-tab v-for=\"(item,index) in componentsInfo\" :key=\"index\" ripple>{{item.componentName}}</v-tab>\r\n            <v-tab-item v-for=\"(item,index) in componentsInfo\" :key=\"index\">\r\n              <v-card flat>\r\n                <v-card-text>\r\n                  <v-list>\r\n                    <div v-for=\"(subItem,subIndex) in item.models\" :key=\"subItem.fid\">\r\n                      <v-list-tile>\r\n                        <v-list-tile-content>\r\n                          <v-text-field\r\n                            v-model=\"componentsInfo[index].models[subIndex].name\"\r\n                            single-line\r\n                            full-width\r\n                            hide-details\r\n                          ></v-text-field>\r\n                        </v-list-tile-content>\r\n                        <v-list-tile-content class=\"align-end\">\r\n                          <v-btn icon ripple @click=\"delModel(index, subIndex)\">\r\n                            <v-icon color=\"grey lighten-1\">cancel</v-icon>\r\n                          </v-btn>\r\n                        </v-list-tile-content>\r\n                      </v-list-tile>\r\n                      <v-divider/>\r\n                    </div>\r\n                  </v-list>\r\n                </v-card-text>\r\n              </v-card>\r\n              <div class=\"text-xs-center\">\r\n                <v-btn round color=\"primary\" outline @click=\"delComponent(index)\">删除该部件</v-btn>\r\n              </div>\r\n            </v-tab-item>\r\n          </v-tabs>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            color=\"red\"\r\n            flat\r\n            @click=\"componentDialog = false\"\r\n            item-text=\"componentName\"\r\n            item-children=\"models\"\r\n          >确定</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 部件管理 结束 -->\r\n    <!-- 添加部件模态框 开始-->\r\n    <v-dialog v-model=\"addComponentDialog\" width=\"500\">\r\n      <v-card>\r\n        <v-toolbar dark color=\"red\">\r\n          <v-toolbar-title>添加新部件</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-btn icon dark @click=\"addComponentDialog = false\">\r\n            <v-icon>close</v-icon>\r\n          </v-btn>\r\n        </v-toolbar>\r\n        <v-card-text>\r\n          <v-text-field label=\"部件名称\" color=\"red\" v-model=\"componentName\"></v-text-field>\r\n        </v-card-text>\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn dark flat @click=\"addComponent\">添加</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 添加部件模态框  结束 -->\r\n    <!-- 文件上传进度模态框 开始 -->\r\n    <v-dialog v-model=\"uploadingDialog\" persistent width=\"300\">\r\n      <v-card color=\"red\" dark>\r\n        <v-card-text>\r\n          文件上传中\r\n          <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 文件上传进度模态框 结束-->\r\n    <!-- 文件加载进度模态框 开始 -->\r\n    <v-dialog v-model=\"downloadingDialog\" persistent width=\"300\">\r\n      <v-card color=\"red\" dark>\r\n        <v-card-text>\r\n          文件加载中\r\n          <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 文件加载进度模态框 结束-->\r\n    <!-- 退出保存模态框 开始 -->\r\n    <v-dialog v-model=\"exitDialog\" width=\"300\">\r\n      <v-card>\r\n        <v-card-text>是否保存当前修改？</v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn flat @click=\"$router.push('/home')\">直接退出</v-btn>\r\n          <v-btn flat @click=\"saveScheme();$router.push('/home')\">保存退出</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 退出保存模态框 结束 -->\r\n    <!-- 设置开始 -->\r\n    <v-dialog v-model=\"settingDialog\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\r\n      <v-card light>\r\n        <v-toolbar dark color=\"primary\">\r\n          <v-btn icon dark @click=\"settingDialog = false\">\r\n            <v-icon>close</v-icon>\r\n          </v-btn>\r\n          <v-toolbar-title>设置</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-toolbar-items>\r\n            <v-btn dark flat @click=\"saveSetting\">确定</v-btn>\r\n          </v-toolbar-items>\r\n        </v-toolbar>\r\n        <v-list three-line subheader>\r\n          <v-subheader>相机参数</v-subheader>\r\n          <v-list-tile avatar>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title>相机最大高度</v-list-tile-title>\r\n              <v-list-tile-sub-title>\r\n                <v-flex shrink style=\"width: 60px\">\r\n                  <v-text-field\r\n                    v-model=\"cameraControll.heightMax\"\r\n                    class=\"mt-0\"\r\n                    hide-details\r\n                    single-line\r\n                    type=\"number\"\r\n                  ></v-text-field>\r\n                </v-flex>\r\n              </v-list-tile-sub-title>\r\n            </v-list-tile-content>\r\n          </v-list-tile>\r\n          <v-list-tile avatar>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title>相机最远距离</v-list-tile-title>\r\n              <v-list-tile-sub-title>\r\n                <v-flex shrink style=\"width: 60px\">\r\n                  <v-text-field\r\n                    v-model=\"cameraControll.distanceMax\"\r\n                    class=\"mt-0\"\r\n                    hide-details\r\n                    single-line\r\n                    type=\"number\"\r\n                  ></v-text-field>\r\n                </v-flex>\r\n              </v-list-tile-sub-title>\r\n            </v-list-tile-content>\r\n          </v-list-tile>\r\n          <v-divider></v-divider>\r\n          <v-subheader>方案分享</v-subheader>\r\n          <v-layout wrap class=\"ma-3\">\r\n            <v-flex xs12 sm8 class=\"pr-5\">\r\n              <v-switch label=\"开启分享\" color=\"red\" v-model=\"isShared\"></v-switch>\r\n              <v-text-field label=\"访问地址\" outline readonly :value=\"shareLink\"></v-text-field>\r\n              <input :value=\"shareLink\" ref=\"shareLink\" style=\"display:none\">\r\n              <input\r\n                :value=\"`<iframe src='${shareLink}' scrolling='no' frameborder='0' width='100%' height='100%'></iframe>`\"\r\n                ref=\"iframLink\"\r\n                style=\"display:none\"\r\n              >\r\n              <v-switch label=\"使用密码\" color=\"red\" v-model=\"hasPassword\"></v-switch>\r\n              <v-text-field\r\n                v-model=\"sharePassword\"\r\n                label=\"访问密码\"\r\n                :type=\"hasPassword&&showPassword ? 'text' : 'password'\"\r\n                :disabled=\"!hasPassword\"\r\n                :append-icon=\"hasPassword&&showPassword? 'visibility' : 'visibility_off'\"\r\n                @click:append=\"showPassword = !showPassword\"\r\n              ></v-text-field>\r\n            </v-flex>\r\n            <v-flex xs12 sm4>\r\n              <v-layout justify-end fill-height>\r\n                <v-flex align-self-end>\r\n                  <canvas ref=\"qr\"></canvas>\r\n                </v-flex>\r\n                <v-spacer/>\r\n                <v-layout column justify-end class=\"mb-3\">\r\n                  <a style=\"text-align:right\" class=\"ma-2\">\r\n                    关于IFrames地址的使用\r\n                    <v-icon small>help</v-icon>\r\n                  </a>\r\n                  <v-btn color=\"blue\" dark @click=\"copyIframe\">iframe地址</v-btn>\r\n                  <v-btn color=\"blue\" dark @click=\"copyLink\">复制访问地址</v-btn>\r\n                  <v-btn color=\"green\" dark @click=\"saveQR\">保存二维码</v-btn>\r\n                </v-layout>\r\n              </v-layout>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-list>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 设置结束 -->\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport \"../plugins/OBJLoader\";\r\nimport \"../plugins/FBXLoader\";\r\nimport {\r\n  LoadingManager,\r\n  TextureLoader,\r\n  OBJLoader,\r\n  FBXLoader,\r\n  DoubleSide\r\n} from \"three\";\r\nimport ThreeStage from \"../components/ThreeStage\";\r\nimport QRious from \"qrious\";\r\n\r\nexport default {\r\n  components: {\r\n    ThreeStage\r\n  },\r\n  props: [\"sid\"],\r\n  data: () => ({\r\n    //tab\r\n    tabActive: null,\r\n    //drawer\r\n    mainDrawer: false,\r\n    uploadDrawer: false,\r\n    //dialog\r\n    addComponentDialog: null,\r\n    uploadingDialog: null,\r\n    downloadingDialog: null,\r\n    exitDialog: null,\r\n    textureDialog: null,\r\n    settingDialog: null,\r\n    componentDialog: null,\r\n    //方案临时数据\r\n    componentIndex: null,\r\n    componentName: \"\",\r\n    waitUploadList: [],\r\n    //方案保存数据\r\n    name: \"\",\r\n    cameraControll: {\r\n      height: 10,\r\n      distance: 40,\r\n      textureSize:1,\r\n      heightMax: 200,\r\n      distanceMax: 200\r\n    },\r\n    componentsInfo: [],\r\n    //share\r\n    shareLink: \"\",\r\n    isShared: false,\r\n    hasPassword: false,\r\n    showPassword: false,\r\n    sharePassword: \"\"\r\n  }),\r\n  watch: {\r\n    //当创建dialog退出时候清空文本栏\r\n    addComponentDialog() {\r\n      this.componentName = \"\";\r\n    }\r\n  },\r\n  filters: {\r\n    fileSize: function(value) {\r\n      return (value / 1024 / 1024).toFixed(2) + \" MB\";\r\n    }\r\n  },\r\n  methods: {\r\n    saveSetting() {\r\n      let share = 0;\r\n      if (this.isShared) {\r\n        if (this.hasPassword) {\r\n          share = 2;\r\n        } else {\r\n          share = 1;\r\n        }\r\n      }\r\n      this.$http\r\n        .post(\r\n          \"/scheme/share\",\r\n          {\r\n            sid: this.sid,\r\n            share: share,\r\n            password: this.sharePassword\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n      this.settingDialog = false;\r\n    },\r\n    copyLink() {\r\n      this.$refs.shareLink.style.display = \"inline\";\r\n      this.$refs.shareLink.select();\r\n      document.execCommand(\"Copy\");\r\n      this.$refs.shareLink.style.display = \"none\";\r\n    },\r\n    copyIframe() {\r\n      this.$refs.iframLink.style.display = \"inline\";\r\n      this.$refs.iframLink.select();\r\n      document.execCommand(\"Copy\");\r\n      this.$refs.iframLink.style.display = \"none\";\r\n    },\r\n    saveQR() {\r\n      let a = document.createElement(\"a\");\r\n      a.href = this.$refs.qr.toDataURL(\"image/png\");\r\n      a.download = \"qr.png\";\r\n      let event = document.createEvent(\"MouseEvents\");\r\n      event.initEvent(\"click\", true, false);\r\n      a.dispatchEvent(event);\r\n    },\r\n    addComponent() {\r\n      let componentName = this.componentName.replace(/\\s+/g, \"\");\r\n      if (componentName.length > 0)\r\n        this.componentsInfo.push({\r\n          componentName,\r\n          modelSelected: -1,\r\n          textureSelected: -1,\r\n          models: [],\r\n          textures: []\r\n        });\r\n      this.addComponentDialog = false;\r\n    },\r\n    fileChange() {\r\n      for (var i = 0, j = this.$refs.file.files.length; i < j; i++) {\r\n        this.waitUploadList.push(this.$refs.file.files[i]);\r\n      }\r\n      //重置file input\r\n      this.$refs.file.value = \"\";\r\n    },\r\n    textureFileChange() {\r\n      if (this.$refs.textureFile.files.length > 0) {\r\n        this.uploadingDialog = true;\r\n        var formData = new FormData();\r\n        formData.append(\"sid\", this.sid);\r\n        for (var i = 0, j = this.$refs.textureFile.files.length; i < j; i++) {\r\n          formData.append(\"files\", this.$refs.textureFile.files[i]);\r\n        }\r\n        this.$http\r\n          .post(\"/file/uploadTexture\", formData, {\r\n            headers: { \"Content-Type\": \"multipart/form-data\" }\r\n          })\r\n          .then(\r\n            data => {\r\n              console.info(data);\r\n              if (data.body.code == 0) {\r\n                data.body.data.uploadReply.map(item => {\r\n                  this.componentsInfo[this.componentIndex].textures.push(item);\r\n                });\r\n              }\r\n              this.uploadingDialog = false;\r\n            },\r\n            error => {\r\n              console.info(error);\r\n            }\r\n          );\r\n        //重置file input\r\n        this.$refs.textureFile.value = \"\";\r\n      }\r\n    },\r\n    uploadModel() {\r\n      if (this.waitUploadList.length > 0) {\r\n        this.uploadDrawer = false;\r\n        this.uploadingDialog = true;\r\n        var formData = new FormData();\r\n        formData.append(\"sid\", this.sid);\r\n        this.waitUploadList.map(item => {\r\n          formData.append(\"files\", item);\r\n        });\r\n        this.$http\r\n          .post(\"/file/uploadModel\", formData, {\r\n            headers: { \"Content-Type\": \"multipart/form-data\" }\r\n          })\r\n          .then(\r\n            data => {\r\n              console.info(data);\r\n              if (data.body.code == 0) {\r\n                data.body.data.uploadReply.map(item => {\r\n                  this.componentsInfo[this.componentIndex].models.push(item);\r\n                });\r\n              }\r\n              this.uploadingDialog = false;\r\n            },\r\n            error => {\r\n              console.info(error);\r\n            }\r\n          );\r\n      }\r\n    },\r\n    refresh() {\r\n      this.$http.get(\"/scheme/\" + this.sid, {}, {}).then(\r\n        data => {\r\n          console.info(data);\r\n          if (data.body.code == 0) {\r\n            this.name = data.body.data.name;\r\n            this.shareLink = data.body.data.shareLink;\r\n            this.sharePassword = data.body.data.password;\r\n            var qr = new QRious({\r\n              element: this.$refs.qr,\r\n              size: 250,\r\n              level: \"L\",\r\n              foreground: \"#424242\",\r\n              background: \"#fff\",\r\n              value: this.shareLink\r\n            });\r\n            switch (data.body.data.share) {\r\n              case 0:\r\n                this.isShared = false;\r\n                this.hasPassword = false;\r\n                break;\r\n              case 1:\r\n                this.isShared = true;\r\n                this.hasPassword = false;\r\n                break;\r\n              case 2:\r\n                this.isShared = true;\r\n                this.hasPassword = true;\r\n                break;\r\n            }\r\n            let componentsInfo = JSON.parse(data.body.data.data);\r\n            let cameraControll = JSON.parse(data.body.data.camera);\r\n            if (componentsInfo) this.componentsInfo = componentsInfo;\r\n            if (cameraControll) this.cameraControll = cameraControll;\r\n            let manager = new LoadingManager(() => {\r\n              this.downloadingDialog = false;\r\n            });\r\n            this.componentsInfo.map((item, index) => {\r\n              let modelIndex = item.modelSelected;\r\n              let textureIndex = item.textureSelected;\r\n\r\n              if (item.models[modelIndex] != null) {\r\n                this.downloadingDialog = true;\r\n                this.modelChange(index, modelIndex, manager);\r\n              }\r\n              if (item.textures[textureIndex] != null) {\r\n                this.downloadingDialog = true;\r\n                this.textureChange(index, textureIndex, manager);\r\n              }\r\n            });\r\n          } else if (data.body.code == 2) {\r\n            this.$router.push(\"/\");\r\n          } else {\r\n            this.$router.push(\"/home\");\r\n          }\r\n        },\r\n        error => {\r\n          console.info(error);\r\n        }\r\n      );\r\n    },\r\n    saveScheme() {\r\n      var formData = new FormData();\r\n      formData.append(\"sid\", this.sid);\r\n      formData.append(\"name\", this.name);\r\n      formData.append(\"file\", this.$refs.threeStage.getCover());\r\n      //清空缓存的obj\r\n      formData.append(\r\n        \"data\",\r\n        JSON.stringify(this.componentsInfo, (key, value) => {\r\n          if (key == \"obj\") {\r\n            return null;\r\n          } else {\r\n            return value;\r\n          }\r\n        })\r\n      );\r\n      formData.append(\"camera\", JSON.stringify(this.cameraControll));\r\n      this.$http\r\n        .post(\"/scheme/save\", formData, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        })\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    },\r\n    modelChange(componentIndex, modelIndex, manager) {\r\n      if (manager == null) {\r\n        this.downloadingDialog = true;\r\n        manager = new LoadingManager(() => {\r\n          this.downloadingDialog = false;\r\n        });\r\n      }\r\n      let model = this.componentsInfo[componentIndex].models[modelIndex];\r\n      if (model.obj == null) {\r\n        //obj\r\n        if (\r\n          model.path\r\n            .split(\".\")\r\n            .pop()\r\n            .toLowerCase() === \"obj\"\r\n        ) {\r\n          new OBJLoader(manager).load(\r\n            model.path,\r\n            //success回调\r\n            obj => {\r\n              obj.traverse(child => {\r\n                if (child.isMesh) {\r\n                  child.material.side = DoubleSide;\r\n                }\r\n              });\r\n              model.obj = obj;\r\n              this.componentsInfo[componentIndex].modelSelected = modelIndex;\r\n              this.$refs.threeStage.updateScene();\r\n            }\r\n          );\r\n          //fbx\r\n        } else if (\r\n          model.path\r\n            .split(\".\")\r\n            .pop()\r\n            .toLowerCase() === \"fbx\"\r\n        ) {\r\n          new FBXLoader(manager).load(\r\n            model.path,\r\n            obj => {\r\n              obj.traverse(child => {\r\n                if (child.isMesh) {\r\n                  child.material.side = DoubleSide;\r\n                }\r\n              });\r\n              model.obj = obj;\r\n              this.componentsInfo[componentIndex].modelSelected = modelIndex;\r\n              this.$refs.threeStage.updateScene();\r\n            },\r\n            xhr => {\r\n              if (xhr.lengthComputable) {\r\n                // console.info((xhr.loaded / xhr.total) * 100);\r\n              }\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        this.componentsInfo[componentIndex].modelSelected = modelIndex;\r\n        this.$refs.threeStage.updateScene();\r\n        this.downloadingDialog = false;\r\n      }\r\n    },\r\n    textureChange(componentIndex, textureIndex, manager) {\r\n      if (manager == null) {\r\n        this.downloadingDialog = true;\r\n        manager = new LoadingManager(() => {\r\n          this.downloadingDialog = false;\r\n        });\r\n      }\r\n      let texture = this.componentsInfo[componentIndex].textures[textureIndex];\r\n      if (texture.obj == null) {\r\n        new TextureLoader(manager).load(texture.path, obj => {\r\n          texture.obj = obj;\r\n          this.componentsInfo[componentIndex].textureSelected = textureIndex;\r\n          this.$refs.threeStage.updateScene();\r\n        });\r\n      } else {\r\n        this.componentsInfo[componentIndex].textureSelected = textureIndex;\r\n        this.$refs.threeStage.updateScene();\r\n        this.downloadingDialog = false;\r\n      }\r\n    },\r\n    delTexture(componentIndex, textureIndex) {\r\n      this.componentsInfo[componentIndex].textures.splice(textureIndex, 1);\r\n    },\r\n    delModel(componentIndex, modelIndex) {\r\n      let model = this.componentsInfo[componentIndex].models[modelIndex].obj;\r\n      if (model != null) {\r\n        model.parent.remove(model);\r\n      }\r\n      this.componentsInfo[componentIndex].models.splice(modelIndex, 1);\r\n    },\r\n    delComponent(componentIndex) {\r\n      for (let component of this.componentsInfo[componentIndex].models) {\r\n        if (component.obj != null) {\r\n          component.obj.parent.remove(component.obj);\r\n        }\r\n      }\r\n      this.componentsInfo.splice(componentIndex, 1);\r\n    }\r\n  },\r\n  created() {\r\n    this.refresh();\r\n  }\r\n};\r\n</script>\r\n<style >\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=15f917e8&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!F:/vue/v3dmodel/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VDivider } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListGroup } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileSubTitle } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VProgressCircular } from 'vuetify/lib'\nimport { VProgressLinear } from 'vuetify/lib'\nimport { VSlider } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VSubheader } from 'vuetify/lib'\nimport { VSwitch } from 'vuetify/lib'\nimport { VTab } from 'vuetify/lib'\nimport { VTabItem } from 'vuetify/lib'\nimport { VTabs } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\nimport { VToolbarSideIcon } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\nimport { VTooltip } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VContent,VDialog,VDivider,VFlex,VIcon,VImg,VLayout,VList,VListGroup,VListTile,VListTileAction,VListTileContent,VListTileSubTitle,VListTileTitle,VNavigationDrawer,VProgressCircular,VProgressLinear,VSlider,VSpacer,VSubheader,VSwitch,VTab,VTabItem,VTabs,VTextField,VToolbar,VToolbarItems,VToolbarSideIcon,VToolbarTitle,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-toolbar',{attrs:{\"color\":\"red\",\"dark\":\"\",\"app\":\"\",\"clipped-left\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){_vm.mainDrawer = !_vm.mainDrawer}}}),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.name))])],1),_c('v-content',{staticStyle:{\"height\":\"0px\",\"background-color\":\"#ddd\"}},[_c('ThreeStage',{ref:\"threeStage\",attrs:{\"components-info\":_vm.componentsInfo,\"camera-controll\":_vm.cameraControll}}),_c('v-speed-dial',{attrs:{\"bottom\":\"\",\"right\":\"\",\"direction\":\"top\",\"transition\":\"slide-y-reverse-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"red\",\"dark\":\"\",\"fab\":\"\"},model:{value:(_vm.fab),callback:function ($$v) {_vm.fab=$$v},expression:\"fab\"}},[_c('v-icon',[_vm._v(\"add\")]),_c('v-icon',[_vm._v(\"close\")])],1)]},proxy:true}]),model:{value:(_vm.fab),callback:function ($$v) {_vm.fab=$$v},expression:\"fab\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"blue\"},on:{\"click\":function($event){_vm.pulishDialog=true}}},[_c('v-icon',[_vm._v(\"edit\")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"green\"},on:{\"click\":function($event){_vm.getComment();_vm.commentDialog=true}}},[_c('v-icon',[_vm._v(\"comment\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"300\"},model:{value:(_vm.downloadingDialog),callback:function ($$v) {_vm.downloadingDialog=$$v},expression:\"downloadingDialog\"}},[_c('v-card',{attrs:{\"color\":\"red\",\"dark\":\"\"}},[_c('v-card-text',[_vm._v(\"\\n        文件加载中\\n        \"),_c('v-progress-linear',{staticClass:\"mb-0\",attrs:{\"indeterminate\":\"\",\"color\":\"white\"}})],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.passwordDialog),callback:function ($$v) {_vm.passwordDialog=$$v},expression:\"passwordDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"该项目需要密码访问\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"密码\",\"outline\":\"\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"flat\":\"\"},on:{\"click\":_vm.customer}},[_vm._v(\"确定\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.pulishDialog),callback:function ($$v) {_vm.pulishDialog=$$v},expression:\"pulishDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"发表评论\")]),_c('v-divider'),_c('v-card-text',[_c('v-text-field',{attrs:{\"single-line\":\"\",\"outline\":\"\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"flat\":\"\"},on:{\"click\":_vm.pulish}},[_vm._v(\"发表\")])],1)],1)],1),_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"800px\"},model:{value:(_vm.commentDialog),callback:function ($$v) {_vm.commentDialog=$$v},expression:\"commentDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"font-weight-bold headline\"},[_vm._v(\"评论区\")]),_c('v-divider'),_c('v-card-text',{staticStyle:{\"height\":\"300px\"}},[_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.commentList),function(item){return _c('div',{key:item.time},[_c('v-list-tile',[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.text))]),_c('v-list-tile-sub-title',{staticClass:\"text--primary text-xs-right\"},[_vm._v(_vm._s(_vm._f(\"timeFilter\")(item.time)))])],1)],1),_c('v-divider')],1)}),0)],1)],1)],1),_c('v-navigation-drawer',{attrs:{\"absolute\":\"\",\"fixed\":\"\",\"clipped\":\"\",\"app\":\"\"},model:{value:(_vm.mainDrawer),callback:function ($$v) {_vm.mainDrawer=$$v},expression:\"mainDrawer\"}},[_c('v-tabs',{attrs:{\"color\":\"red\",\"dark\":\"\",\"align-with-title\":\"\",\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"yellow\"}}),_vm._l((_vm.componentsInfo),function(item,index){return _c('v-tab',{key:index,attrs:{\"ripple\":\"\"}},[_vm._v(_vm._s(item.componentName))])})],2),_c('v-tabs-items',{staticStyle:{\"position\":\"absolute\",\"buttom\":\"0px\",\"width\":\"100%\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.componentsInfo),function(item,index){return _c('v-tab-item',{key:index},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',[_vm._l((item.models),function(subItem,subIndex){return _c('v-list-tile',{key:subItem.fid,attrs:{\"color\":\"amber lighten-1\"},on:{\"click\":function($event){return _vm.modelChange(index,subIndex)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                  \"+_vm._s(subItem.name)+\" \\n                  \"),(subIndex==item.modelSelected)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_left\")]):_vm._e()],1)],1)],1)}),_c('v-divider'),(item.textures.length>0)?_c('v-container',{attrs:{\"grid-list-sm\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((item.textures),function(subItem,subIndex){return _c('v-flex',{key:subItem.fid,attrs:{\"xs2\":\"\",\"d-flex\":\"\"}},[_c('v-card',{staticClass:\"d-flex\",attrs:{\"flat\":\"\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.textureChange(index,subIndex)}}},[_c('v-img',{staticClass:\"grey lighten-2\",attrs:{\"src\":subItem.path+'?size=60',\"aspect-ratio\":\"1\"},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-layout',{attrs:{\"fill-height\":\"\",\"align-center\":\"\",\"justify-center\":\"\",\"ma-0\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1)],1)}),1)],1):_vm._e()],2)],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app>\r\n    <v-toolbar color=\"red\" dark app clipped-left>\r\n      <v-toolbar-side-icon @click=\"mainDrawer = !mainDrawer\"></v-toolbar-side-icon>\r\n      <v-toolbar-title>{{name}}</v-toolbar-title>\r\n    </v-toolbar>\r\n    <v-content style=\"height:0px;background-color:#ddd\">\r\n      <ThreeStage\r\n        :components-info=\"componentsInfo\"\r\n        :camera-controll=\"cameraControll\"\r\n        ref=\"threeStage\"\r\n      />\r\n      <v-speed-dial\r\n        v-model=\"fab\"\r\n        bottom\r\n        right\r\n        direction=\"top\"\r\n        transition=\"slide-y-reverse-transition\"\r\n      >\r\n        <template v-slot:activator>\r\n          <v-btn v-model=\"fab\" color=\"red\" dark fab>\r\n            <v-icon>add</v-icon>\r\n            <v-icon>close</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <v-btn fab dark small color=\"blue\" @click=\"pulishDialog=true\">\r\n          <v-icon>edit</v-icon>\r\n        </v-btn>\r\n        <v-btn fab dark small color=\"green\" @click=\"getComment();commentDialog=true\">\r\n          <v-icon>comment</v-icon>\r\n        </v-btn>\r\n      </v-speed-dial>\r\n    </v-content>\r\n    <!-- 文件加载进度模态框 开始 -->\r\n    <v-dialog v-model=\"downloadingDialog\" persistent width=\"300\">\r\n      <v-card color=\"red\" dark>\r\n        <v-card-text>\r\n          文件加载中\r\n          <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 文件加载进度模态框 结束-->\r\n    <!-- 密码 开始-->\r\n    <v-dialog v-model=\"passwordDialog\" persistent max-width=\"290\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">该项目需要密码访问</v-card-title>\r\n        <v-card-text>\r\n          <v-text-field label=\"密码\" outline v-model=\"password\" type=\"password\"></v-text-field>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"green darken-1\" flat @click=\"customer\">确定</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 密码 结束-->\r\n    <!-- 发表评论 开始 -->\r\n    <v-dialog v-model=\"pulishDialog\" max-width=\"500px\">\r\n      <v-card>\r\n        <v-card-title>发表评论</v-card-title>\r\n        <v-divider/>\r\n        <v-card-text>\r\n          <v-text-field single-line outline v-model=\"text\"></v-text-field>\r\n        </v-card-text>\r\n        <v-divider/>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"green darken-1\" flat @click=\"pulish\">发表</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 发表评论 结束 -->\r\n    <!-- 评论区 开始 -->\r\n    <v-dialog v-model=\"commentDialog\" scrollable max-width=\"800px\">\r\n      <v-card>\r\n        <v-card-title class=\"font-weight-bold headline\">评论区</v-card-title>\r\n        <v-divider></v-divider>\r\n        <v-card-text style=\"height: 300px;\">\r\n          <v-list two-line>\r\n            <div v-for=\"item in commentList\" :key=\"item.time\">\r\n              <v-list-tile>\r\n                <v-list-tile-content>\r\n                  <v-list-tile-title>{{ item.text }}</v-list-tile-title>\r\n                  <v-list-tile-sub-title\r\n                    class=\"text--primary text-xs-right\"\r\n                  >{{ item.time|timeFilter }}</v-list-tile-sub-title>\r\n                </v-list-tile-content>\r\n              </v-list-tile>\r\n              <v-divider/>\r\n            </div>\r\n          </v-list>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- 评论区 结束 -->\r\n    <v-navigation-drawer v-model=\"mainDrawer\" absolute fixed clipped app>\r\n      <v-tabs v-model=\"tab\" color=\"red\" dark align-with-title show-arrows>\r\n        <v-tabs-slider color=\"yellow\"></v-tabs-slider>\r\n        <v-tab v-for=\"(item,index) in componentsInfo\" :key=\"index\" ripple>{{item.componentName}}</v-tab>\r\n      </v-tabs>\r\n      <v-tabs-items v-model=\"tab\" style=\"position:absolute;buttom:0px;width:100%\">\r\n        <v-tab-item v-for=\"(item,index) in componentsInfo\" :key=\"index\">\r\n          <v-card flat>\r\n            <v-card-text>\r\n              <v-list-tile\r\n                color=\"amber lighten-1\"\r\n                v-for=\"(subItem,subIndex) in item.models\"\r\n                :key=\"subItem.fid\"\r\n                @click=\"modelChange(index,subIndex)\"\r\n              >\r\n                <v-list-tile-content>\r\n                  <v-list-tile-title>\r\n                    {{ subItem.name }}&nbsp;\r\n                    <v-icon small v-if=\"subIndex==item.modelSelected\">arrow_left</v-icon>\r\n                  </v-list-tile-title>\r\n                </v-list-tile-content>\r\n              </v-list-tile>\r\n              <v-divider/>\r\n              <v-container grid-list-sm fluid v-if=\"item.textures.length>0\">\r\n                <v-layout row wrap>\r\n                  <v-flex v-for=\"(subItem,subIndex) in item.textures\" :key=\"subItem.fid\" xs2 d-flex>\r\n                    <v-card flat tile class=\"d-flex\" @click=\"textureChange(index,subIndex)\">\r\n                      <v-img :src=\"subItem.path+'?size=60'\" aspect-ratio=\"1\" class=\"grey lighten-2\">\r\n                        <template v-slot:placeholder>\r\n                          <v-layout fill-height align-center justify-center ma-0>\r\n                            <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\r\n                          </v-layout>\r\n                        </template>\r\n                      </v-img>\r\n                    </v-card>\r\n                  </v-flex>\r\n                </v-layout>\r\n              </v-container>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n    </v-navigation-drawer>\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport \"../plugins/OBJLoader\";\r\nimport \"../plugins/FBXLoader\";\r\nimport {\r\n  LoadingManager,\r\n  TextureLoader,\r\n  OBJLoader,\r\n  FBXLoader,\r\n  DoubleSide\r\n} from \"three\";\r\nimport ThreeStage from \"../components/ThreeStage\";\r\nexport default {\r\n  components: {\r\n    ThreeStage\r\n  },\r\n  props: [\"sid\"],\r\n  data() {\r\n    return {\r\n      commentList: null,\r\n      text: \"\",\r\n      mainDrawer: false,\r\n      tab: null,\r\n      fab: false,\r\n      pulishDialog: null,\r\n      commentDialog: null,\r\n      downloadingDialog: null,\r\n      passwordDialog: null,\r\n      password: \"\",\r\n      name: \"\",\r\n      cameraControll: {\r\n        height: 10,\r\n        distance: 40,\r\n        heightMax: 200,\r\n        distanceMax: 200\r\n      },\r\n      componentsInfo: []\r\n    };\r\n  },\r\n  methods: {\r\n    getComment() {\r\n      this.$http.post(\"/show/getComment\", { sid: this.sid }, {}).then(\r\n        data => {\r\n          console.info(data);\r\n          if (data.body.code == 0) {\r\n            this.commentList = data.body.data;\r\n          }\r\n        },\r\n        error => {\r\n          console.info(error);\r\n        }\r\n      );\r\n    },\r\n    pulish() {\r\n      this.$http\r\n        .post(\"/show/comment\", { sid: this.sid, text: this.text }, {})\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n            if (data.body.code == 0) {\r\n              this.pulishDialog = false;\r\n            }\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    },\r\n    getSchemeInfo() {\r\n      this.$http.get(\"/scheme/\" + this.sid, {}, {}).then(\r\n        data => {\r\n          console.info(data);\r\n          if (data.body.code == 0) {\r\n            this.name = data.body.data.name;\r\n            let componentsInfo = JSON.parse(data.body.data.data);\r\n            let cameraControll = JSON.parse(data.body.data.camera);\r\n            if (componentsInfo) this.componentsInfo = componentsInfo;\r\n            if (cameraControll) this.cameraControll = cameraControll;\r\n            let manager = new LoadingManager(() => {\r\n              this.downloadingDialog = false;\r\n            });\r\n            this.componentsInfo.map((item, index) => {\r\n              let modelIndex = item.modelSelected;\r\n              let textureIndex = item.textureSelected;\r\n              if (item.models[modelIndex] != null) {\r\n                this.downloadingDialog = true;\r\n                this.modelChange(index, modelIndex, manager);\r\n              }\r\n              if (item.textures[textureIndex] != null) {\r\n                this.downloadingDialog = true;\r\n                this.textureChange(index, textureIndex, manager);\r\n              }\r\n            });\r\n          } else if (data.body.code == 2) {\r\n            this.$router.push(\"/\");\r\n          } else {\r\n            this.$router.push(\"/home\");\r\n          }\r\n        },\r\n        error => {\r\n          console.info(error);\r\n        }\r\n      );\r\n    },\r\n    modelChange(componentIndex, modelIndex, manager) {\r\n      if (manager == null) {\r\n        this.downloadingDialog = true;\r\n        manager = new LoadingManager(() => {\r\n          this.downloadingDialog = false;\r\n        });\r\n      }\r\n      let model = this.componentsInfo[componentIndex].models[modelIndex];\r\n      if (model.obj == null) {\r\n        //obj\r\n        if (\r\n          model.path\r\n            .split(\".\")\r\n            .pop()\r\n            .toLowerCase() === \"obj\"\r\n        ) {\r\n          new OBJLoader(manager).load(\r\n            model.path,\r\n            //success回调\r\n            obj => {\r\n              obj.traverse(child => {\r\n                if (child.isMesh) {\r\n                  child.material.side = DoubleSide;\r\n                }\r\n              });\r\n              model.obj = obj;\r\n              this.componentsInfo[componentIndex].modelSelected = modelIndex;\r\n              this.$refs.threeStage.updateScene();\r\n            }\r\n          );\r\n          //fbx\r\n        } else if (\r\n          model.path\r\n            .split(\".\")\r\n            .pop()\r\n            .toLowerCase() === \"fbx\"\r\n        ) {\r\n          new FBXLoader(manager).load(\r\n            model.path,\r\n            obj => {\r\n              obj.traverse(child => {\r\n                if (child.isMesh) {\r\n                  child.material.side = DoubleSide;\r\n                }\r\n              });\r\n              model.obj = obj;\r\n              this.componentsInfo[componentIndex].modelSelected = modelIndex;\r\n              this.$refs.threeStage.updateScene();\r\n            },\r\n            xhr => {\r\n              if (xhr.lengthComputable) {\r\n                // console.info((xhr.loaded / xhr.total) * 100);\r\n              }\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        this.componentsInfo[componentIndex].modelSelected = modelIndex;\r\n        this.$refs.threeStage.updateScene();\r\n        this.downloadingDialog = false;\r\n      }\r\n    },\r\n    textureChange(componentIndex, textureIndex, manager) {\r\n      if (manager == null) {\r\n        this.downloadingDialog = true;\r\n        manager = new LoadingManager(() => {\r\n          this.downloadingDialog = false;\r\n        });\r\n      }\r\n      let texture = this.componentsInfo[componentIndex].textures[textureIndex];\r\n      if (texture.obj == null) {\r\n        new TextureLoader(manager).load(texture.path, obj => {\r\n          texture.obj = obj;\r\n          this.componentsInfo[componentIndex].textureSelected = textureIndex;\r\n          this.$refs.threeStage.updateScene();\r\n        });\r\n      } else {\r\n        this.componentsInfo[componentIndex].textureSelected = textureIndex;\r\n        this.$refs.threeStage.updateScene();\r\n        this.downloadingDialog = false;\r\n      }\r\n    },\r\n    customer() {\r\n      this.$http\r\n        .post(\r\n          \"/show/customer\",\r\n          {\r\n            sid: this.sid,\r\n            password: this.password\r\n          },\r\n          {}\r\n        )\r\n        .then(\r\n          data => {\r\n            console.info(data);\r\n            if (data.body.code == 0) {\r\n              this.passwordDialog = false;\r\n              this.password = \"\";\r\n              this.getSchemeInfo();\r\n            } else {\r\n              this.password = \"\";\r\n            }\r\n          },\r\n          error => {\r\n            console.info(error);\r\n          }\r\n        );\r\n    }\r\n  },\r\n  watch: {\r\n    pulishDialog() {\r\n      this.text = \"\";\r\n    }\r\n  },\r\n  filters: {\r\n    timeFilter: function(value) {\r\n      var date = new Date();\r\n      date.setTime(value);\r\n      var month =\r\n        date.getMonth().toString().length > 1\r\n          ? date.getMonth()\r\n          : \"0\" + date.getMonth();\r\n      var day =\r\n        date.getDate().toString().length > 1\r\n          ? date.getDate()\r\n          : \"0\" + date.getDate();\r\n      var hour =\r\n        date.getHours().toString().length > 1\r\n          ? date.getHours()\r\n          : \"0\" + date.getHours();\r\n      var min =\r\n        date.getMinutes().toString().length > 1\r\n          ? date.getMinutes()\r\n          : \"0\" + date.getMinutes();\r\n      return (\r\n        date.getFullYear() + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + min\r\n      );\r\n    }\r\n  },\r\n  created() {\r\n    this.$http.get(\"/show/\" + this.sid, {}, {}).then(\r\n      data => {\r\n        if (data.body.code == 0) {\r\n          console.info(data);\r\n          let share = data.body.data.share;\r\n          if (share == 1) {\r\n            this.getSchemeInfo();\r\n          } else if (share == 2) {\r\n            this.passwordDialog = true;\r\n          }else{\r\n            this.$router.push(\"/refuse\")\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        console.info(error);\r\n      }\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-speed-dial {\r\n  position: absolute;\r\n}\r\n\r\n.v-btn--floating {\r\n  position: relative;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=2aed136f&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Show.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!F:/vue/v3dmodel/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VDivider } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileSubTitle } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VProgressCircular } from 'vuetify/lib'\nimport { VProgressLinear } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VSpeedDial } from 'vuetify/lib'\nimport { VTab } from 'vuetify/lib'\nimport { VTabItem } from 'vuetify/lib'\nimport { VTabs } from 'vuetify/lib'\nimport { VTabsItems } from 'vuetify/lib'\nimport { VTabsSlider } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarSideIcon } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VContent,VDialog,VDivider,VFlex,VIcon,VImg,VLayout,VList,VListTile,VListTileContent,VListTileSubTitle,VListTileTitle,VNavigationDrawer,VProgressCircular,VProgressLinear,VSpacer,VSpeedDial,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField,VToolbar,VToolbarSideIcon,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"\"}},[_c('v-content',{staticClass:\"body-2 text-xs-center\"},[_vm._v(\"无法获取数据！\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app dark>\r\n    <v-content class=\"body-2 text-xs-center\">无法获取数据！</v-content>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Refuse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Refuse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Refuse.vue?vue&type=template&id=6ce03339&\"\nimport script from \"./Refuse.vue?vue&type=script&lang=js&\"\nexport * from \"./Refuse.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!F:/vue/v3dmodel/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\ninstallComponents(component, {VApp,VContent})\n","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\nimport Login from './views/Login'\nimport Create from './views/Create'\nimport Show from './views/Show'\nimport Refuse from './views/Refuse'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      component: Login\n    },\n    {\n      path: '/home',\n      component: Home\n    },\n    {\n      path: '/create/:sid',\n      component: Create,\n      props: true\n    },\n    {\n      path: '/show/:sid',\n      component: Show,\n      props: true\n    },\n    {\n      path: '/refuse',\n      component: Refuse\n    },\n  ]\n})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n\n  },\n  mutations: {\n\n  },\n  actions: {\n\n  }\n})\n","import Vue from 'vue'\nimport './plugins/vuetify'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport VueResource from 'vue-resource'\n\nVue.config.productionTip = false\nVue.use(VueResource)\nVue.http.options.emulateJSON = true;\nVue.http.options.emulateHTTP = true;\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}